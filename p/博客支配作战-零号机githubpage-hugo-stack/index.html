<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="\u200d 本人第二代博客 零号机 搭建纪实 此文档已完结^（使用思域笔记完成）^ 可作为搭建个人博客参考, 但不保证完全符合需求 搭建于 Apr. 2024 Hugo-ex版本 v0.125.3">
<title>博客支配作战 零号机(GithubPage&#43;Hugo&#43;Stack)</title>

<link rel='canonical' href='https://spadektlsg.github.io/p/%E5%8D%9A%E5%AE%A2%E6%94%AF%E9%85%8D%E4%BD%9C%E6%88%98-%E9%9B%B6%E5%8F%B7%E6%9C%BAgithubpage-hugo-stack/'>

<link rel="stylesheet" href="/scss/style.min.67e1d55df895e92f972a3c6377b28d4465c25830c4976c898200217da8ea97f2.css"><meta property='og:title' content="博客支配作战 零号机(GithubPage+Hugo+Stack)">
<meta property='og:description' content="\u200d 本人第二代博客 零号机 搭建纪实 此文档已完结^（使用思域笔记完成）^ 可作为搭建个人博客参考, 但不保证完全符合需求 搭建于 Apr. 2024 Hugo-ex版本 v0.125.3">
<meta property='og:url' content='https://spadektlsg.github.io/p/%E5%8D%9A%E5%AE%A2%E6%94%AF%E9%85%8D%E4%BD%9C%E6%88%98-%E9%9B%B6%E5%8F%B7%E6%9C%BAgithubpage-hugo-stack/'>
<meta property='og:site_name' content='玄桃K的博客'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-04-28T08:50:40&#43;08:00'/><meta property='article:modified_time' content='2024-04-29T18:50:43&#43;08:00'/><meta property='og:image' content='https://spadektlsg.github.io/life/002/hono.png' />
<meta name="twitter:title" content="博客支配作战 零号机(GithubPage+Hugo+Stack)">
<meta name="twitter:description" content="\u200d 本人第二代博客 零号机 搭建纪实 此文档已完结^（使用思域笔记完成）^ 可作为搭建个人博客参考, 但不保证完全符合需求 搭建于 Apr. 2024 Hugo-ex版本 v0.125.3"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://spadektlsg.github.io/life/002/hono.png' />
    <link rel="shortcut icon" href="/sys/favicon.png" />

  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png" width="756"
                            height="749" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😋</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">玄桃K的博客</a></h1>
            <h2 class="site-description">还在打复活赛</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/SpadeKTLSG/'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291872628" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7497" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M153.770667 517.558857l200.387047-197.241905L302.86019 268.190476 48.761905 518.290286l254.439619 243.614476 50.590476-52.833524-200.021333-191.512381zM658.285714 320.316952L709.583238 268.190476l254.098286 250.09981L709.241905 761.904762l-50.590476-52.833524 200.021333-191.512381L658.285714 320.316952z m-112.981333-86.186666L393.99619 785.554286l70.534096 19.358476 151.30819-551.399619-70.534095-19.358476z" p-id="7498"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:spadekxcwxtlsg@gmail.com'
                        target="_blank"
                        title="Email"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291517604" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7497" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M926.47619 355.644952V780.190476a73.142857 73.142857 0 0 1-73.142857 73.142857H170.666667a73.142857 73.142857 0 0 1-73.142857-73.142857V355.644952l73.142857 62.000762V780.190476h682.666666V417.645714l73.142857-62.000762zM853.333333 170.666667a74.044952 74.044952 0 0 1 26.087619 4.778666 72.704 72.704 0 0 1 30.622477 22.186667 73.508571 73.508571 0 0 1 10.678857 17.67619c3.169524 7.509333 5.12 15.652571 5.607619 24.210286L926.47619 243.809524v24.380952L559.469714 581.241905a73.142857 73.142857 0 0 1-91.306666 2.901333l-3.632762-2.925714L97.52381 268.190476v-24.380952a72.899048 72.899048 0 0 1 40.155428-65.292191A72.97219 72.97219 0 0 1 170.666667 170.666667h682.666666z m-10.971428 73.142857H181.638095L512 525.58019 842.361905 243.809524z" p-id="7498"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://space.bilibili.com/363101711'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291537293" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7801" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M772.437333 97.52381l51.712 51.712-126.342095 126.342095H828.952381a73.142857 73.142857 0 0 1 73.142857 73.142857v487.619048a73.142857 73.142857 0 0 1-73.142857 73.142857H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142857v-487.619048a73.142857 73.142857 0 0 1 73.142857-73.142857h131.120762L199.850667 149.23581 251.562667 97.52381l178.054095 178.054095h164.742095L772.437333 97.52381zM828.952381 348.720762H195.047619v487.619048h633.904762v-487.619048z m-280.380952 73.142857v341.333333h-73.142858v-341.333333h73.142858z m-134.095239 73.142857v195.047619h-73.142857v-195.047619h73.142857z m268.190477 24.380953v146.285714h-73.142857v-146.285714h73.142857z" p-id="7802"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li>
      <ol>
        <li><a href="#header">Header</a>
          <ol>
            <li><a href="#配置要求">配置要求</a></li>
            <li><a href="#适合对象">适合对象</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#前期工作">前期工作</a>
      <ol>
        <li><a href="#目标">目标</a>
          <ol>
            <li><a href="#双库解耦">双<strong>库解耦</strong></a></li>
            <li><a href="#简化流程">简化<strong>流程</strong></a></li>
            <li><a href="#基本架构"><strong>基本架构</strong></a></li>
            <li><a href="#未来目标"><strong>未来目标</strong></a></li>
            <li><a href="#要点"><strong>要点</strong></a></li>
          </ol>
        </li>
        <li><a href="#本地结构">本地结构</a></li>
      </ol>
    </li>
    <li><a href="#工具安装">工具安装</a>
      <ol>
        <li><a href="#chocolatey">Chocolatey</a></li>
        <li><a href="#hugo">Hugo</a></li>
        <li><a href="#git">Git</a>
          <ol>
            <li><a href="#安装初始化">安装初始化</a></li>
            <li><a href="#公钥绑定">公钥绑定</a></li>
            <li><a href="#验证配置">验证配置</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#项目搭建">项目搭建</a>
      <ol>
        <li><a href="#blogfactory初始化">BlogFactory初始化</a>
          <ol>
            <li><a href="#基础结构">基础结构</a></li>
            <li><a href="#配置项">配置项</a></li>
            <li><a href="#前期配置">前期配置</a></li>
            <li><a href="#写作生成页面流程">写作生成页面流程</a></li>
          </ol>
        </li>
        <li><a href="#blogproduct初始化">BlogProduct初始化</a>
          <ol>
            <li><a href="#生成页面填充仓库">生成页面填充仓库</a></li>
            <li><a href="#部署githubpage">部署GithubPage</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#自动化赋能">自动化赋能</a>
      <ol>
        <li><a href="#github-token">Github Token</a></li>
        <li><a href="#blogfactory-github-action">BlogFactory Github Action</a>
          <ol>
            <li><a href="#个人配置参考">个人配置参考</a></li>
          </ol>
        </li>
        <li><a href="#action-settings">Action Settings</a></li>
      </ol>
    </li>
    <li><a href="#实操">实操</a>
      <ol>
        <li><a href="#crud">CRUD</a>
          <ol>
            <li><a href="#写博客"><strong>写博客</strong></a></li>
            <li><a href="#脚本">脚本(+)</a></li>
            <li><a href="#脚本写类别">脚本写类别(+)</a></li>
            <li><a href="#脚本写标签">脚本写标签(+)</a></li>
            <li><a href="#删博客"><strong>删博客</strong></a></li>
            <li><a href="#改博客"><strong>改博客</strong></a></li>
            <li><a href="#手动编译预览">手动<strong>编译预览(×)</strong></a></li>
            <li><a href="#脚本编译预览">脚本编译预览(√)</a></li>
            <li><a href="#手动发布">手动<strong>发布(×)</strong></a></li>
            <li><a href="#自动发布">自动发布(√)</a></li>
          </ol>
        </li>
        <li><a href="#图片操作">图片操作</a></li>
        <li><a href="#markdown操作">Markdown操作</a></li>
      </ol>
    </li>
    <li><a href="#注意">注意</a></li>
  </ol>

  <ol>
    <li><a href="#页面美化">页面美化</a>
      <ol>
        <li><a href="#标签">标签</a></li>
        <li><a href="#代码高亮">代码高亮</a></li>
        <li><a href="#字数统计">字数统计</a></li>
        <li><a href="#稳定运行字段">稳定运行字段</a></li>
        <li><a href="#返回顶部">返回顶部</a></li>
      </ol>
    </li>
    <li><a href="#系统原理">系统原理</a>
      <ol>
        <li><a href="#模板">模板</a></li>
      </ol>
    </li>
    <li><a href="#域名装配">域名装配</a>
      <ol>
        <li><a href="#失败github认证踩坑记录">失败Github认证踩坑记录</a>
          <ol>
            <li><a href="#freenom">freenom</a></li>
            <li><a href="#namecom">Name.com</a></li>
            <li><a href="#namecheap">Namecheap</a></li>
            <li><a href="#tech">.TECH</a></li>
          </ol>
        </li>
        <li><a href="#域名配置">域名配置</a></li>
      </ol>
    </li>
    <li><a href="#功能模块">功能模块</a>
      <ol>
        <li><a href="#评论">评论</a>
          <ol>
            <li><a href="#官方文档">官方文档</a></li>
            <li><a href="#流程">流程</a></li>
          </ol>
        </li>
        <li><a href="#搜索">搜索</a>
          <ol>
            <li><a href="#添加文件">添加文件</a></li>
            <li><a href="#修改配置文件">修改配置文件</a></li>
          </ol>
        </li>
        <li><a href="#访问统计">访问统计</a></li>
        <li><a href="#链接">链接</a></li>
      </ol>
    </li>
    <li><a href="#资源管理">资源管理</a>
      <ol>
        <li><a href="#图标">图标</a></li>
      </ol>
    </li>
    <li><a href="#上游下游">上游下游</a>
      <ol>
        <li><a href="#笔记软件">笔记软件</a>
          <ol>
            <li><a href="#笔记软件自动化">笔记软件自动化</a></li>
          </ol>
        </li>
        <li><a href="#博客管理客户端">博客管理客户端</a></li>
        <li><a href="#流量">流量</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#二回熟">二回熟</a>
      <ol>
        <li><a href="#chocolatey重来">Chocolatey重来!</a></li>
        <li><a href="#hugo重来">Hugo重来!</a></li>
        <li><a href="#factory-pull-local">Factory pull local</a></li>
      </ol>
    </li>
    <li><a href="#踩坑">踩坑</a>
      <ol>
        <li><a href="#注意自动化脚本分支名称">注意自动化脚本分支名称</a></li>
        <li><a href="#注意gitignore">注意gitignore</a></li>
        <li><a href="#收手吧阿伟">收手吧阿伟</a></li>
        <li><a href="#设置文件配置">设置文件配置</a></li>
        <li><a href="#删除文件后需要刷新一次">删除文件后需要刷新一次</a></li>
        <li><a href="#toml---yml-转化">Toml &lt;-&gt; Yml 转化</a></li>
        <li><a href="#系统cmd控制台需要开全局代理--tun模式才能稳定下载">系统CMD控制台需要开全局代理 + TUN模式才能稳定下载</a></li>
        <li><a href="#记得修改魔改配置之前提交">记得修改(魔改)配置之前提交</a></li>
        <li><a href="#暂时实现不了的别硬实现摆-下次再来">暂时实现不了的别硬实现(摆), 下次再来</a></li>
      </ol>
    </li>
    <li><a href="#成果">成果</a>
      <ol>
        <li><a href="#流程综合">流程综合</a>
          <ol>
            <li><a href="#移花接木式导入文章">移花接木式导入文章</a></li>
            <li><a href="#脚本打包预览实现"><strong>脚本打包预览实现</strong></a></li>
            <li><a href="#普通加强式导入文章">普通加强式导入文章</a></li>
          </ol>
        </li>
        <li><a href="#工作环境">工作环境</a></li>
        <li><a href="#学到了什么">学到了什么</a></li>
      </ol>
    </li>
    <li><a href="#引用">引用</a></li>
    <li><a href="#日志">日志</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/%E5%8D%9A%E5%AE%A2%E6%94%AF%E9%85%8D%E4%BD%9C%E6%88%98-%E9%9B%B6%E5%8F%B7%E6%9C%BAgithubpage-hugo-stack/">
                
                    <img src="/life/002/hono.png" loading="lazy" alt="Featured image of post 博客支配作战 零号机(GithubPage&#43;Hugo&#43;Stack)" />
                
            </a>
        </div>
    

    <div class="article-details">


    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E5%8D%9A%E5%AE%A2%E6%94%AF%E9%85%8D%E4%BD%9C%E6%88%98-%E9%9B%B6%E5%8F%B7%E6%9C%BAgithubpage-hugo-stack/">博客支配作战 零号机(GithubPage&#43;Hugo&#43;Stack)</a>
        </h2>

        
    </div>

    
    
    
    
    <footer class="article-time">
        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
            <time class="article-time--published">2024-04-28</time>
        </div>
        

        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



            <time class="article-time--reading">
                阅读时长: 23 分钟
            </time>
        </div>
        
    </footer>
    

    

    
    


</div>
</header>

    <section class="article-content">
    
    
    <p>‍</p>
<p>本人第二代博客 零号机 搭建纪实 此文档已完结^（使用思域笔记完成）^</p>
<p>可作为搭建个人博客参考, 但不保证完全符合需求</p>
<p>搭建于 Apr. 2024 Hugo-ex版本 v0.125.3</p>
<p>‍</p>
<h3 id="header">
    <a href="#header" class="header-anchor">#</a>
    Header
</h3><blockquote>
<p>第一代博客: CSDN (旧日文章已废弃)</p>
</blockquote>
<blockquote>
<p>第二代博客: Github 托管自动化双仓库部署, 无域名完全省心白嫖 GithubPage + Hugo + Stack</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="配置要求">
    <a href="#%e9%85%8d%e7%bd%ae%e8%a6%81%e6%b1%82" class="header-anchor">#</a>
    配置要求
</h4><p>‍</p>
<p><strong>个人配置</strong></p>
<p>个人PC全套开发环境IDEA(图形化Git工具) + Github(完整关联) + Google等平台账号 + 流畅代理机场 + 50M宽带网络 + 潮湿度高的脑子 + Github/Microsoft学生认证 + 0 Money</p>
<p>‍</p>
<p><strong>最低配置</strong></p>
<p>代理机场, 大概只有这个是刚需, 或者你有流畅访问Github的方法</p>
<p>(没有这个的, 在具体资源下不了的地方找对应镜像手动下载, 这里不提供)</p>
<p>‍</p>
<p>‍</p>
<h4 id="适合对象">
    <a href="#%e9%80%82%e5%90%88%e5%af%b9%e8%b1%a1" class="header-anchor">#</a>
    适合对象
</h4><p>‍</p>
<p>你受够了XXDN的无限制广告战吗? 你讨厌Qzonx的糟糕审核吗? 你疲倦于自建服务器的繁琐吗? 你想要白嫖一个可以用来当哔哔空间的博客吗?&hellip;</p>
<blockquote>
<p>很好, 你被选中了! 请继续往下看&hellip;</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h1 id="基础篇">
    <a href="#%e5%9f%ba%e7%a1%80%e7%af%87" class="header-anchor">#</a>
    基础篇
</h1><p>‍</p>
<h2 id="前期工作">
    <a href="#%e5%89%8d%e6%9c%9f%e5%b7%a5%e4%bd%9c" class="header-anchor">#</a>
    前期工作
</h2><p>‍</p>
<h3 id="目标">
    <a href="#%e7%9b%ae%e6%a0%87" class="header-anchor">#</a>
    目标
</h3><p>‍</p>
<h4 id="双库解耦">
    <a href="#%e5%8f%8c%e5%ba%93%e8%a7%a3%e8%80%a6" class="header-anchor">#</a>
    双<strong>库解耦</strong>
</h4><p>一个用来管理整个Hugo生产仓库 - 私有工厂仓库(存放API信息等敏感内容), 一个用来管理Hugo生成内容(Page) - 公有GithubPage仓库</p>
<p>‍</p>
<p>‍</p>
<h4 id="简化流程">
    <a href="#%e7%ae%80%e5%8c%96%e6%b5%81%e7%a8%8b" class="header-anchor">#</a>
    简化<strong>流程</strong>
</h4><p>Hugo的一次将推送触发开关, 让Github对生成仓库进行自动构建, 更新Page内容 (基础目标)</p>
<p>使用笔记软件的内嵌代码段进一步简化流程(进阶目标)</p>
<p>‍</p>
<p>‍</p>
<h4 id="基本架构">
    <a href="#%e5%9f%ba%e6%9c%ac%e6%9e%b6%e6%9e%84" class="header-anchor">#</a>
    <strong>基本架构</strong>
</h4><p>Hugo + Stack theme (Win10)</p>
<p>‍</p>
<p>‍</p>
<h4 id="未来目标">
    <a href="#%e6%9c%aa%e6%9d%a5%e7%9b%ae%e6%a0%87" class="header-anchor">#</a>
    <strong>未来目标</strong>
</h4><p>除需要具有基础功能(写文章)外, 可能需要配置阿里云OSS等图床应用, 目前暂时嵌入资源文件(我基本是纯文字, 没有图片的), 可能采用一些简单图床应用</p>
<p>(敬请期待)</p>
<p>‍</p>
<p>‍</p>
<h4 id="要点">
    <a href="#%e8%a6%81%e7%82%b9" class="header-anchor">#</a>
    <strong>要点</strong>
</h4><ul>
<li>
<p>自动化Hugo编译</p>
<blockquote>
<p>指准备好md文件后, 需要将其移入对应位置后执行命令进行生产(命令行操作)</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>
<p>自动化Page仓库操作</p>
<blockquote>
<p>要手动将生成的网页上传到对应仓库</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>
<p>简单静态资源管理</p>
<blockquote>
<p>暂时不碍事(个人), 但是未来一定需要, 可以暂时塞到资源文件夹里, 因为我的笔记一般没有插入图片, 有也是引用形式的</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>
<p>低维护成本</p>
<blockquote>
<p>经济成本基本为0, 但是要注意心智成本以及本地结构成本, &ldquo;心智能量币维护费&rdquo;</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>
<p>便携</p>
<blockquote>
<p>存档Github仓库, 换电脑只需要下载仓库, 安装前置工具后即可使用</p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="本地结构">
    <a href="#%e6%9c%ac%e5%9c%b0%e7%bb%93%e6%9e%84" class="header-anchor">#</a>
    本地结构
</h3><p>本人首先在专门划定的代码文件夹的Backup文件目录创建Blog子文件夹, 之后在对应子目录<kbd>Factory</kbd>​进行Hugo主体的创建</p>
<blockquote>
<p>目录不能有中文</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h2 id="工具安装">
    <a href="#%e5%b7%a5%e5%85%b7%e5%ae%89%e8%a3%85" class="header-anchor">#</a>
    工具安装
</h2><blockquote>
<p>路径: Chocolatey -&gt; Hugo -&gt; Blog</p>
</blockquote>
<p>‍</p>
<h3 id="chocolatey">
    <a href="#chocolatey" class="header-anchor">#</a>
    Chocolatey
</h3><p>‍</p>
<p>Win10平台安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">powershell</span> <span class="o">-</span><span class="n">NoProfile</span> <span class="o">-</span><span class="n">ExecutionPolicy</span> <span class="n">unrestricted</span> <span class="o">-</span><span class="n">Command</span> <span class="s2">&#34;iex ((new-object net.webclient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>安装完毕后<strong>开新实例</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h3 id="hugo">
    <a href="#hugo" class="header-anchor">#</a>
    Hugo
</h3><p>需要Hugo-extended</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">choco install hugo-extended
</span></span></code></pre></td></tr></table>
</div>
</div><p>验证</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo version
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h3 id="git">
    <a href="#git" class="header-anchor">#</a>
    Git
</h3><p>‍</p>
<h4 id="安装初始化">
    <a href="#%e5%ae%89%e8%a3%85%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-anchor">#</a>
    安装初始化
</h4><p>==这里不赘述==</p>
<p>‍</p>
<h4 id="公钥绑定">
    <a href="#%e5%85%ac%e9%92%a5%e7%bb%91%e5%ae%9a" class="header-anchor">#</a>
    公钥绑定
</h4><p>==这里不赘述==</p>
<blockquote>
<p>IDEA这种IDE会帮助设置你的Git的user.name等属性, 平常用着用着就给你配好了, 很省事</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="验证配置">
    <a href="#%e9%aa%8c%e8%af%81%e9%85%8d%e7%bd%ae" class="header-anchor">#</a>
    验证配置
</h4><p>‍</p>
<p><strong>ssh一下github, 给你鉴权</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">ssh -T git@github.com
</span></span></code></pre></td></tr></table>
</div>
</div><p>期望返回结果</p>
<blockquote>
<p>successfully authenticated</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<p><strong>查看git 配置</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git config --list
</span></span></code></pre></td></tr></table>
</div>
</div><p>期望返回结果</p>
<blockquote>
<p>user.name=SpadeKTLSG<br>
<a class="link" href="mailto:user.email=spadekxcwxtlsg@gmail.com" >user.email=spadekxcwxtlsg@gmail.com</a></p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h2 id="项目搭建">
    <a href="#%e9%a1%b9%e7%9b%ae%e6%90%ad%e5%bb%ba" class="header-anchor">#</a>
    项目搭建
</h2><p>‍</p>
<h3 id="blogfactory初始化">
    <a href="#blogfactory%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-anchor">#</a>
    BlogFactory初始化
</h3><p>‍</p>
<p>进入Bolg目录cmd, 创建BlogFactory私有仓库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">hugo new site BlogFactory
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>这里控制台也有给一些参考路径</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Just a few more steps...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1. Change the current directory to D:\CODE\Backup\Blog\BlogFactory.
</span></span><span class="line"><span class="cl">2. Create or install a theme:
</span></span><span class="line"><span class="cl">   - Create a new theme with the command &#34;hugo new theme &lt;THEMENAME&gt;&#34;
</span></span><span class="line"><span class="cl">   - Install a theme from https://themes.gohugo.io/
</span></span><span class="line"><span class="cl">3. Edit hugo.toml, setting the &#34;theme&#34; property to the theme name.
</span></span><span class="line"><span class="cl">4. Create new content with the command &#34;hugo new content &lt;SECTIONNAME&gt;\&lt;FILENAME&gt;.&lt;FORMAT&gt;&#34;.
</span></span><span class="line"><span class="cl">5. Start the embedded web server with the command &#34;hugo server --buildDrafts&#34;.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">See documentation at https://gohugo.io/.
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>进入BlogFactory就能看到目录结构</p>
<p>‍</p>
<p>‍</p>
<h4 id="基础结构">
    <a href="#%e5%9f%ba%e7%a1%80%e7%bb%93%e6%9e%84" class="header-anchor">#</a>
    基础结构
</h4><ul>
<li>​<code>content</code>​ 是博客读取的各类页面所在的目录，包括主页面（主页、关于、存档等这种大类）和博文</li>
<li>​<code>layouts</code>​ 博客网站的布局文件</li>
<li>​<code>static</code>​ 静态内容</li>
<li>​<code>themes</code>​ 用于存放博客主题</li>
<li>​<code>config.toml</code>​ 配置文件</li>
</ul>
<p>‍</p>
<p>初始化当前目录中的空 Git 存储库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git init
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>安装我选择的Stack主题, 代理我要开TUN模式(Clash)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack
</span></span></code></pre></td></tr></table>
</div>
</div><p>格式, 需要存到目录中的themes文件夹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git submodule add &lt;https&gt; themes/&lt;themename&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>启动 Hugo 服务器, 访问 http://localhost:1313/</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo server
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里显示是空的页面, 因为没有引入theme</p>
<blockquote>
<p>快速渲染模式，你在代码中进行的改动，只要一保存，就会直接刷新在站点上</p>
</blockquote>
<p>‍</p>
<p>之后, 在BolgFactory的hugo.toml中加入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">theme = &#39;hugo-theme-stack&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>就能看到示例页面了, 但是这个配置文件东西还是太少了, 于是直接把<code>themes\hugo-theme-stack\exampleSite</code>​ 文件夹里面的配置文件hugo.yaml拿过来放到根目录, 同时删掉根目录的hugo.toml</p>
<p>‍</p>
<blockquote>
<p>现在的<code>&lt;blog&gt;</code>​文件夹里的默认配置文件是<code>hugo.toml</code>​，而一般的<code>exampleSite</code>​里的配置文件一般是<code>config.toml</code>​和<code>config.yaml</code>​，而一个网站只能有一个配置文件，且这三种文件名都是可以的</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="配置项">
    <a href="#%e9%85%8d%e7%bd%ae%e9%a1%b9" class="header-anchor">#</a>
    配置项
</h4><blockquote>
<p>基础配置选项, 可以先鼓捣一下</p>
</blockquote>
<p>‍</p>
<ul>
<li>​<code>baseurl</code>​ 域名</li>
<li>​<code>paginate</code>​ 主页一页显示几篇博文</li>
<li>​<code>title</code>​ 博客的主名</li>
<li>​<code>languages</code>​ 多语言设置，没错，Hugo 是原生支持多语言的。一般来说，保留中英双语已经很够。本文以中英双语为例讲解。</li>
<li>​<code>DefaultContentLanguage</code>​ 博客的默认语言。若设置为中文（<code>zh-cn</code>​），则所有被读取的 <code>index.md</code>​ 都会被认为是中文环境下的内容，英文就会空缺。此时你需要额外创建同名的英文文件，比如 <code>index.en.md</code>​，如此填补位置。</li>
<li>​<code>hasCJKLanguage</code>​ 如果默认语言设置为中文，这里应改为 <code>true</code>​</li>
<li>​<code>mainSections</code>​ 原本是 <code>post</code>​，对应着 <code>F:\Blog\content\post</code>​ 目录。若这里改，文件夹名也要改，两者是连锁的，否则读不到其中的内容物。</li>
<li>​<code>since</code>​ 开始写博客的年份</li>
<li>​<code>customText</code>​ 底部的一句个性化说明</li>
<li>​<code>published</code>​ 文章发布日期的格式，默认的格式并不方便, 设置成 <code>2006-01-02</code>​</li>
<li>​<code>lastUpdated</code>​ 同理可调整为 <code>2006-01-02 15:04 CST</code>​。</li>
<li>​<code>emoji</code>​ 头像右下角的状态表情，留空就不显示</li>
<li>​<code>subtitle</code>​ 博客副标题</li>
<li>​<code>avatar</code>​ 下属的几条，分别是，是否启用、是否在本地、存储路径</li>
</ul>
<p>‍</p>
<p>‍</p>
<h4 id="前期配置">
    <a href="#%e5%89%8d%e6%9c%9f%e9%85%8d%e7%bd%ae" class="header-anchor">#</a>
    前期配置
</h4><p>‍</p>
<p>hugo.yml配置一些基础名字</p>
<p>‍</p>
<p>‍</p>
<h4 id="写作生成页面流程">
    <a href="#%e5%86%99%e4%bd%9c%e7%94%9f%e6%88%90%e9%a1%b5%e9%9d%a2%e6%b5%81%e7%a8%8b" class="header-anchor">#</a>
    写作生成页面流程
</h4><p>‍</p>
<p>写文, 别忘了末尾加上md, 不然就会报<code>不知道什么类型</code>​的错</p>
<p>‍</p>
<p>folder = post</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo new [folder]/FILEname.md
</span></span></code></pre></td></tr></table>
</div>
</div><p>默认是post中才会生效(见配置), 在[folder]对应目录下找到对应文件</p>
<blockquote>
<p>设置文件有设置项可设置文章识别位置, 当然不建议改, 后面还有tag这类目录要存放</p>
</blockquote>
<p>‍</p>
<p>启动server观察情况, -D表示显示 draft 为 true 的草稿</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo server -D
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>观察到结果, 基础写作生成页面流程结束</p>
<p>‍</p>
<p>‍</p>
<h3 id="blogproduct初始化">
    <a href="#blogproduct%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-anchor">#</a>
    BlogProduct初始化
</h3><p>新建仓库对应GithubPage, 为了符合规范采用账号命名 + 公开</p>
<p>仓库名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">SpadeKTLSG.github.io
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h4 id="生成页面填充仓库">
    <a href="#%e7%94%9f%e6%88%90%e9%a1%b5%e9%9d%a2%e5%a1%ab%e5%85%85%e4%bb%93%e5%ba%93" class="header-anchor">#</a>
    生成页面填充仓库
</h4><p>将hugo生成的public/目录下所有文件，剪切到本地仓库进行提交</p>
<blockquote>
<p>剪切而不是复制, 原因下面有</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="部署githubpage">
    <a href="#%e9%83%a8%e7%bd%b2githubpage" class="header-anchor">#</a>
    部署GithubPage
</h4><p>这个产品仓库(公有)和前面的工厂仓库(私有)都同步Github</p>
<p>命名注意同步可先选分支部署模式(不是Action, 而是手动部署)</p>
<p>‍</p>
<p>选择完提交完, 就能自动部署, 通过站点地址栏能访问, 那么一个基础实例就OK了</p>
<p>‍</p>
<blockquote>
<p>链接大概长 -&gt; <a class="link" href="https://spadektlsg.github.io/"  target="_blank" rel="noopener"
    >演示站点 (spadektlsg.github.io)</a> 这样</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="自动化赋能">
    <a href="#%e8%87%aa%e5%8a%a8%e5%8c%96%e8%b5%8b%e8%83%bd" class="header-anchor">#</a>
    自动化赋能
</h2><p>这里主要参考双仓库模式<a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AF%87-Hugo&#43;Github-Pages&#43;Github-Action%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88%E4%B9%8B%E4%B8%89%E9%85%8D%E7%BD%AEGithub-Action%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/"  target="_blank" rel="noopener"
    >Link</a>, 个人需求提升更多解耦和隐私</p>
<p>也可以选择单仓库双分支模式<a class="link" href="https://zhuanlan.zhihu.com/p/497671233"  target="_blank" rel="noopener"
    >Link</a>, 那样只有单仓库更方便管理</p>
<p>‍</p>
<h3 id="github-token">
    <a href="#github-token" class="header-anchor">#</a>
    Github Token
</h3><blockquote>
<p>Token用来鉴权管理仓库</p>
</blockquote>
<p>到Github开发者设置配置里设置个人令牌 Personal access tokens, 选择 Generate new token</p>
<p>Note中输入名称，在 Select scopes 选择 workflow</p>
<p>‍</p>
<p>我的名称 - 永久 (秘钥名称随意)</p>
<blockquote>
<p>BlogFactoryProductAutoKey</p>
</blockquote>
<p>选择作用域</p>
<blockquote>
<p>更新 GitHub 操作工作流程</p>
</blockquote>
<p>‍</p>
<p>生成的token复制保存</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">XXXXXaXXsssXuXDnXXXX &lt;-假的
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>回BlogFactory里面设置 -&gt; Secrets -&gt; Action -&gt; repository secret <code>New repository secret</code>​</p>
<p>‍</p>
<p>name部分输入秘钥名称==(将在yml中设置)==, Secret部分输入刚才的个人令牌</p>
<p>我直接用这个命名</p>
<blockquote>
<p>PERSONAL_TOKEN</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<p>引述<a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AF%87-Hugo&#43;Github-Pages&#43;Github-Action%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88%E4%B9%8B%E4%B8%89%E9%85%8D%E7%BD%AEGithub-Action%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/"  target="_blank" rel="noopener"
    >博主</a>内容:</p>
<blockquote>
<p>​<code>name</code>​​的值不能以<code>GITHUB_</code>​​开头，否则创建会出错</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="blogfactory-github-action">
    <a href="#blogfactory-github-action" class="header-anchor">#</a>
    BlogFactory Github Action
</h3><blockquote>
<p>用来指定自动配置</p>
</blockquote>
<p>‍</p>
<p>在hugo博客根目录下，创建放置Github Action配置文件的目录, 其中创建一个yml文件, 名称随意. 即为Github Action需要的工作流配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">.github/workflows/main.yml
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>引述<a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AF%87-Hugo&#43;Github-Pages&#43;Github-Action%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88%E4%B9%8B%E4%B8%89%E9%85%8D%E7%BD%AEGithub-Action%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/"  target="_blank" rel="noopener"
    >博主</a></p>
<p>需要根据自己的情况修改配置参数(原参数不赘述)</p>
<blockquote>
<p>Action包含 4 个步骤</p>
<ol>
<li>拉取代码</li>
<li>准备 hugo 环境</li>
<li>使用 hugo 编译生成静态文件</li>
<li>把生成的静态文件发布到 Github Pages</li>
</ol>
</blockquote>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="个人配置参考">
    <a href="#%e4%b8%aa%e4%ba%ba%e9%85%8d%e7%bd%ae%e5%8f%82%e8%80%83" class="header-anchor">#</a>
    个人配置参考
</h4><p>‍</p>
<p>‍</p>
<p>重点对象</p>
<p>name &ndash;&gt; BlogFactoryBuild 配置名随意</p>
<p>hugo v0.125.3 &ndash;&gt; 查看自己版本 <code>hugo version</code>​ 获得</p>
<p>PERSONAL_TOKEN &ndash;&gt; ==上面的名称==, 格式还是这里的 <code>secrets. XXX</code>​</p>
<p>几个master分支名称看仔细了, 很可能和仓库的的main / master / XXX 分支名称不一样. 第一处是Factory仓库的监听分支, 第二处是目标Product发布分支</p>
<p>‍</p>
<p>具体内容可参考Github Action系列文档(附录)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">BlogFactoryBuild</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">build-deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-20.04</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Check out source</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.125.3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">personal_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.PERSONAL_TOKEN}} </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">external_repository</span><span class="p">:</span><span class="w"> </span><span class="l">SpadeKTLSG.github.io </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>简单注释版</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">BlogFactoryBuild</span><span class="w"> </span><span class="c"># 配置名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="c"># 触发条件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w"> </span><span class="c"># 推送事件触发</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="c"># 需要在XXX分支</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master</span><span class="w"> </span><span class="c"># Factory仓库的master分支</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w"> </span><span class="c"># 工作流</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">build-deploy</span><span class="p">:</span><span class="w"> </span><span class="c"># 工作流名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-20.04</span><span class="w"> </span><span class="c"># 运行环境(虚拟机)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w"> </span><span class="c"># 步骤</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 拉取代码</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Check out source</span><span class="w"> </span><span class="c"># 检出源码</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w"> </span><span class="c"># 使用&#34;工具&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 安装hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"> </span><span class="c"># 配置参数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.125.3&#34;</span><span class="w"> </span><span class="c"># hugo版本</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 是否安装扩展版本, yes</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 构建</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo</span><span class="w"> </span><span class="c"># 执行hugo命令</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 部署</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"> </span><span class="c"># 配置参数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">personal_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.PERSONAL_TOKEN }}</span><span class="w"> </span><span class="c"># GitHub Token</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">external_repository</span><span class="p">:</span><span class="w"> </span><span class="l">SpadeKTLSG/SpadeKTLSG.github.io</span><span class="w"> </span><span class="c"># 部署到的仓库, 用户名/仓库名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w"> </span><span class="c"># 部署目录</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w"> </span><span class="c"># 部署分支</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h3 id="action-settings">
    <a href="#action-settings" class="header-anchor">#</a>
    Action Settings
</h3><p>去GithubPage里面设置更新的方式, 需要改为Github Action</p>
<p>‍</p>
<p>在Factory新写一篇文章, 提交更改push</p>
<p>等待奇迹发生&hellip;</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="实操">
    <a href="#%e5%ae%9e%e6%93%8d" class="header-anchor">#</a>
    实操
</h2><blockquote>
<p>一些命令与操作记录</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="crud">
    <a href="#crud" class="header-anchor">#</a>
    CRUD
</h3><blockquote>
<p>由于有了附仓库操作, 完全不需要手动进行编译了, 好好好.</p>
<blockquote>
<p>我为了本地预览, 没有忽略本地的public</p>
</blockquote>
</blockquote>
<p>‍</p>
<h4 id="写博客">
    <a href="#%e5%86%99%e5%8d%9a%e5%ae%a2" class="header-anchor">#</a>
    <strong>写博客</strong>
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo new post/NaMe
</span></span></code></pre></td></tr></table>
</div>
</div><p>按照模板生成一个博客md文件</p>
<p>‍</p>
<h4 id="脚本">
    <a href="#%e8%84%9a%e6%9c%ac" class="header-anchor">#</a>
    脚本(+)
</h4><p><a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >参考</a></p>
<p>‍</p>
<p>我简化了实现, 只要求输入文章, 其他不动</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@echo off
</span></span><span class="line"><span class="cl">echo [create one blog in post/XXX/Name]
</span></span><span class="line"><span class="cl">set /p input= 请输入标题, 如果存放到对应文件夹下, 可输入&#34;media/Name&#34;
</span></span><span class="line"><span class="cl">hugo new post/%input%.md
</span></span><span class="line"><span class="cl">pause
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h4 id="脚本写类别">
    <a href="#%e8%84%9a%e6%9c%ac%e5%86%99%e7%b1%bb%e5%88%ab" class="header-anchor">#</a>
    脚本写类别(+)
</h4><p><a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >参考</a></p>
<p>‍</p>
<p>‍</p>
<h4 id="脚本写标签">
    <a href="#%e8%84%9a%e6%9c%ac%e5%86%99%e6%a0%87%e7%ad%be" class="header-anchor">#</a>
    脚本写标签(+)
</h4><p><a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >参考</a></p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="删博客">
    <a href="#%e5%88%a0%e5%8d%9a%e5%ae%a2" class="header-anchor">#</a>
    <strong>删博客</strong>
</h4><p>直接删, 不用管</p>
<blockquote>
<p>一般是要去清理下public防止垃圾片段影响, 但是见下文脚本清理</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="改博客">
    <a href="#%e6%94%b9%e5%8d%9a%e5%ae%a2" class="header-anchor">#</a>
    <strong>改博客</strong>
</h4><p>VSCODE 或 笔记软件导入后修改导出覆盖, 见下文移花接木</p>
<blockquote>
<p>一般是new post/完后复制黏贴到里面, 但是有时候文章很长就很麻烦, 于是移花接木操作</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="手动编译预览">
    <a href="#%e6%89%8b%e5%8a%a8%e7%bc%96%e8%af%91%e9%a2%84%e8%a7%88" class="header-anchor">#</a>
    手动<strong>编译预览(×)</strong>
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo
</span></span></code></pre></td></tr></table>
</div>
</div><p>但是这<em>并不会</em> 删除之前生成的文件, 因此如果进行了删除请清空一次目录再完整编译^（官网建议）^</p>
<p>预览(带草稿)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo server -D
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h4 id="脚本编译预览">
    <a href="#%e8%84%9a%e6%9c%ac%e7%bc%96%e8%af%91%e9%a2%84%e8%a7%88" class="header-anchor">#</a>
    脚本编译预览(√)
</h4><p>见下文脚本预览, 双击脚本即可查看</p>
<p>这里是完整版</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@echo off
</span></span><span class="line"><span class="cl">echo [清理/public, 完整构建, 预览启动]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">del /s /q &#34;.\public\*&#34;
</span></span><span class="line"><span class="cl">for /d %%x in (.\public\*) do rd /s /q &#34;%%x&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">echo [清理残余/public完毕]
</span></span><span class="line"><span class="cl">start  http://localhost:1313/
</span></span><span class="line"><span class="cl">hugo
</span></span><span class="line"><span class="cl">echo [hugo 完整构建完毕]
</span></span><span class="line"><span class="cl">hugo server -D
</span></span><span class="line"><span class="cl">echo [hugo 预览启动]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pause
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h4 id="手动发布">
    <a href="#%e6%89%8b%e5%8a%a8%e5%8f%91%e5%b8%83" class="header-anchor">#</a>
    手动<strong>发布(×)</strong>
</h4><p>public内文件复制到对应GithubPage仓库进行Commit + Push, 触发一次自动构建Page(可以查看进度)</p>
<p>‍</p>
<h4 id="自动发布">
    <a href="#%e8%87%aa%e5%8a%a8%e5%8f%91%e5%b8%83" class="header-anchor">#</a>
    自动发布(√)
</h4><blockquote>
<p>Action联动双库</p>
</blockquote>
<p>使用上述自动化流程后, 直接IDEA无脑全选提交并推送, 坐等发布即可</p>
<p>‍</p>
<p>‍</p>
<h3 id="图片操作">
    <a href="#%e5%9b%be%e7%89%87%e6%93%8d%e4%bd%9c" class="header-anchor">#</a>
    图片操作
</h3><p>‍</p>
<p>图片放入 <code>static</code>​ 目录下</p>
<p>Markdown 文件中以 <code>/XXX.jpg</code>​ 的路径引用</p>
<blockquote>
<p>Hugo 会自动在图片路径前追加 <code>static</code>​ 的路径</p>
</blockquote>
<p>为了区分开不同文章的用图，还可以在 <code>static</code>​ 下新建子目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">![XXX](/AAA/XXX.jpg)
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>我也不经常插入图片, 如果有也是用图床比较好, 方便后续引用, 不然就和这个地方强绑定了</p>
</blockquote>
<p>‍</p>
<p><strong>示例</strong></p>
<p>图片在static/sys/Good.png, 引用方法是</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">![testPic](/sys/Good.png)
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h3 id="markdown操作">
    <a href="#markdown%e6%93%8d%e4%bd%9c" class="header-anchor">#</a>
    Markdown操作
</h3><p>.md操作不赘述, 见个人其他文档</p>
<p>‍</p>
<p>‍</p>
<h2 id="注意">
    <a href="#%e6%b3%a8%e6%84%8f" class="header-anchor">#</a>
    注意
</h2><p>‍</p>
<p>‍</p>
<ul>
<li>生成md文章后不要动它们的基本层级(md文件的命名和位置), 不然会出乱子</li>
<li>‍</li>
</ul>
<p>‍</p>
<p>‍</p>
<h1 id="提高篇">
    <a href="#%e6%8f%90%e9%ab%98%e7%af%87" class="header-anchor">#</a>
    提高篇
</h1><p>‍</p>
<p>‍</p>
<h2 id="页面美化">
    <a href="#%e9%a1%b5%e9%9d%a2%e7%be%8e%e5%8c%96" class="header-anchor">#</a>
    页面美化
</h2><p>官方手册指路</p>
<p><a class="link" href="https://stack-docs.netlify.app/zh/configuration/#featuredimagefield"  target="_blank" rel="noopener"
    >配置主题 | Hugo 主题 Stack (stack-docs.netlify.app)</a></p>
<p>‍</p>
<h3 id="标签">
    <a href="#%e6%a0%87%e7%ad%be" class="header-anchor">#</a>
    标签
</h3><blockquote>
<p>暂时没需要</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="代码高亮">
    <a href="#%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%ae" class="header-anchor">#</a>
    代码高亮
</h3><p>配置文件直接加, 高亮主题可去 <a class="link" href="https://swapoff.org/chroma/playground/"  target="_blank" rel="noopener"
    >Chroma Playground</a> 找</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 代码高亮
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">highlight:
</span></span><span class="line"><span class="cl">  style: github
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h3 id="字数统计">
    <a href="#%e5%ad%97%e6%95%b0%e7%bb%9f%e8%ae%a1" class="header-anchor">#</a>
    字数统计
</h3><blockquote>
<p>暂时不需要, 简单黏贴了一点代码凑合着用</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="稳定运行字段">
    <a href="#%e7%a8%b3%e5%ae%9a%e8%bf%90%e8%a1%8c%e5%ad%97%e6%ae%b5" class="header-anchor">#</a>
    稳定运行字段
</h3><p>见博主<a class="link" href="https://thirdshire.com/hugo-stack-renovation/"  target="_blank" rel="noopener"
    >Link</a></p>
<p>‍</p>
<p>‍</p>
<h3 id="返回顶部">
    <a href="#%e8%bf%94%e5%9b%9e%e9%a1%b6%e9%83%a8" class="header-anchor">#</a>
    返回顶部
</h3><blockquote>
<p>未来</p>
</blockquote>
<p>‍</p>
<h2 id="系统原理">
    <a href="#%e7%b3%bb%e7%bb%9f%e5%8e%9f%e7%90%86" class="header-anchor">#</a>
    系统原理
</h2><p>‍</p>
<h3 id="模板">
    <a href="#%e6%a8%a1%e6%9d%bf" class="header-anchor">#</a>
    模板
</h3><p><a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >引用</a></p>
<p>用 hugo 来new而不能手动创建一个 <code>.md</code>​ 文件, 这是因为使用 hugo 创建会自动使用已填入 <code>Front Matter</code>​的模板</p>
<p>​<code>Front Matter</code>​ 用于标识文章的标题、时间等信息，hugo 就是据此来生成静态页面。关于属性的含义和用法可以参考 <a class="link" href="https://www.gohugo.org/doc/content/front-matter/"  target="_blank" rel="noopener"
    >Hugo 中文文档</a>。</p>
<p>模板可以在 <code>\archetypes\default.md</code>​ 下找到</p>
<p>‍</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">title: &#34;{{ replace .Name &#34;-&#34; &#34; &#34; | title }}&#34; # 标题，创建时自动填充
</span></span><span class="line"><span class="cl">description: # 文章简介
</span></span><span class="line"><span class="cl">date: {{ .Date }} # 日期，创建时自动填充，格式同2023-01-15T12:00:00+08:00
</span></span><span class="line"><span class="cl">image: # 文章的封面，留空就是没有，填文章所在位置的相对地址，通常放在同目录下，
</span></span><span class="line"><span class="cl">math: # 是否启用KaTex，填true启用
</span></span><span class="line"><span class="cl">license: # 文章尾部显示的协议，false为隐藏，其他作为内容，留空就是使用config.yaml里默认的
</span></span><span class="line"><span class="cl">hidden: false # 是否隐藏，一般用不到
</span></span><span class="line"><span class="cl">comments: true # 因为bug所以这个属性只要存在，不管是true还是false都会导致回复无法显示，需要删掉
</span></span><span class="line"><span class="cl">draft: true # 是否为草稿，建议改为false或者删掉这个属性以防止忘记修改
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">---
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<hr>
<p>default</p>
<p>我将draft改为false, 加一个image就可以了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+++
</span></span><span class="line"><span class="cl">title = &#39;{{ replace .File.ContentBaseName &#34;-&#34; &#34; &#34; | title }}&#39;
</span></span><span class="line"><span class="cl">date = {{ .Date }}
</span></span><span class="line"><span class="cl">image = &#39;/sys/defaultPage.png&#39;
</span></span><span class="line"><span class="cl">draft = false
</span></span><span class="line"><span class="cl">+++
</span></span></code></pre></td></tr></table>
</div>
</div><p>如上, 这样也能使文章能带有图片头(放在static内分好目录, 按目录层级引用)</p>
<p>‍</p>
<p>categories + tags</p>
<blockquote>
<p>有问题, 暂时不需要, 不做了</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="域名装配">
    <a href="#%e5%9f%9f%e5%90%8d%e8%a3%85%e9%85%8d" class="header-anchor">#</a>
    域名装配
</h2><blockquote>
<p>我暂时不想用其他域名, 虽然访问速度在身边人里基本是0, 但是这样也隔离掉一些别有用心的家伙. 就用Github也不用上防护措施了</p>
</blockquote>
<blockquote>
<p>但是我确实在之前的日子里想要使用一下不需要付费的白嫖域名试试, 因为大多数是1年期限, 所有当时不想用. 现在正是用兵之时. 于是就开始鼓捣了</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="失败github认证踩坑记录">
    <a href="#%e5%a4%b1%e8%b4%a5github%e8%ae%a4%e8%af%81%e8%b8%a9%e5%9d%91%e8%ae%b0%e5%bd%95" class="header-anchor">#</a>
    失败Github认证踩坑记录
</h3><blockquote>
<p>题外话&hellip;</p>
</blockquote>
<p>‍</p>
<p>Github认证 - 域名资源类列表</p>
<blockquote>
<p>Name.com:一年任意域名免费,SSL证书和隐私保护.</p>
<p>Namecheap:一年.me域名免费,SSL证书.</p>
<p>.TECH:一年.tech域名免费.</p>
</blockquote>
<p>‍</p>
<h4 id="freenom">
    <a href="#freenom" class="header-anchor">#</a>
    freenom
</h4><p>免费域名一直没有我的, 因此放弃. 其他两家注册太麻烦了, 于是直接用namecheap</p>
<p>‍</p>
<h4 id="namecom">
    <a href="#namecom" class="header-anchor">#</a>
    Name.com
</h4><p>我试试填中国的地址行不行. 前面都好, 要付款时候自己银行卡遇到问题了, 因为自己只有一个可怜的农行储蓄卡, Google说不支持, 于是网站认证, 结果卡住了. 于是找找GooglePay能不能给我走点后门&hellip;也不行只让美丽国人和汉斯用, 那我只能试试找其他人借一张没用的银行卡了, 尝试把谷歌支付搞定</p>
<p>借了父亲的银联银行卡也不行, 原来绑卡需要的条件太苛刻了, 散了散了</p>
<p>‍</p>
<h4 id="namecheap">
    <a href="#namecheap" class="header-anchor">#</a>
    Namecheap
</h4><p>又是烦人的这个东西: 大学不得到认可</p>
<p>‍</p>
<blockquote>
<p><strong>==我即使是死了，钉在棺材里了，也要在墓里，用这腐朽的声带喊出&ndash;==</strong></p>
<pre><code>                                                      XX带砖怎么了你?
</code></pre>
</blockquote>
<p>‍</p>
<p>我记得去年11月也是这样: 就算连接了github, 它也是无法连接到我的主账号邮箱, 明明都是一样的! 太凎了</p>
<blockquote>
<p>It looks like your email is not associated with an eligible university</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="tech">
    <a href="#tech" class="header-anchor">#</a>
    .TECH
</h4><p>‍</p>
<p>全程不到3分钟, 直接到手, 不需要支付, 认证非常快</p>
<p>拿到手了, 控制台很简陋, 可以配置DNS什么的. 按下不表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">spadektlsg.tech
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>那么关于域名的探索就暂时存档到这里, 没有白嫖的不要了</p>
<blockquote>
<p>被前面的域名拷打了之后, 立刻就到手的这玩意让我大为惊喜, 但后来发现要到了还不如不要, 浪费时间在那个就是一个草台玩意的控制面板&hellip;各种连接CloudFlare失败</p>
</blockquote>
<p>‍</p>
<h3 id="域名配置">
    <a href="#%e5%9f%9f%e5%90%8d%e9%85%8d%e7%bd%ae" class="header-anchor">#</a>
    域名配置
</h3><p>未来, 并且是遥远的未来</p>
<blockquote>
<p>主要是图省事罢</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h2 id="功能模块">
    <a href="#%e5%8a%9f%e8%83%bd%e6%a8%a1%e5%9d%97" class="header-anchor">#</a>
    功能模块
</h2><p>‍</p>
<h3 id="评论">
    <a href="#%e8%af%84%e8%ae%ba" class="header-anchor">#</a>
    评论
</h3><p>选择Giscus, 这个在Stack支持列表里面有</p>
<p><a class="link" href="https://giscus.app/zh-CN"  target="_blank" rel="noopener"
    >官方文档</a> - 即时生成对应配置</p>
<p>‍</p>
<p><a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AF%87-Hugo%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8giscus%E4%BD%9C%E4%B8%BA%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"  target="_blank" rel="noopener"
    >引用</a></p>
<blockquote>
<p>由 <code>GitHub Discussions</code>​ 驱动的评论系统，与<code>GitHub Pages</code>​有非常好的天然联结</p>
<ul>
<li>开源</li>
<li>无跟踪，无广告，永久免费</li>
<li>无需数据库。全部数据均储存在 <code>GitHub Discussions</code>​ 中</li>
<li>支持自定义主题</li>
<li>支持多种语言</li>
<li>高度可配置</li>
<li>自动从 <code>GitHub</code>​ 拉取新评论与编辑</li>
<li>可自建服务</li>
</ul>
</blockquote>
<p>‍</p>
<p>配置项目里可以看到基础的结构</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  comments:
</span></span><span class="line"><span class="cl">    enabled: true # Enable comments globally
</span></span><span class="line"><span class="cl">    provider: giscus
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    giscus:
</span></span><span class="line"><span class="cl">      repo:
</span></span><span class="line"><span class="cl">      repoID:
</span></span><span class="line"><span class="cl">      category:
</span></span><span class="line"><span class="cl">      categoryID:
</span></span><span class="line"><span class="cl">      mapping:
</span></span><span class="line"><span class="cl">      lightTheme:
</span></span><span class="line"><span class="cl">      darkTheme:
</span></span><span class="line"><span class="cl">      reactionsEnabled: 1
</span></span><span class="line"><span class="cl">      emitMetadata: 0
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h4 id="官方文档">
    <a href="#%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3" class="header-anchor">#</a>
    官方文档
</h4><p><strong>运作</strong></p>
<p>giscus 加载时，会使用 <a class="link" href="https://docs.github.com/en/graphql/guides/using-the-graphql-api-for-discussions#search"  target="_blank" rel="noopener"
    >GitHub Discussions 搜索 API</a> 根据选定的映射方式（如 URL、<code>pathname</code>​、<code>&lt;title&gt;</code>​ 等）来查找与当前页面关联的 discussion。如果找不到匹配的 discussion，giscus bot 就会在第一次有人留下评论或回应时自动创建一个 discussion。</p>
<p>访客如果想要评论，必须按照 GitHub OAuth 流程授权 <a class="link" href="https://github.com/apps/giscus"  target="_blank" rel="noopener"
    >giscus app</a> <a class="link" href="https://docs.github.com/en/developers/apps/identifying-and-authorizing-users-for-github-apps"  target="_blank" rel="noopener"
    >代表他发布</a>，或者可以直接在 GitHub Discussion 里评论。你可以在 GitHub 上管理评论。</p>
<p>‍</p>
<p>‍</p>
<p><strong>注意</strong></p>
<p>选择 giscus 连接到的仓库。请确保：</p>
<ol>
<li><strong>该仓库是</strong>​**<a class="link" href="https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/setting-repository-visibility#making-a-repository-public"  target="_blank" rel="noopener"
    >公开的</a>**，否则访客将无法查看 discussion。</li>
<li><strong><a class="link" href="https://github.com/apps/giscus"  target="_blank" rel="noopener"
    >giscus</a></strong> <strong>app 已安装</strong>，否则访客将无法评论和回应。</li>
<li><strong>Discussions</strong> 功能已<a class="link" href="https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/enabling-or-disabling-github-discussions-for-a-repository"  target="_blank" rel="noopener"
    >在你的仓库中启用</a>。</li>
</ol>
<p>‍</p>
<h4 id="流程">
    <a href="#%e6%b5%81%e7%a8%8b" class="header-anchor">#</a>
    流程
</h4><p>按照官方配置, 先开启discuss(设置面板往下拉), 再安装giscus(直接链接跳转), 显示<kbd>成功！该仓库满足所有条件 </kbd>​则说明完成</p>
<p>复制下方的片段, 稍加修改复制入配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">repo</span><span class="o">=</span><span class="s2">&#34;SpadeKTLSG/SpadeKTLSG.github.io&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">repo</span><span class="o">-</span><span class="n">id</span><span class="o">=</span><span class="s2">&#34;XXX&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">category</span><span class="o">=</span><span class="s2">&#34;Announcements&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">category</span><span class="o">-</span><span class="n">id</span><span class="o">=</span><span class="s2">&#34;XXX&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">mapping</span><span class="o">=</span><span class="s2">&#34;pathname&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">strict</span><span class="o">=</span><span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">reactions</span><span class="o">-</span><span class="n">enabled</span><span class="o">=</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">emit</span><span class="o">-</span><span class="n">metadata</span><span class="o">=</span><span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">input</span><span class="o">-</span><span class="n">position</span><span class="o">=</span><span class="s2">&#34;top&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">theme</span><span class="o">=</span><span class="s2">&#34;light&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">lang</span><span class="o">=</span><span class="s2">&#34;zh-CN&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="o">-</span><span class="n">loading</span><span class="o">=</span><span class="s2">&#34;lazy&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">crossorigin</span><span class="o">=</span><span class="s2">&#34;anonymous&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>我的测试完成的结果</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  comments:
</span></span><span class="line"><span class="cl">    enabled: true # Enable comments globally
</span></span><span class="line"><span class="cl">    provider: giscus
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    giscus:
</span></span><span class="line"><span class="cl">      repo: SpadeKTLSG/SpadeKTLSG.github.io
</span></span><span class="line"><span class="cl">      repoID: R_kgDOLz5uXQ
</span></span><span class="line"><span class="cl">      category: Announcements
</span></span><span class="line"><span class="cl">      categoryID: DIC_kwDOLz5uXc4Ce_BV
</span></span><span class="line"><span class="cl">      mapping: pathname
</span></span><span class="line"><span class="cl">      lightTheme: 1
</span></span><span class="line"><span class="cl">      darkTheme: 1
</span></span><span class="line"><span class="cl">      reactionsEnabled: 1
</span></span><span class="line"><span class="cl">      emitMetadata: 0
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h3 id="搜索">
    <a href="#%e6%90%9c%e7%b4%a2" class="header-anchor">#</a>
    搜索
</h3><blockquote>
<p>文章很少, 不搞了</p>
</blockquote>
<p>选用<a class="link" href="https://gist.github.com/eddiewebb/735feb48f50f0ddd65ae5606a1cb41ae"  target="_blank" rel="noopener"
    >Github Gist for Fuse.js integration</a></p>
<p>只需要增加一些文件和修改config.toml中的output格式</p>
<p>具体参考引用: <a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AF%87-Hugo%E5%8D%9A%E5%AE%A2%E5%AE%9E%E7%8E%B0%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/"  target="_blank" rel="noopener"
    >博主Link</a>, 这里只记录我的操作流程</p>
<p>‍</p>
<h4 id="添加文件">
    <a href="#%e6%b7%bb%e5%8a%a0%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    添加文件
</h4><p>在hugo项目根目录添加4个文件：<code>content/search.md</code>​,<code>layouts/_default/search.html</code>​, <code>static/js/search.js</code>​,<code>layouts/_default/index.json</code>​</p>
<blockquote>
<p>这种带有目录层级的文件搭建, 可以选用命令行, 不用的话可以用IDE实现, 例如IDEA/VSCODE这类都可</p>
</blockquote>
<p>‍</p>
<h4 id="修改配置文件">
    <a href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    修改配置文件
</h4><p>我的是从主题配置文件里抓下来的hugo.yaml, 因此格式不太一样, 需要自行转换 - <a class="link" href="https://transform.tools/yaml-to-toml"  target="_blank" rel="noopener"
    >YAML to TOML (transform.tools)</a></p>
<p>‍</p>
<p>添加以下内容</p>
<blockquote>
<p>已经存在 <code>[outputs]</code>​这项，就在<code>home</code>​中增加<code>&quot;JSON&quot;</code>​格式</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">outputs</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">home</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;HTML&#34;</span><span class="p">,</span> <span class="s2">&#34;RSS&#34;</span><span class="p">,</span> <span class="s2">&#34;JSON&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">outputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">home</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">HTML</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">RSS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">JSON</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>余下见博主文章</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="访问统计">
    <a href="#%e8%ae%bf%e9%97%ae%e7%bb%9f%e8%ae%a1" class="header-anchor">#</a>
    访问统计
</h3><blockquote>
<p>没什么人看, 不搞</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="链接">
    <a href="#%e9%93%be%e6%8e%a5" class="header-anchor">#</a>
    链接
</h3><blockquote>
<p>社交链接, 友链等</p>
</blockquote>
<p>在配置文件里找到</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">menu:
</span></span><span class="line"><span class="cl">  social:
</span></span></code></pre></td></tr></table>
</div>
</div><p><a class="link" href="https://www.freecodecamp.org/chinese/news/mailto-link-how-to-make-an-html-email-link-example-code/"  target="_blank" rel="noopener"
    >mailto链接</a></p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="资源管理">
    <a href="#%e8%b5%84%e6%ba%90%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    资源管理
</h2><p>‍</p>
<p>‍</p>
<h3 id="图标">
    <a href="#%e5%9b%be%e6%a0%87" class="header-anchor">#</a>
    图标
</h3><p><a class="link" href="https://ibrights.github.io/post/blog20210527/"  target="_blank" rel="noopener"
    >参考Link</a></p>
<blockquote>
<p>‍</p>
</blockquote>
<p>‍</p>
<p>网上下载中意的图标后放到图标文件夹, 例如<a class="link" href="https://www.iconfont.cn/collections/index?spm=a313x.home_index.i1.1.58a33a81dgJYRy&amp;sortType=like&amp;page=2"  target="_blank" rel="noopener"
    >素材库</a></p>
<p>然后放到assets/icon就可以用了</p>
<p>‍</p>
<p>‍</p>
<h2 id="上游下游">
    <a href="#%e4%b8%8a%e6%b8%b8%e4%b8%8b%e6%b8%b8" class="header-anchor">#</a>
    上游下游
</h2><p>‍</p>
<h3 id="笔记软件">
    <a href="#%e7%ac%94%e8%ae%b0%e8%bd%af%e4%bb%b6" class="header-anchor">#</a>
    笔记软件
</h3><p>‍</p>
<h4 id="笔记软件自动化">
    <a href="#%e7%ac%94%e8%ae%b0%e8%bd%af%e4%bb%b6%e8%87%aa%e5%8a%a8%e5%8c%96" class="header-anchor">#</a>
    笔记软件自动化
</h4><p>具体参考其他博主的实例, 笔记软件可进一步简化从笔记软件写完文章之后到将md文档放入到hugo -&gt; post/里面的效率, 实现自动化</p>
<p>(内嵌js等内容)</p>
<p>‍</p>
<blockquote>
<p>我暂时不需要, 因为我都是统一导出md操作, 并且希望留下中间产物发布其他地方的, 大部分文章也暂时不打算在博客发. 于是这个操作就有点不实用了</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="博客管理客户端">
    <a href="#%e5%8d%9a%e5%ae%a2%e7%ae%a1%e7%90%86%e5%ae%a2%e6%88%b7%e7%ab%af" class="header-anchor">#</a>
    博客管理客户端
</h3><blockquote>
<p>指类似Github Desktop这种简化封装的博客应用, 适合摆烂&hellip; 我暂时不用</p>
</blockquote>
<p><a class="link" href="https://open.gridea.dev/"  target="_blank" rel="noopener"
    >Gridea | 一个静态博客写作客户端</a></p>
<p>‍</p>
<blockquote>
<p>就好像面试官问你: 你平常操作Git, 是图形化界面多一点还是命令行多一点? 你肯定得回答: 我用命令行, 并且很熟练 (然后被拷打致死, 乐)</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="流量">
    <a href="#%e6%b5%81%e9%87%8f" class="header-anchor">#</a>
    流量
</h3><blockquote>
<p>写博客是拿来干什么的? 拿来给人看! 嗨, 还真就这么一回事, 写完的文章确实就放那太不好了. 可是确实没人看啊 ;(</p>
</blockquote>
<p>‍</p>
<p>我选择暂时无线电静默, 先把复活赛打赢了再说</p>
<blockquote>
<p>关于我的&quot;复活赛&quot;是什么, 如果你好奇, 请继续寻找线索</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h1 id="附录">
    <a href="#%e9%99%84%e5%bd%95" class="header-anchor">#</a>
    附录
</h1><p>‍</p>
<p>‍</p>
<h2 id="二回熟">
    <a href="#%e4%ba%8c%e5%9b%9e%e7%86%9f" class="header-anchor">#</a>
    二回熟
</h2><blockquote>
<p>我拿到了一台新电脑&hellip;工作环境和旧电脑完完全全相同(本人见另一篇博客 - PC主力机选择)</p>
</blockquote>
<p>‍</p>
<h3 id="chocolatey重来">
    <a href="#chocolatey%e9%87%8d%e6%9d%a5" class="header-anchor">#</a>
    Chocolatey重来!
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">powershell</span> <span class="o">-</span><span class="n">NoProfile</span> <span class="o">-</span><span class="n">ExecutionPolicy</span> <span class="n">unrestricted</span> <span class="o">-</span><span class="n">Command</span> <span class="s2">&#34;iex ((new-object net.webclient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>安装完毕后<strong>开新实例</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h3 id="hugo重来">
    <a href="#hugo%e9%87%8d%e6%9d%a5" class="header-anchor">#</a>
    Hugo重来!
</h3><p>需要Hugo-extended</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">choco install hugo-extended
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo version
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<h3 id="factory-pull-local">
    <a href="#factory-pull-local" class="header-anchor">#</a>
    Factory pull local
</h3><p>IDEA图形化界面, 直接拉到二仙桥</p>
<p>‍</p>
<p>‍</p>
<p>之后就是和上面一样操作了. 爽!</p>
<p>‍</p>
<p>‍</p>
<h2 id="踩坑">
    <a href="#%e8%b8%a9%e5%9d%91" class="header-anchor">#</a>
    踩坑
</h2><blockquote>
<p>本人悲惨踩坑记录, 包括初号机内容(未公开 但是零号机文档已经包含其全部内容)</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="注意自动化脚本分支名称">
    <a href="#%e6%b3%a8%e6%84%8f%e8%87%aa%e5%8a%a8%e5%8c%96%e8%84%9a%e6%9c%ac%e5%88%86%e6%94%af%e5%90%8d%e7%a7%b0" class="header-anchor">#</a>
    注意自动化脚本分支名称
</h3><p>由于前一天的失败经历, 前面基础搭建流程还算顺利, 但是在自动化编辑文档时候看花了眼, 忘记自己的主分支都是master, 博主所用的是main, 花了1个小时调试才找到这个问题(平时都把main和master混用的后果, 被拷打了)</p>
<p>‍</p>
<h3 id="注意gitignore">
    <a href="#%e6%b3%a8%e6%84%8fgitignore" class="header-anchor">#</a>
    注意gitignore
</h3><p>不要自作聪明把本地编译出来的public文件添加到忽略列表里, 否则自动生成的GithubPage啥都没有, 只有搞笑的XML页面</p>
<p>‍</p>
<h3 id="收手吧阿伟">
    <a href="#%e6%94%b6%e6%89%8b%e5%90%a7%e9%98%bf%e4%bc%9f" class="header-anchor">#</a>
    收手吧阿伟
</h3><p>博客美化什么是次要的, 内容才是第一的, 搭建到提高篇前面我花了8h(从0开始, 算上之前的失败经历), 也许是太慢了. (因为找域名花了很久)</p>
<p>‍</p>
<h3 id="设置文件配置">
    <a href="#%e8%ae%be%e7%bd%ae%e6%96%87%e4%bb%b6%e9%85%8d%e7%bd%ae" class="header-anchor">#</a>
    设置文件配置
</h3><p>几个关键点小心再小心, 需要改的地方都指出来了</p>
<p>‍</p>
<h3 id="删除文件后需要刷新一次">
    <a href="#%e5%88%a0%e9%99%a4%e6%96%87%e4%bb%b6%e5%90%8e%e9%9c%80%e8%a6%81%e5%88%b7%e6%96%b0%e4%b8%80%e6%ac%a1" class="header-anchor">#</a>
    删除文件后需要刷新一次
</h3><p>额外执行一次</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo
</span></span></code></pre></td></tr></table>
</div>
</div><p>再上传</p>
<p>‍</p>
<h3 id="toml---yml-转化">
    <a href="#toml---yml-%e8%bd%ac%e5%8c%96" class="header-anchor">#</a>
    Toml &lt;-&gt; Yml 转化
</h3><p>本人后端牛马, 这个用的挺少, 不懂手撕, 于是常备转换器&hellip; 不然报错多的头皮发麻</p>
<p>‍</p>
<h3 id="系统cmd控制台需要开全局代理--tun模式才能稳定下载">
    <a href="#%e7%b3%bb%e7%bb%9fcmd%e6%8e%a7%e5%88%b6%e5%8f%b0%e9%9c%80%e8%a6%81%e5%bc%80%e5%85%a8%e5%b1%80%e4%bb%a3%e7%90%86--tun%e6%a8%a1%e5%bc%8f%e6%89%8d%e8%83%bd%e7%a8%b3%e5%ae%9a%e4%b8%8b%e8%bd%bd" class="header-anchor">#</a>
    系统CMD控制台需要开全局代理 + TUN模式才能稳定下载
</h3><p>反正我开全局还不够, 系统代理这里好像没有用, 要开TUN</p>
<blockquote>
<p>当时8KB/s 一边哭一边下, 一边哭一边下, 就是不肯退</p>
</blockquote>
<p>‍</p>
<h3 id="记得修改魔改配置之前提交">
    <a href="#%e8%ae%b0%e5%be%97%e4%bf%ae%e6%94%b9%e9%ad%94%e6%94%b9%e9%85%8d%e7%bd%ae%e4%b9%8b%e5%89%8d%e6%8f%90%e4%ba%a4" class="header-anchor">#</a>
    记得修改(魔改)配置之前提交
</h3><p>照着博主的内容魔改html前端的东西, 后端牛马可谓是对牛弹琴了, 改完了也不知道哪里错了, 这个时候才想起来忘记commit了, 或者是删除中间文件了, 就很难受</p>
<p>‍</p>
<h3 id="暂时实现不了的别硬实现摆-下次再来">
    <a href="#%e6%9a%82%e6%97%b6%e5%ae%9e%e7%8e%b0%e4%b8%8d%e4%ba%86%e7%9a%84%e5%88%ab%e7%a1%ac%e5%ae%9e%e7%8e%b0%e6%91%86-%e4%b8%8b%e6%ac%a1%e5%86%8d%e6%9d%a5" class="header-anchor">#</a>
    暂时实现不了的别硬实现(摆), 下次再来
</h3><p>Tag和Categories实现失败, 不搞了, 反而在搞的时候触发了其他地方代码, 导致错误混杂无法定位了</p>
<blockquote>
<p>真丢人哇, 下次一定 : (</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h2 id="成果">
    <a href="#%e6%88%90%e6%9e%9c" class="header-anchor">#</a>
    成果
</h2><p>引述<a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AF%87-Hugo&#43;Github-Pages&#43;Github-Action%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88%E4%B9%8B%E4%B8%89%E9%85%8D%E7%BD%AEGithub-Action%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/"  target="_blank" rel="noopener"
    >博主</a>:</p>
<blockquote>
<p>GitHub Action，按工作流的配置自动生成静态页面文件，并推送到GitHub Pages仓库。而 GitHub Pages 仓库更新后，又会自动触发官方页面部署 CI，实现网站的自动发布</p>
</blockquote>
<p>就是自动化操作</p>
<p>‍</p>
<h3 id="流程综合">
    <a href="#%e6%b5%81%e7%a8%8b%e7%bb%bc%e5%90%88" class="header-anchor">#</a>
    流程综合
</h3><blockquote>
<p>哪怕用Github完成Action部署, 但还真是, 体力活. 于是想法子把流程简化下</p>
</blockquote>
<blockquote>
<p>这部分基础篇提高篇通用, 于是移到附录</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h4 id="移花接木式导入文章">
    <a href="#%e7%a7%bb%e8%8a%b1%e6%8e%a5%e6%9c%a8%e5%bc%8f%e5%af%bc%e5%85%a5%e6%96%87%e7%ab%a0" class="header-anchor">#</a>
    移花接木式导入文章
</h4><blockquote>
<p>个人情况, 默认文章很大不方便在笔记软件或IDEA中展示</p>
</blockquote>
<p>通过思源(我的笔记软件)写了一篇文章, 准备好了选择导出为md. 导出成功后鼠标移动到通知上在文件夹打开</p>
<p>复制其名称</p>
<p>之后打开IDEA, 在IDEA内置cmd中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">hugo new post/名称
</span></span></code></pre></td></tr></table>
</div>
</div><p>留在IDEA中找到对应文件, 复制其预生成内容</p>
<p>双击导出的md文件(默认用VSCODE打开), 预生成内容黏贴到导出的md的头部</p>
<p>完成嵌入的自己文档直接拖拽到IDEA里面覆盖</p>
<p>IDEA commit &amp; push, 提交并推送</p>
<p>‍</p>
<p>(差不多20s)</p>
<p>喝口水, 打开页面, 砰!好了</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="脚本打包预览实现">
    <a href="#%e8%84%9a%e6%9c%ac%e6%89%93%e5%8c%85%e9%a2%84%e8%a7%88%e5%ae%9e%e7%8e%b0" class="header-anchor">#</a>
    <strong>脚本打包预览实现</strong>
</h4><p>如果要预览一下, 控制台还是很繁琐的, 于是借鉴了<a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >博主</a>的批处理脚本程序</p>
<blockquote>
<p>根目录创建preview.bat</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@echo off
</span></span><span class="line"><span class="cl">echo 【preview ur blog】
</span></span><span class="line"><span class="cl">start  http://localhost:1313/
</span></span><span class="line"><span class="cl">hugo server
</span></span><span class="line"><span class="cl">pause
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>‍</p>
<p>同样我进行了优化, 创建了previewBest.bat, 用来一并查看草稿, 还创建了一键清理public + hugo + hugo server预览的流程</p>
<p>‍</p>
<p>但他们可能在IDEA等IDE中无法正常运行, 例如其没有提供bat支持, Intellij IDEA我装了插件Batch Scripts Support, 再加上Idea我配置的启动快捷键, Alt + V直接运行脚本, 自动清理public, 重新打包预览避免残留文件问题. 同时将浏览器类型留空, 即替换为默认浏览器</p>
<p>于是我的最终配置 cleanBuildViewAll.bat 诞生!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@echo off
</span></span><span class="line"><span class="cl">echo 【del all temp res in /public then preview ur blog with drafts show】
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">del /s /q &#34;.\public\*&#34;
</span></span><span class="line"><span class="cl">for /d %%x in (.\public\*) do rd /s /q &#34;%%x&#34;
</span></span><span class="line"><span class="cl">start  http://localhost:1313/
</span></span><span class="line"><span class="cl">hugo server -D
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pause
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>美化后</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@echo off
</span></span><span class="line"><span class="cl">echo [清理/public, 完整构建, 预览启动]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">del /s /q &#34;.\public\*&#34;
</span></span><span class="line"><span class="cl">for /d %%x in (.\public\*) do rd /s /q &#34;%%x&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">echo [清理残余/public完毕]
</span></span><span class="line"><span class="cl">start  http://localhost:1313/
</span></span><span class="line"><span class="cl">hugo
</span></span><span class="line"><span class="cl">echo [hugo 完整构建完毕]
</span></span><span class="line"><span class="cl">hugo server -D
</span></span><span class="line"><span class="cl">echo [hugo 预览启动]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pause
</span></span></code></pre></td></tr></table>
</div>
</div><p>‍</p>
<p>‍</p>
<h4 id="普通加强式导入文章">
    <a href="#%e6%99%ae%e9%80%9a%e5%8a%a0%e5%bc%ba%e5%bc%8f%e5%af%bc%e5%85%a5%e6%96%87%e7%ab%a0" class="header-anchor">#</a>
    普通加强式导入文章
</h4><p>由上面所有基础篇高级篇内容整合, 现在写文到发布经历过程:</p>
<p>(假设需要的文章已经导出为md躺着了)</p>
<ol>
<li>打开IDEA, 定位项目 (单击Win, 单击IDEA, 单击最近项目) * 3</li>
<li>脚本右键(双击运行) <strong>写文</strong>, 输入标题目录 (平均敲键盘10下) * 12</li>
<li>复制写完文章的md内容到生成的文章, * 4</li>
<li>检查丢失的本地资源文件手动嵌入 ==(!)== (体力活, 还好我从不在笔记里插入本地图片, 都是超链接) *  N</li>
<li>觉得差不多了, 脚本右键(双击运行) <strong>运行</strong>, 查看 (自动打开页面, 浏览点击几次鼠标即可) * 2</li>
<li>关闭浏览器, IDEA图形化提交点几下提交并推送 (单击 &ldquo;提交&rdquo;, 单击 &ldquo;全选&rdquo;, 单击&quot;提交并推送&quot;, 单击&quot;确定&quot;) * 4</li>
<li>20s - 30s后打开页面, 看一眼跑路 *1</li>
</ol>
<p>‍</p>
<p>共计单击键盘鼠标 25 + N 次</p>
<p>‍</p>
<h5 id="所以">
    <a href="#%e6%89%80%e4%bb%a5" class="header-anchor">#</a>
    所以&hellip;?
</h5><blockquote>
<p>太不直观了&hellip;得想想办法变换一下这个概念</p>
</blockquote>
<p>‍</p>
<p>等价交换^（偷换概念）^:</p>
<ul>
<li>
<p>让手机开始计时, 连续单击某经常坏的蓝牙静音鼠标左键达到28次停止, 平均时间约为5.3s</p>
</li>
<li>
<p>打开赛博朋克2077, 植入螳螂刀 + Hunter式飞扑击杀一只杂兵需要</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">W + shift冲刺 + ctrl突进 + space * 2 + 空中俯冲突进 + 左键蓄力放松螳螂刀坠击 + F斩杀 = 8次点击
</span></span></code></pre></td></tr></table>
</div>
</div><p>也就是等于4个杂兵的生命</p>
</li>
</ul>
<p>‍</p>
<p>于是经过优化的发送博客的时间成本就 == 5.3s的连续单击 == 4个杂兵, hmmm可以接受, 可以接受</p>
<p>‍</p>
<blockquote>
<p>以上纯为扯淡, 总之我都是存着一段时间后再一起发, 那个时间段价值不高, 因此我不怎么在乎10s - 60s的差别, 能发就好, 能发就好(摆)</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h3 id="工作环境">
    <a href="#%e5%b7%a5%e4%bd%9c%e7%8e%af%e5%a2%83" class="header-anchor">#</a>
    工作环境
</h3><p>本地只需要下载一个BlogFactory仓库, 无需使用BlogProduct仓库(自动配置)</p>
<p>说走就走, 仓库根目录留下这篇文档, 啥时候忘了就拿出来查查&hellip;</p>
<p>‍</p>
<p>‍</p>
<h3 id="学到了什么">
    <a href="#%e5%ad%a6%e5%88%b0%e4%ba%86%e4%bb%80%e4%b9%88" class="header-anchor">#</a>
    学到了什么
</h3><blockquote>
<p>个人感受</p>
</blockquote>
<p>激动之情溢于言表, 让我冷静几天再来&hellip;</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="引用">
    <a href="#%e5%bc%95%e7%94%a8" class="header-anchor">#</a>
    引用
</h2><blockquote>
<p>所有借鉴内容, 部分在正文有明确提及, 统一表示感谢!</p>
</blockquote>
<p>‍</p>
<p>基础篇</p>
<ul>
<li><a class="link" href="https://hugo.opendocs.io/getting-started/quick-start/"  target="_blank" rel="noopener"
    >快速入门 | Hugo官方文档 (opendocs.io)</a></li>
<li><a class="link" href="https://zexwoo.blog/posts/tutorials/build-hugo-blog/"  target="_blank" rel="noopener"
    >如何在 Windows 系统从零开始构建一个和我一样的 Hugo 博客 (zexwoo.blog)</a></li>
<li><a class="link" href="https://juejin.cn/post/7222602874630750265"  target="_blank" rel="noopener"
    >无需付费 GitHub Pages，轻松搭建个人博客 - 掘金 (juejin.cn)</a></li>
<li><a class="link" href="https://juejin.cn/post/7299346813257007138"  target="_blank" rel="noopener"
    >用Github和Cloudflare自建博客 - 掘金 (juejin.cn)</a></li>
<li><a class="link" href="https://answers.fuyeor.com/zh-hans/question/8462"  target="_blank" rel="noopener"
    >怎么利用 GitHub 绑定域名来做一个网站？ « 复网问答 (fuyeor.com)</a></li>
<li><a class="link" href="https://xiaoma.cool/2022/10/26/GitHub%E5%AD%A6%E7%94%9F%E5%8C%85%E7%99%BD%E5%AB%96Jetbrains%E5%85%A8%E5%AE%B6%E6%A1%B6%E7%AD%89%E6%9D%83%E7%9B%8A/#4-GitHub-Pro%E7%99%BD%E5%AB%96NameCheap%E5%9F%9F%E5%90%8D"  target="_blank" rel="noopener"
    >GitHub学生包白嫖Jetbrains全家桶等权益(福利) - 糖果梦博客 (xiaoma.cool)</a></li>
<li><a class="link" href="https://education.github.com/pack/offers"  target="_blank" rel="noopener"
    >GitHub Student Developer Pack - GitHub Education</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/497671233"  target="_blank" rel="noopener"
    >Hugo 博客写作最佳实践 - 知乎 (zhihu.com)</a></li>
<li><a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E4%B9%9D%E7%AF%87-Hugo&#43;Github-Pages&#43;Github-Action%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88%E4%B9%8B%E4%B8%80%E4%BD%BF%E7%94%A8Hugo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"  target="_blank" rel="noopener"
    >建站第九篇 Hugo+Github Pages+Github Action博客方案之一——使用Hugo搭建个人博客 | DD299的博客 | DD299 Blog (goodfun.me)</a> (三部曲) + 合集 <a class="link" href="https://www.goodfun.me/tags/Hugo/page/2/"  target="_blank" rel="noopener"
    >Hugo | DD299的博客 | DD299 Blog (goodfun.me)</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/105021100"  target="_blank" rel="noopener"
    >使用 Hugo + Github 搭建个人博客 - 知乎 (zhihu.com)</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/644838582"  target="_blank" rel="noopener"
    >从零开始的 Hugo 博客搭建 - 知乎 (zhihu.com)</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/649542248"  target="_blank" rel="noopener"
    >在github.io用hugo部署个人博客，2023新教程 - 知乎 (zhihu.com)</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/364366127"  target="_blank" rel="noopener"
    >GitHub Actions入门教程-自动部署静态博客 - 知乎 (zhihu.com)</a> 可以看看Github Action</li>
</ul>
<p>‍</p>
<p>提高篇</p>
<ul>
<li><a class="link" href="https://www.goodfun.me/post/%E5%BB%BA%E7%AB%99%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AF%87-Hugo%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8giscus%E4%BD%9C%E4%B8%BA%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"  target="_blank" rel="noopener"
    >建站第十二篇 Hugo博客使用giscus作为评论系统 | DD299的博客 | DD299 Blog (goodfun.me)</a></li>
<li><a class="link" href="https://zhajiman.github.io/post/rebuild_blog/#%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87"  target="_blank" rel="noopener"
    >用 Hugo 重新搭建博客 - 炸鸡人博客 (zhajiman.github.io)</a></li>
<li><a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack"  target="_blank" rel="noopener"
    >CaiJimmy/hugo-theme-stack: Card-style Hugo theme designed for bloggers (github.com)</a></li>
<li><a class="link" href="https://stack-docs.netlify.app/zh/"  target="_blank" rel="noopener"
    >介绍 | Hugo 主题 Stack (stack-docs.netlify.app)</a> hugo 主题 stack 手册</li>
<li><a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/#%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2"  target="_blank" rel="noopener"
    >建站技术 | 使用 Hugo+Stack 简单搭建一个博客 (reincarnatey.net)</a></li>
<li><a class="link" href="https://thirdshire.com/hugo-stack-renovation/"  target="_blank" rel="noopener"
    >Hugo Stack主题装修笔记 (thirdshire.com)</a></li>
<li><a class="link" href="https://oxidane-uni.github.io/p/%E4%BD%BF%E7%94%A8-hugo-%E5%AF%B9%E5%8D%9A%E5%AE%A2%E7%9A%84%E9%87%8D%E5%BB%BA%E4%B8%8E-stack-%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96%E8%AE%B0%E5%BD%95/"  target="_blank" rel="noopener"
    >使用 Hugo 对博客的重建与 Stack 主题优化记录 (oxidane-uni.github.io)</a></li>
<li><a class="link" href="https://orianna-zzo.github.io/sci-tech/2018-01/blog%E5%85%BB%E6%88%90%E8%AE%B04-hugo%E4%B8%AD%E5%A2%9E%E5%8A%A0tags%E7%AD%89%E5%88%86%E7%B1%BB/"  target="_blank" rel="noopener"
    >Blog养成记(4) Hugo中增加tags等分类 | ZHENG Zi'ou (orianna-zzo.github.io)</a></li>
</ul>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="日志">
    <a href="#%e6%97%a5%e5%bf%97" class="header-anchor">#</a>
    日志
</h2><p>‍</p>
<p>2024-04-25</p>
<p>从2023.4月宣布要有一个个人博客彻底抛弃Qzone后的一年余, 正式对宿敌发起的总攻! ==我这一年沉淀的功力, 挡得住吗?==</p>
<blockquote>
<p>两个小时后, 被GIthub学生认证给的几个免费域名拷打, 不是这个问题就是那个问题; 又一小时后, 文档借鉴错了, 脑子红温了不懂怎么写文章, 还配置错了, 把随便一个自动化配置加进来, 真就一团乱麻, 感到羞愧万分迅速删库跑路了</p>
</blockquote>
<p>‍</p>
<p>2024-04-26</p>
<p>竟然被挡住了, 乐</p>
<p>但是我可是不屈不挠的呢, 喝!</p>
<p>‍</p>
<p>2024-04-27</p>
<p>第二天早上醒来后深刻的反省了, 一日干完&hellip;?</p>
<p>‍</p>
<p>2024-04-28</p>
<p>怎么今天还在干这个啊, 自己的屎山清理了吗? 作业写了吗? 有没有认真工作?</p>
<p>不干了, 导出然后发博客收摊&hellip;</p>
<p>‍</p>
<p><strong>战役总览</strong></p>
<ul>
<li>2023.Apr  宣布, 我想要一个博客</li>
<li>2024-3-18 开始博客支配事态</li>
<li>2024-04-27 15:54:24 制作完基础篇草稿</li>
<li>2024-04-27 18:00:00 制作完提高篇草稿</li>
<li>2024-04-27 21:57:10 完结</li>
<li>2024-04-28 润色, 发布, 存档</li>
<li>2024-04-28 20:18:55 导入其他文章</li>
<li>2024-04-29 删库跑路予定</li>
</ul>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            最后更新于 2024-04-29 18:50 CST
        </span>
    </section></footer>


    
</article>

    

    

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="SpadeKTLSG/SpadeKTLSG.github.io"
    data-repo-id="R_kgDOLz5uXQ"
    data-category="Announcements"
    data-category-id="DIC_kwDOLz5uXc4Ce_BV"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="1"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('1');
            } else {
                setGiscusTheme('1');
            }
        }
    })();
</script>

    

    <footer class="site-footer">

    <section class="copyright">
        &copy;
        
        2024 SpadeK
    </section>


    
    <section class="running-time">
        本博客已稳定运行
        <span id="runningdays" class="running-days"></span>
    </section>

    
    <section class="totalcount">
        
        
        
        
        
        
        
        
        
        
        
        
        发表了4篇文章 ·
        总计27.68k字
    </section>


    <section class="powerby">
        
            Powered by Blood, Sweat, and Tears
        
        <br/>使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.25.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>


</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<script>
    let s1 = '2024-4-27'; 
    s1 = new Date(s1.replace(/-/g, "/"));
    let s2 = new Date();
    let timeDifference = s2.getTime() - s1.getTime();

    let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
    let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));

    let result = days + "天" + hours + "小时" + minutes + "分钟";
    document.getElementById('runningdays').innerHTML = result;
</script>
    </body>
</html>
