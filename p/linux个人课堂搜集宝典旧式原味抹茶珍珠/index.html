<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="&ndash; 精心烘焙的 Linux 指令手册 \u200d 已经导出, 不会进行更新维护 # Header 主要应付学业使用, 提取内容到独立文档后封存 2024-03-27 原味导出 改编自&lt;决战 linux 之巅&gt;的">
<title>Linux个人课堂搜集宝典旧式原味抹茶珍珠</title>

<link rel='canonical' href='https://spadektlsg.github.io/p/linux%E4%B8%AA%E4%BA%BA%E8%AF%BE%E5%A0%82%E6%90%9C%E9%9B%86%E5%AE%9D%E5%85%B8%E6%97%A7%E5%BC%8F%E5%8E%9F%E5%91%B3%E6%8A%B9%E8%8C%B6%E7%8F%8D%E7%8F%A0/'>

<link rel="stylesheet" href="/scss/style.min.67e1d55df895e92f972a3c6377b28d4465c25830c4976c898200217da8ea97f2.css"><meta property='og:title' content="Linux个人课堂搜集宝典旧式原味抹茶珍珠">
<meta property='og:description' content="&ndash; 精心烘焙的 Linux 指令手册 \u200d 已经导出, 不会进行更新维护 # Header 主要应付学业使用, 提取内容到独立文档后封存 2024-03-27 原味导出 改编自&lt;决战 linux 之巅&gt;的">
<meta property='og:url' content='https://spadektlsg.github.io/p/linux%E4%B8%AA%E4%BA%BA%E8%AF%BE%E5%A0%82%E6%90%9C%E9%9B%86%E5%AE%9D%E5%85%B8%E6%97%A7%E5%BC%8F%E5%8E%9F%E5%91%B3%E6%8A%B9%E8%8C%B6%E7%8F%8D%E7%8F%A0/'>
<meta property='og:site_name' content='玄桃K的博客'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-01-20T21:10:31&#43;08:00'/><meta property='article:modified_time' content='2024-03-27T10:11:31&#43;08:00'/><meta property='og:image' content='https://spadektlsg.github.io/study/002/helper1.png' />
<meta name="twitter:title" content="Linux个人课堂搜集宝典旧式原味抹茶珍珠">
<meta name="twitter:description" content="&ndash; 精心烘焙的 Linux 指令手册 \u200d 已经导出, 不会进行更新维护 # Header 主要应付学业使用, 提取内容到独立文档后封存 2024-03-27 原味导出 改编自&lt;决战 linux 之巅&gt;的"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://spadektlsg.github.io/study/002/helper1.png' />
    <link rel="shortcut icon" href="/sys/favicon.png" />

  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png" width="756"
                            height="749" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😋</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">玄桃K的博客</a></h1>
            <h2 class="site-description">还在打复活赛</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/SpadeKTLSG/'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291872628" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7497" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M153.770667 517.558857l200.387047-197.241905L302.86019 268.190476 48.761905 518.290286l254.439619 243.614476 50.590476-52.833524-200.021333-191.512381zM658.285714 320.316952L709.583238 268.190476l254.098286 250.09981L709.241905 761.904762l-50.590476-52.833524 200.021333-191.512381L658.285714 320.316952z m-112.981333-86.186666L393.99619 785.554286l70.534096 19.358476 151.30819-551.399619-70.534095-19.358476z" p-id="7498"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:spadekxcwxtlsg@gmail.com'
                        target="_blank"
                        title="Email"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291517604" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7497" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M926.47619 355.644952V780.190476a73.142857 73.142857 0 0 1-73.142857 73.142857H170.666667a73.142857 73.142857 0 0 1-73.142857-73.142857V355.644952l73.142857 62.000762V780.190476h682.666666V417.645714l73.142857-62.000762zM853.333333 170.666667a74.044952 74.044952 0 0 1 26.087619 4.778666 72.704 72.704 0 0 1 30.622477 22.186667 73.508571 73.508571 0 0 1 10.678857 17.67619c3.169524 7.509333 5.12 15.652571 5.607619 24.210286L926.47619 243.809524v24.380952L559.469714 581.241905a73.142857 73.142857 0 0 1-91.306666 2.901333l-3.632762-2.925714L97.52381 268.190476v-24.380952a72.899048 72.899048 0 0 1 40.155428-65.292191A72.97219 72.97219 0 0 1 170.666667 170.666667h682.666666z m-10.971428 73.142857H181.638095L512 525.58019 842.361905 243.809524z" p-id="7498"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://space.bilibili.com/363101711'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1714291537293" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7801" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M772.437333 97.52381l51.712 51.712-126.342095 126.342095H828.952381a73.142857 73.142857 0 0 1 73.142857 73.142857v487.619048a73.142857 73.142857 0 0 1-73.142857 73.142857H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142857v-487.619048a73.142857 73.142857 0 0 1 73.142857-73.142857h131.120762L199.850667 149.23581 251.562667 97.52381l178.054095 178.054095h164.742095L772.437333 97.52381zM828.952381 348.720762H195.047619v487.619048h633.904762v-487.619048z m-280.380952 73.142857v341.333333h-73.142858v-341.333333h73.142858z m-134.095239 73.142857v195.047619h-73.142857v-195.047619h73.142857z m268.190477 24.380953v146.285714h-73.142857v-146.285714h73.142857z" p-id="7802"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li>
      <ol>
        <li>
          <ol>
            <li><a href="#header">Header</a></li>
          </ol>
        </li>
        <li><a href="#知识">知识</a>
          <ol>
            <li><a href="#版本">版本</a>
              <ol>
                <li><a href="#内核版本">内核版本</a></li>
                <li><a href="#发行版本">发行版本</a></li>
              </ol>
            </li>
            <li><a href="#linux-目录">Linux 目录</a></li>
            <li><a href="#用户目录">用户目录</a></li>
            <li><a href="#启动过程">启动过程</a>
              <ol>
                <li><a href="#加载内核">加载内核</a></li>
                <li><a href="#启动初始化进程-init">启动初始化进程 init</a></li>
                <li><a href="#确定运行级别">确定运行级别</a></li>
                <li><a href="#加载开机启动程序">加载开机启动程序</a></li>
                <li><a href="#用户登录">用户登录</a></li>
                <li><a href="#login-shell">login shell</a></li>
              </ol>
            </li>
            <li><a href="#用户账号系统文件">用户账号系统文件</a>
              <ol>
                <li><a href="#etcpasswd-文件是用户管理工作涉及的最重要的一个文件">/etc/passwd 文件是用户管理工作涉及的最重要的一个文件</a></li>
                <li><a href="#用户名是代表用户账号的字符串">&ldquo;用户名&quot;是代表用户账号的字符串</a></li>
                <li><a href="#口令一些系统中存放着加密后的用户口令字">“口令”一些系统中，存放着加密后的用户口令字</a></li>
                <li><a href="#用户标识号是一个整数系统内部用它来标识用户">“用户标识号”是一个整数，系统内部用它来标识用户</a></li>
                <li><a href="#组标识号字段记录的是用户所属的用户组">“组标识号”字段记录的是用户所属的用户组。</a></li>
                <li><a href="#注释性描述字段记录着用户的一些个人情况">“注释性描述”字段记录着用户的一些个人情况。</a></li>
                <li><a href="#主目录也就是用户的起始工作目录">“主目录”，也就是用户的起始工作目录。</a></li>
                <li><a href="#shell">Shell</a></li>
                <li><a href="#伪用户pseudo-users">伪用户（pseudo users）</a></li>
                <li><a href="#拥有帐户文件">拥有帐户文件</a></li>
                <li><a href="#用户组的所有信息都存放在etcgroup-文件中">用户组的所有信息都存放在/etc/group 文件中。</a></li>
                <li><a href="#批量添加用户">批量添加用户</a>
                  <ol>
                    <li><a href="#1先编辑一个文本用户文件">（1）先编辑一个文本用户文件。</a></li>
                    <li><a href="#2以-root-身份执行命令-usrsbinnewusers从刚创建的用户文件usertxt-中导入数据创建用户">（2）以 root 身份执行命令 ​/usr/sbin/newusers​​​​，从刚创建的用户文件<code>user.txt</code>​​​​ 中导入数据，创建用户：</a></li>
                    <li><a href="#3执行命令usrsbinpwunconv">（3）执行命令/usr/sbin/pwunconv。</a></li>
                    <li><a href="#4编辑每个用户的密码对照文件">（4）编辑每个用户的密码对照文件。</a></li>
                    <li><a href="#5以-root-身份执行命令-usrsbinchpasswd">（5）以 root 身份执行命令 <code>/usr/sbin/chpasswd</code>​​​。</a></li>
                    <li><a href="#6确定密码经编码写入etcpasswd-的密码栏后">（6）确定密码经编码写入/etc/passwd 的密码栏后。</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#链接">链接</a>
              <ol>
                <li><a href="#图形桌面快捷方式">图形桌面快捷方式</a>
                  <ol>
                    <li><a href="#软连接">软连接</a></li>
                    <li><a href="#复制快捷方式"><strong>复制快捷方式</strong></a></li>
                    <li><a href="#文件快捷方式">文件快捷方式</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#shell-1">Shell</a>
              <ol>
                <li><a href="#shellhelloworld">ShellHelloWorld</a></li>
              </ol>
            </li>
            <li><a href="#重定向命令">重定向命令</a>
              <ol>
                <li><a href="#输出重定向">输出重定向</a></li>
                <li><a href="#输入重定向">输入重定向</a>
                  <ol>
                    <li><a href="#重定向深入讲解">重定向深入讲解</a></li>
                  </ol>
                </li>
                <li><a href="#here-document">Here Document</a>
                  <ol>
                    <li><a href="#实例">实例</a></li>
                  </ol>
                </li>
                <li><a href="#devnull-文件">/dev/null 文件</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#环境">环境</a>
          <ol>
            <li><a href="#网络模式">网络模式</a>
              <ol>
                <li><a href="#桥接">桥接</a></li>
                <li><a href="#host-only">Host-only</a></li>
                <li><a href="#nat">NAT</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#指令">指令</a>
          <ol>
            <li><a href="#直属">直属</a></li>
            <li><a href="#通用">通用</a></li>
            <li><a href="#终端操作">终端操作</a>
              <ol>
                <li><a href="#帮助">帮助</a></li>
                <li><a href="#历史记录">历史记录</a></li>
                <li><a href="#ctrl-组合键">Ctrl 组合键</a></li>
              </ol>
            </li>
            <li><a href="#权限管理">权限管理</a>
              <ol>
                <li><a href="#显示">显示</a>
                  <ol>
                    <li><a href="#stat">stat</a></li>
                    <li><a href="#lsattr">lsattr</a></li>
                  </ol>
                </li>
                <li><a href="#改变">改变</a>
                  <ol>
                    <li><a href="#chmod">chmod</a></li>
                    <li><a href="#chown">chown</a></li>
                    <li><a href="#chgrp">chgrp</a></li>
                    <li><a href="#chattr">chattr</a></li>
                  </ol>
                </li>
                <li><a href="#特殊">特殊</a>
                  <ol>
                    <li><a href="#setuidsuid">setUID(suid)</a></li>
                    <li><a href="#setgidsgid">setGID(sgid)</a></li>
                  </ol>
                </li>
                <li><a href="#预设">预设</a>
                  <ol>
                    <li><a href="#stickysbit">sticky(sbit)</a></li>
                    <li><a href="#umask">umask</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#文件管理">文件管理</a>
              <ol>
                <li><a href="#显示-1">显示</a>
                  <ol>
                    <li><a href="#cat-tac">cat-tac</a></li>
                  </ol>
                </li>
                <li><a href="#分页">分页</a>
                  <ol>
                    <li><a href="#nl">nl</a></li>
                    <li><a href="#more-less">more-less</a></li>
                    <li><a href="#head-tail">head-tail</a></li>
                  </ol>
                </li>
                <li><a href="#创建">创建</a>
                  <ol>
                    <li><a href="#touch">touch</a></li>
                    <li><a href="#vivim"><strong>vi/vim</strong></a></li>
                    <li><a href="#ls--">ls + &gt;、&gt;&gt;</a></li>
                    <li><a href="#grep">grep</a></li>
                    <li><a href="#echo">echo</a></li>
                    <li><a href="#ln">ln</a></li>
                  </ol>
                </li>
                <li><a href="#目录">目录</a>
                  <ol>
                    <li><a href="#ls">ls</a></li>
                    <li><a href="#cd">cd</a></li>
                    <li><a href="#pwd">pwd</a></li>
                    <li><a href="#mkdir">mkdir</a></li>
                    <li><a href="#rm">rm</a></li>
                    <li><a href="#rmdir">rmdir</a></li>
                    <li><a href="#cp">cp</a></li>
                    <li><a href="#mv">mv</a></li>
                  </ol>
                </li>
                <li><a href="#搜索">搜索</a>
                  <ol>
                    <li><a href="#grep-1">grep</a></li>
                    <li><a href="#find">find</a></li>
                    <li><a href="#locate">locate</a></li>
                  </ol>
                </li>
                <li><a href="#归档">归档</a>
                  <ol>
                    <li><a href="#tar">tar</a></li>
                    <li><a href="#gzip">gzip</a></li>
                    <li><a href="#zip">zip</a></li>
                  </ol>
                </li>
                <li><a href="#管道">管道</a>
                  <ol>
                    <li><a href="#综合">综合</a></li>
                    <li><a href="#wc">wc</a></li>
                    <li><a href="#cut">cut</a></li>
                    <li><a href="#grep-2">grep</a></li>
                    <li><a href="#sort">sort</a></li>
                    <li><a href="#uniq">uniq</a></li>
                    <li><a href="#tee">tee</a></li>
                    <li><a href="#tr">tr</a></li>
                    <li><a href="#join">join</a></li>
                    <li><a href="#paste">paste</a></li>
                    <li><a href="#split">split</a></li>
                    <li><a href="#xargs">xargs</a></li>
                  </ol>
                </li>
                <li><a href="#特殊-1">特殊</a></li>
              </ol>
            </li>
            <li><a href="#用户管理">用户管理</a>
              <ol>
                <li><a href="#用户">用户</a>
                  <ol>
                    <li><a href="#whoami">whoami</a></li>
                    <li><a href="#who">who</a></li>
                    <li><a href="#exit">exit</a></li>
                    <li><a href="#useradd">useradd</a></li>
                    <li><a href="#usermod">usermod</a></li>
                    <li><a href="#userdel">userdel</a></li>
                    <li><a href="#passwd">passwd</a></li>
                    <li><a href="#su">su</a></li>
                    <li><a href="#sudo">sudo</a></li>
                  </ol>
                </li>
                <li><a href="#组管理">组管理</a>
                  <ol>
                    <li><a href="#groupadd">groupadd</a></li>
                    <li><a href="#groupmod">groupmod</a></li>
                    <li><a href="#newgrp">newgrp</a></li>
                    <li><a href="#groupdel">groupdel</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#系统管理">系统管理</a>
              <ol>
                <li><a href="#日期">日期</a>
                  <ol>
                    <li><a href="#cal">cal</a></li>
                    <li><a href="#date">date</a></li>
                  </ol>
                </li>
                <li><a href="#进程">进程</a>
                  <ol>
                    <li><a href="#ps">ps</a></li>
                    <li><a href="#top">top</a></li>
                    <li><a href="#kill">kill</a></li>
                  </ol>
                </li>
                <li><a href="#电源">电源</a>
                  <ol>
                    <li><a href="#rebootshutdowninit">reboot,<strong>shutdown,init</strong></a></li>
                  </ol>
                </li>
                <li><a href="#环境-1">环境</a>
                  <ol>
                    <li><a href="#which">which</a></li>
                    <li><a href="#export">export</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#磁盘管理">磁盘管理</a>
              <ol>
                <li><a href="#空间查看">空间查看</a>
                  <ol>
                    <li><a href="#df">df</a></li>
                    <li><a href="#du"><strong>du</strong></a></li>
                  </ol>
                </li>
                <li><a href="#分区">分区</a>
                  <ol>
                    <li><a href="#fdisk">fdisk</a></li>
                  </ol>
                </li>
                <li><a href="#维护">维护</a>
                  <ol>
                    <li><a href="#mkfs">mkfs</a></li>
                    <li><a href="#fsck">fsck</a></li>
                    <li><a href="#mount">mount</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#多机交互">多机交互</a>
              <ol>
                <li><a href="#防火墙">防火墙</a>
                  <ol>
                    <li><a href="#firewall">firewall</a></li>
                    <li><a href="#systemctl">systemctl</a></li>
                  </ol>
                </li>
                <li><a href="#网络">网络</a>
                  <ol>
                    <li><a href="#netstat">netstat</a></li>
                    <li><a href="#ifconfig">ifconfig</a></li>
                    <li><a href="#ping">ping</a></li>
                    <li><a href="#hostname">hostname</a></li>
                  </ol>
                </li>
                <li><a href="#远程连接">远程连接</a>
                  <ol>
                    <li><a href="#ssh">ssh</a></li>
                    <li><a href="#scp">scp</a></li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#软件">软件</a>
          <ol>
            <li><a href="#类型">类型</a>
              <ol>
                <li><a href="#源码包">源码包</a></li>
                <li><a href="#rpm-包">rpm 包</a></li>
                <li><a href="#依赖性">依赖性</a></li>
              </ol>
            </li>
            <li><a href="#管理">管理</a>
              <ol>
                <li><a href="#依赖性问题">依赖性问题</a></li>
                <li><a href="#查询软件是否安装">查询软件是否安装</a></li>
              </ol>
            </li>
            <li><a href="#yum">YUM</a>
              <ol>
                <li><a href="#管理-1">管理</a>
                  <ol>
                    <li><a href="#查询可用软件列表">查询可用软件列表</a></li>
                    <li><a href="#更新">更新</a></li>
                  </ol>
                </li>
                <li><a href="#命令">命令</a>
                  <ol>
                    <li><a href="#yum-1">yum</a></li>
                    <li><a href="#安装">安装</a></li>
                    <li><a href="#升级">升级</a></li>
                    <li><a href="#卸载">卸载</a></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="#rpm">RPM</a>
              <ol>
                <li><a href="#管理-2">管理</a></li>
                <li><a href="#命令-1">命令</a></li>
              </ol>
            </li>
            <li><a href="#压缩包">压缩包</a>
              <ol>
                <li><a href="#管理-3">管理</a>
                  <ol>
                    <li><a href="#解压后直接使用">解压后直接使用</a></li>
                  </ol>
                </li>
                <li><a href="#命令-2">命令</a></li>
              </ol>
            </li>
            <li><a href="#示例">示例</a>
              <ol>
                <li><a href="#idea-安装-hw">IDEA 安装 HW</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#vim">VIM</a>
          <ol>
            <li><a href="#注意">注意</a></li>
            <li><a href="#模式">模式</a></li>
            <li><a href="#直属-1">直属</a></li>
            <li><a href="#文件"><strong>文件</strong></a></li>
            <li><a href="#插入模式">插入模式</a></li>
            <li><a href="#命令模式">命令模式</a>
              <ol>
                <li><a href="#编辑命令">编辑命令</a></li>
                <li><a href="#移动光标">移动光标</a></li>
                <li><a href="#选中内容">选中内容</a></li>
                <li><a href="#字符转换">字符转换</a></li>
                <li><a href="#删除">删除</a></li>
                <li><a href="#撤销复原重复">撤销&amp;复原&amp;重复</a></li>
                <li><a href="#剪切复制粘贴">剪切&amp;复制&amp;粘贴</a></li>
              </ol>
            </li>
            <li><a href="#末行模式">==末行模式==</a>
              <ol>
                <li><a href="#文件-1">文件</a></li>
                <li><a href="#查找">查找</a></li>
                <li><a href="#替换">替换</a></li>
              </ol>
            </li>
            <li><a href="#可视模式">可视模式</a></li>
            <li><a href="#拓展操作">拓展操作</a>
              <ol>
                <li><a href="#代码颜色显示">代码颜色显示</a></li>
                <li><a href="#内置计算器">内置计算器</a></li>
                <li><a href="#配置">配置</a></li>
                <li><a href="#异常退出">异常退出</a></li>
                <li><a href="#别名机制">别名机制</a></li>
                <li><a href="#文件快捷方式-1">文件快捷方式</a></li>
                <li><a href="#退出方式">退出方式</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/linux%E4%B8%AA%E4%BA%BA%E8%AF%BE%E5%A0%82%E6%90%9C%E9%9B%86%E5%AE%9D%E5%85%B8%E6%97%A7%E5%BC%8F%E5%8E%9F%E5%91%B3%E6%8A%B9%E8%8C%B6%E7%8F%8D%E7%8F%A0/">
                
                    <img src="/study/002/helper1.png" loading="lazy" alt="Featured image of post Linux个人课堂搜集宝典旧式原味抹茶珍珠" />
                
            </a>
        </div>
    

    <div class="article-details">


    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/linux%E4%B8%AA%E4%BA%BA%E8%AF%BE%E5%A0%82%E6%90%9C%E9%9B%86%E5%AE%9D%E5%85%B8%E6%97%A7%E5%BC%8F%E5%8E%9F%E5%91%B3%E6%8A%B9%E8%8C%B6%E7%8F%8D%E7%8F%A0/">Linux个人课堂搜集宝典旧式原味抹茶珍珠</a>
        </h2>

        
    </div>

    
    
    
    
    <footer class="article-time">
        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
            <time class="article-time--published">2024-01-20</time>
        </div>
        

        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



            <time class="article-time--reading">
                阅读时长: 79 分钟
            </time>
        </div>
        
    </footer>
    

    

    
    


</div>
</header>

    <section class="article-content">
    
    
    <p>&ndash; 精心烘焙的 Linux 指令手册</p>
<p>‍</p>
<blockquote>
<p>已经导出, 不会进行更新维护</p>
</blockquote>
<h3 id="header">
    <a href="#header" class="header-anchor">#</a>
    Header
</h3><blockquote>
<p>主要应付学业使用, 提取内容到独立文档后封存 2024-03-27 原味导出</p>
</blockquote>
<p>改编自&lt;决战 linux 之巅&gt;的总结, 原文<a class="link" href="https://blog.csdn.net/as604049322/article/details/120446586"  target="_blank" rel="noopener"
    >CSDN</a></p>
<p>‍</p>
<blockquote>
<p>什么, 问我为什么要加上&quot;原味抹茶珍珠&quot;? 这是因为文章是原味的(个人笔记原装, 还热乎), 内容是抹茶味的(我吃吃吃!), 我读起来是要掉小珍珠的(太惨了, OTZ 被利尼克斯拷打的太惨了)
‍</p>
</blockquote>
<h2 id="知识">
    <a href="#%e7%9f%a5%e8%af%86" class="header-anchor">#</a>
    知识
</h2><p>‍</p>
<h3 id="版本">
    <a href="#%e7%89%88%e6%9c%ac" class="header-anchor">#</a>
    版本
</h3><p>‍</p>
<h4 id="内核版本">
    <a href="#%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac" class="header-anchor">#</a>
    内核版本
</h4><p>内核(kernel)是系统的心脏，是运行程序和管理像磁盘和打印机等硬件设备的核心程序，它提供了一个在裸设备与应用程序间的抽象层。</p>
<p>Linux 内核版本又分为稳定版和开发版，两种版本是相互关联，相互循环：</p>
<p>‍</p>
<p>稳定版：具有工业级强度，可以广泛地应用和部署。新的稳定版相对于较旧的只是修正一些 bug 或加入一些新的驱动程序。</p>
<p>开发版：由于要试验各种解决方案，所以变化很快。</p>
<p>内核源码网址：http://www.kernel.org 所有来自全世界的对 Linux 源码的修改最终都会汇总到这个网站，由 Linus 领导的开源社区对其进行甄别和修改最终决定是否进入到 Linux 主线内核源码中。</p>
<p>‍</p>
<h4 id="发行版本">
    <a href="#%e5%8f%91%e8%a1%8c%e7%89%88%e6%9c%ac" class="header-anchor">#</a>
    发行版本
</h4><p>Linux 发行版 (也被叫做 GNU/Linux 发行版) 通常包含了包括桌面环境、办公套件、媒体播放器、数据库等应用软件。</p>
<p>目前市面上较知名的发行版有：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、 SolusOS 等。</p>
<p>‍</p>
<p>‍</p>
<h3 id="linux-目录">
    <a href="#linux-%e7%9b%ae%e5%bd%95" class="header-anchor">#</a>
    Linux 目录
</h3><p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">/</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">....</span><span class="w">
</span></span></span></code></pre></div><p>​​</p>
<p>/：根目录，一般根目录下只存放目录，在 Linux 下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到 home 目录。</p>
<p>‍</p>
<p>/bin: /usr/bin: 可执行二进制文件的目录，如常用的命令 ls、tar、mv、cat 等。</p>
<p>/boot：放置 linux 系统启动时用到的一些文件，如 Linux 的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。</p>
<p>/dev：存放 linux 系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。</p>
<p>/etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有/etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。</p>
<p>‍</p>
<p>/home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，<code>~</code>​ 表示当前用户的家目录~， ~​<code>~edu</code>​ 表示用户 edu 的家目录。</p>
<p>/lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。</p>
<p>/lost+fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。</p>
<p>‍</p>
<p>/mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。</p>
<p>/opt：给主机额外安装软件所摆放的目录。</p>
<p>/proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有/proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。</p>
<p>‍</p>
<p>/root：系统管理员 root 的家目录。</p>
<p>/sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如 fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root 使用的命令，一般用户只能&quot;查看&quot;而不能设置和使用。</p>
<p>/tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。</p>
<p>/srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。</p>
<p>‍</p>
<p>/usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。</p>
<p>/var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其 PID 存放在该目录下。</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">bin</span><span class="err">：</span><span class="n">存放常见可执行命令</span><span class="err">，</span><span class="n">链接指向usr</span><span class="o">/</span><span class="n">bin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">sbin</span><span class="err">：</span><span class="n">系统级的可执行命令</span><span class="err">。</span><span class="n">root可使用的命令</span><span class="err">，</span><span class="n">链接指向usr</span><span class="o">/</span><span class="n">sbin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">lib</span><span class="err">：</span><span class="n">系统所需要的共享库文件</span><span class="err">，</span><span class="n">相当于win中的dll</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">lib64</span><span class="err">：</span><span class="n">64位相关的库文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">boot</span><span class="err">：</span><span class="n">系统启动引导内容</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">dev</span><span class="err">：</span><span class="n">硬件设备管理文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">etc</span><span class="err">：</span><span class="n">系统管理所需要的配置文件和其子目录</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">home</span><span class="err">：</span><span class="n">每个用户子目录的存放点</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">root</span><span class="err">：</span><span class="n">系统管理员</span><span class="err">（</span><span class="n">root用户</span><span class="err">）</span><span class="n">的主目录</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">opt</span><span class="err">：</span><span class="n">可选目录</span><span class="err">，</span><span class="n">给第三方软件提供的位置</span><span class="err">，</span><span class="n">第三方软件安装位置</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">media</span><span class="err">：</span><span class="n">识别一些可移动媒体设备</span><span class="err">（</span><span class="n">u盘</span><span class="err">，</span><span class="n">光驱</span><span class="err">）</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">mnt</span><span class="err">：</span><span class="n">移动化存储设备的另一个挂载点</span><span class="err">，</span><span class="n">和media相似</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">proc</span><span class="err">：</span><span class="n">进程目录</span><span class="err">，</span><span class="n">存放进程的映射</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">run</span><span class="err">：</span><span class="n">存放到目前为止的所有运行信息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">srv</span><span class="err">：</span><span class="n">存放和系统服务相关的内容</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">sys</span><span class="err">：</span><span class="n">系统硬件信息相关的文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">tmp</span><span class="err">：</span><span class="n">临时目录</span><span class="err">，</span><span class="n">随意存放</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">usr</span><span class="err">：</span><span class="n">存放了应用程序和用户相关的数据和文件</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">var</span><span class="err">：</span><span class="n">可变目录</span><span class="err">，</span><span class="n">经常会修改的内容</span><span class="err">（</span><span class="n">日志等</span><span class="err">）</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<h3 id="用户目录">
    <a href="#%e7%94%a8%e6%88%b7%e7%9b%ae%e5%bd%95" class="header-anchor">#</a>
    用户目录
</h3><p>位于/home/user，称之为用户工作目录或家目录,表示方式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">/home/user
</span></span><span class="line"><span class="cl">~
</span></span></code></pre></div><p>‍</p>
<p>每个目录下都有.和..</p>
<p>. 表示当前目录<br>
.. 表示上一级目录，即父目录</p>
<p>根目录下的.和..都表示当前目录</p>
<p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">文件的颜色</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">蓝色</td>
<td style="text-align:center">目录</td>
</tr>
<tr>
<td style="text-align:center">绿色</td>
<td style="text-align:center">可执行文件</td>
</tr>
<tr>
<td style="text-align:center">红色</td>
<td style="text-align:center">压缩文件</td>
</tr>
<tr>
<td style="text-align:center">浅蓝色</td>
<td style="text-align:center">链接文件</td>
</tr>
<tr>
<td style="text-align:center">灰色</td>
<td style="text-align:center">其他文件</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<h3 id="启动过程">
    <a href="#%e5%90%af%e5%8a%a8%e8%bf%87%e7%a8%8b" class="header-anchor">#</a>
    启动过程
</h3><p>‍</p>
<ol>
<li>内核的引导</li>
<li>运行 init</li>
<li>系统初始化</li>
<li>建立终端</li>
<li>用户登录系统</li>
</ol>
<p>‍</p>
<p>‍</p>
<h4 id="加载内核">
    <a href="#%e5%8a%a0%e8%bd%bd%e5%86%85%e6%a0%b8" class="header-anchor">#</a>
    加载内核
</h4><p>‍</p>
<p>当计算机打开电源后，首先是 BIOS 开机自检，按照 BIOS 中设置的启动设备（通常是硬盘）来启动。<br>
操作系统接管硬件以后，首先读入 /boot 目录下的内核文件。</p>
<p>‍</p>
<h4 id="启动初始化进程-init">
    <a href="#%e5%90%af%e5%8a%a8%e5%88%9d%e5%a7%8b%e5%8c%96%e8%bf%9b%e7%a8%8b-init" class="header-anchor">#</a>
    启动初始化进程 init
</h4><p>‍</p>
<p>内核文件加载以后，就开始运行第一个程序 /sbin/init，它的作用是初始化系统环境<br>
init 程序首先是需要读取配置文件/etc/inittab</p>
<p>‍</p>
<p>CentOS 各版本 init 配置文件的位置：<br>
SysV: init, CentOS 5 之前, 配置文件： /etc/inittab。<br>
Upstart: init,CentOS 6, 配置文件： /etc/inittab, /etc/init/*.conf。<br>
Systemd： systemd, CentOS 7,配置文件： /usr/lib/systemd/system、 /etc/systemd/system。</p>
<p>‍</p>
<h4 id="确定运行级别">
    <a href="#%e7%a1%ae%e5%ae%9a%e8%bf%90%e8%a1%8c%e7%ba%a7%e5%88%ab" class="header-anchor">#</a>
    确定运行级别
</h4><p>‍</p>
<p>许多程序需要开机启动。它们在 Windows 叫做&quot;服务&quot;（service），在 Linux 就叫做&quot;守护进程&quot;（daemon）</p>
<p>init 进程的一大任务，就是去运行这些开机启动的程序</p>
<p>但是，不同的场合需要启动不同的程序，比如用作服务器时，需要启动 Apache，用作桌面就不需要</p>
<p>Linux 允许为不同的场合，分配不同的开机启动程序，这就叫做&quot;运行级别&quot;（runlevel）。也就是说，启动时根据&quot;运<br>
行级别&quot;，确定要运行哪些程序。</p>
<p>‍</p>
<p>Linux 系统有 7 个运行级别(runlevel)：</p>
<p>运行级别 0：系统停机状态，系统默认运行级别不能设为 0，否则不能正常启动<br>
运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆<br>
运行级别 2：多用户状态(没有 NFS)<br>
运行级别 3：完全的多用户状态(有 NFS)，登陆后进入控制台命令行模式<br>
运行级别 4：系统未使用，保留<br>
运行级别 5：X11 控制台，登陆后进入图形 GUI 模式<br>
运行级别 6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动</p>
<p>‍</p>
<h4 id="加载开机启动程序">
    <a href="#%e5%8a%a0%e8%bd%bd%e5%bc%80%e6%9c%ba%e5%90%af%e5%8a%a8%e7%a8%8b%e5%ba%8f" class="header-anchor">#</a>
    加载开机启动程序
</h4><p>在 init 的配置文件中有这么一行： si::sysinit:/etc/rc.d/rc.sysinit 它调用执行了/etc/rc.d/rc.sysinit，而<br>
rc.sysinit 是一个 bash shell 的脚本，它主要是完成一些系统初始化的工作，rc.sysinit 是每一个运行级别都要首先运行<br>
的重要脚本。<br>
它主要完成的工作有：激活交换分区，检查磁盘，加载硬件模块以及其它一些需要优先执行任务</p>
<p>‍</p>
<p>// 下面内容太深了, 暂时打住</p>
<p>‍</p>
<h4 id="用户登录">
    <a href="#%e7%94%a8%e6%88%b7%e7%99%bb%e5%bd%95" class="header-anchor">#</a>
    用户登录
</h4><p>‍</p>
<p>一般来说，用户的登录方式有三种：</p>
<p>（1）命令行登录<br>
（2）ssh 登录<br>
（3）图形界面登录</p>
<p>‍</p>
<p>对于运行级别为 5 的图形方式用户来说，他们的登录是通过一个图形化的登录界面。登录成功后可以直接进入 KDE、Gnome 等窗口管理器。</p>
<p>而本文主要讲的还是文本方式登录的情况：当我们看到 mingetty 的登录界面时，我们就可以输入用户名和密码来登录系统了。</p>
<p>Linux 的账号验证程序是 login，login 会接收 mingetty 传来的用户名作为用户名参数。</p>
<p>然后 login 会对用户名进行分析：如果用户名不是 root，且存在 /etc/nologin 文件，login 将输出 nologin 文件的内容，然后退出。</p>
<p>这通常用来系统维护时防止非 root 用户登录。只有/etc/securetty 中登记了的终端才允许 root 用户登录，如果不存在这个文件，则 root 用户可以在任何终端上登录。</p>
<p>/etc/usertty 文件用于对用户作出附加访问限制，如果不存在这个文件，则没有其他限制。</p>
<p>‍</p>
<h4 id="login-shell">
    <a href="#login-shell" class="header-anchor">#</a>
    login shell
</h4><p>shell，简单说就是命令行界面，让用户可以直接与操作系统对话。用户登录时打开的 shell，就叫做 login shell。</p>
<p>‍</p>
<p>（1）命令行登录：首先读入 /etc/profile，这是对所有用户都有效的配置；然后依次寻找下面三个文件，这是针对当<br>
前用户的配置。<br>
需要注意的是，这三个文件只要有一个存在，就不再读入后面的文件了。比如，要是 ~/.bash_profile 存在，就不会再<br>
读入后面两个文件了。</p>
<p>（2）ssh 登录：与第一种情况完全相同。</p>
<p>（3）图形界面登录：只加载 /etc/profile 和 ~/.profile。也就是说，~/.bash_profile 不管有没有，都不会运行。</p>
<p>‍</p>
<p>‍</p>
<p>​​</p>
<p>‍</p>
<h3 id="用户账号系统文件">
    <a href="#%e7%94%a8%e6%88%b7%e8%b4%a6%e5%8f%b7%e7%b3%bb%e7%bb%9f%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    用户账号系统文件
</h3><p>完成用户管理的工作有许多种方法，但是每一种方法实际上都是对有关的系统文件进行修改。</p>
<p>与用户和用户组相关的信息都存放在一些系统文件中，这些文件包括/etc/passwd, /etc/shadow, /etc/group 等。</p>
<p>‍</p>
<h4 id="etcpasswd-文件是用户管理工作涉及的最重要的一个文件">
    <a href="#etcpasswd-%e6%96%87%e4%bb%b6%e6%98%af%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86%e5%b7%a5%e4%bd%9c%e6%b6%89%e5%8f%8a%e7%9a%84%e6%9c%80%e9%87%8d%e8%a6%81%e7%9a%84%e4%b8%80%e4%b8%aa%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    /etc/passwd 文件是用户管理工作涉及的最重要的一个文件
</h4><p>‍</p>
<p>Linux 系统中的每个用户都在/etc/passwd 文件中有一个对应的记录行，它记录了这个用户的一些基本属性。</p>
<p>这个文件对所有用户都是可读的。它的内容类似下面的例子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">＃ cat /etc/passwd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root:x:0:0:Superuser:/:
</span></span><span class="line"><span class="cl">daemon:x:1:1:System daemons:/etc:
</span></span><span class="line"><span class="cl">bin:x:2:2:Owner of system commands:/bin:
</span></span><span class="line"><span class="cl">sys:x:3:3:Owner of system files:/usr/sys:
</span></span><span class="line"><span class="cl">adm:x:4:4:System accounting:/usr/adm:
</span></span><span class="line"><span class="cl">uucp:x:5:5:UUCP administrator:/usr/lib/uucp:
</span></span><span class="line"><span class="cl">auth:x:7:21:Authentication administrator:/tcb/files/auth:
</span></span><span class="line"><span class="cl">cron:x:9:16:Cron daemon:/usr/spool/cron:
</span></span><span class="line"><span class="cl">listen:x:37:4:Network daemon:/usr/net/nls:
</span></span><span class="line"><span class="cl">lp:x:71:18:Printer administrator:/usr/spool/lp:
</span></span><span class="line"><span class="cl">sam:x:200:50:Sam san:/home/sam:/bin/sh
</span></span></code></pre></div><p>‍</p>
<p>从上面的例子我们可以看到，/etc/passwd 中一行记录对应着一个用户，每行记录又被冒号(:)分隔为 7 个字段，其格式和具体含义如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell
</span></span></code></pre></div><p>‍</p>
<h4 id="用户名是代表用户账号的字符串">
    <a href="#%e7%94%a8%e6%88%b7%e5%90%8d%e6%98%af%e4%bb%a3%e8%a1%a8%e7%94%a8%e6%88%b7%e8%b4%a6%e5%8f%b7%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2" class="header-anchor">#</a>
    &ldquo;用户名&quot;是代表用户账号的字符串
</h4><p>通常长度不超过 8 个字符，并且由大小写字母和/或数字组成。登录名中不能有冒号(:)，因为冒号在这里是分隔符。</p>
<p>为了兼容起见，登录名中最好不要包含点字符(.)，并且不使用连字符(-)和加号(+)打头。</p>
<p>‍</p>
<p>‍</p>
<h4 id="口令一些系统中存放着加密后的用户口令字">
    <a href="#%e5%8f%a3%e4%bb%a4%e4%b8%80%e4%ba%9b%e7%b3%bb%e7%bb%9f%e4%b8%ad%e5%ad%98%e6%94%be%e7%9d%80%e5%8a%a0%e5%af%86%e5%90%8e%e7%9a%84%e7%94%a8%e6%88%b7%e5%8f%a3%e4%bb%a4%e5%ad%97" class="header-anchor">#</a>
    “口令”一些系统中，存放着加密后的用户口令字
</h4><p>虽然这个字段存放的只是用户口令的加密串，不是明文，但是由于/etc/passwd 文件对所有用户都可读，所以这仍是一个安全隐患。因此，现在许多 Linux 系统（如 SVR4）都使用了 shadow 技术，把真正的加密后的用户口令字存放到/etc/shadow 文件中，而在/etc/passwd 文件的口令字段中只存放一个特殊的字符，例如“x”或者“*”</p>
<p>‍</p>
<h4 id="用户标识号是一个整数系统内部用它来标识用户">
    <a href="#%e7%94%a8%e6%88%b7%e6%a0%87%e8%af%86%e5%8f%b7%e6%98%af%e4%b8%80%e4%b8%aa%e6%95%b4%e6%95%b0%e7%b3%bb%e7%bb%9f%e5%86%85%e9%83%a8%e7%94%a8%e5%ae%83%e6%9d%a5%e6%a0%87%e8%af%86%e7%94%a8%e6%88%b7" class="header-anchor">#</a>
    “用户标识号”是一个整数，系统内部用它来标识用户
</h4><p>一般情况下它与用户名是一一对应的。如果几个用户名对应的用户标识号是一样的，系统内部将把它们视为同一个用户，但是它们可以有不同的口令、不同的主目录以及不同的登录 Shell 等。</p>
<p>通常用户标识号的取值范围是 0 ～ 65 535。0 是超级用户 root 的标识号，1 ～ 99 由系统保留，作为管理账号，普通用户的标识号从 100 开始。在 Linux 系统中，这个界限是 500。</p>
<p>‍</p>
<h4 id="组标识号字段记录的是用户所属的用户组">
    <a href="#%e7%bb%84%e6%a0%87%e8%af%86%e5%8f%b7%e5%ad%97%e6%ae%b5%e8%ae%b0%e5%bd%95%e7%9a%84%e6%98%af%e7%94%a8%e6%88%b7%e6%89%80%e5%b1%9e%e7%9a%84%e7%94%a8%e6%88%b7%e7%bb%84" class="header-anchor">#</a>
    “组标识号”字段记录的是用户所属的用户组。
</h4><p>它对应着/etc/group 文件中的一条记录。</p>
<p>‍</p>
<p>‍</p>
<h4 id="注释性描述字段记录着用户的一些个人情况">
    <a href="#%e6%b3%a8%e9%87%8a%e6%80%a7%e6%8f%8f%e8%bf%b0%e5%ad%97%e6%ae%b5%e8%ae%b0%e5%bd%95%e7%9d%80%e7%94%a8%e6%88%b7%e7%9a%84%e4%b8%80%e4%ba%9b%e4%b8%aa%e4%ba%ba%e6%83%85%e5%86%b5" class="header-anchor">#</a>
    “注释性描述”字段记录着用户的一些个人情况。
</h4><p>‍</p>
<p>例如用户的真实姓名、电话、地址等，这个字段并没有什么实际的用途。在不同的 Linux 系统中，这个字段的格式并没有统一。在许多 Linux 系统中，这个字段存放的是一段任意的注释性描述文字，用做 finger 命令的输出。</p>
<p>‍</p>
<p>‍</p>
<h4 id="主目录也就是用户的起始工作目录">
    <a href="#%e4%b8%bb%e7%9b%ae%e5%bd%95%e4%b9%9f%e5%b0%b1%e6%98%af%e7%94%a8%e6%88%b7%e7%9a%84%e8%b5%b7%e5%a7%8b%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95" class="header-anchor">#</a>
    “主目录”，也就是用户的起始工作目录。
</h4><p>它是用户在登录到系统之后所处的目录。在大多数系统中，各用户的主目录都被组织在同一个特定的目录下，而用户主目录的名称就是该用户的登录名。各用户对自己的主目录有读、写、执行（搜索）权限，其他用户对此目录的访问权限则根据具体情况设置。</p>
<p>‍</p>
<h4 id="shell">
    <a href="#shell" class="header-anchor">#</a>
    Shell
</h4><p>用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即 Shell。</p>
<p>Shell 是用户与 Linux 系统之间的接口。Linux 的 Shell 有许多种，每种都有不同的特点。常用的有 sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)等。</p>
<p>系统管理员可以根据系统情况和用户习惯为用户指定某个 Shell。如果不指定 Shell，那么系统使用 sh 为默认的登录 Shell，即这个字段的值为/bin/sh。</p>
<p>用户的登录 Shell 也可以指定为某个特定的程序（此程序不是一个命令解释器）。</p>
<p>利用这一特点，我们可以限制用户只能运行指定的应用程序，在该应用程序运行结束后，用户就自动退出了系统。有些 Linux 系统要求只有那些在系统中登记了的程序才能出现在这个字段中。</p>
<p>‍</p>
<h4 id="伪用户pseudo-users">
    <a href="#%e4%bc%aa%e7%94%a8%e6%88%b7pseudo-users" class="header-anchor">#</a>
    伪用户（pseudo users）
</h4><p>这些用户在/etc/passwd 文件中也占有一条记录，但是不能登录，因为它们的登录 Shell 为空。它们的存在主要是方便系统管理，满足相应的系统进程对文件属主的要求。</p>
<p>常见的伪用户如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">伪 用 户 含 义
</span></span><span class="line"><span class="cl">bin 拥有可执行的用户命令文件
</span></span><span class="line"><span class="cl">sys 拥有系统文件
</span></span><span class="line"><span class="cl">adm 拥有帐户文件
</span></span><span class="line"><span class="cl">uucp UUCP使用
</span></span><span class="line"><span class="cl">lp lp或lpd子系统使用
</span></span><span class="line"><span class="cl">nobody NFS使用
</span></span></code></pre></div><p>‍</p>
<h4 id="拥有帐户文件">
    <a href="#%e6%8b%a5%e6%9c%89%e5%b8%90%e6%88%b7%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    拥有帐户文件
</h4><p>‍</p>
<p><strong>1、除了上面列出的伪用户外，还有许多标准的伪用户，例如：audit, cron, mail, usenet 等，它们也都各自为相关的进程和文件所需要。</strong></p>
<p>由于/etc/passwd 文件是所有用户都可读的，如果用户的密码太简单或规律比较明显的话，一台普通的计算机就能够很容易地将它破解，因此对安全性要求较高的 Linux 系统都把加密后的口令字分离出来，单独存放在一个文件中，这个文件是/etc/shadow 文件。 有超级用户才拥有该文件读权限，这就保证了用户密码的安全性。</p>
<p>‍</p>
<p><strong>2、/etc/shadow 中的记录行与/etc/passwd 中的一一对应，它由 pwconv 命令根据/etc/passwd 中的数据自动产生</strong></p>
<p>它的文件格式与/etc/passwd 类似，由若干个字段组成，字段之间用&rdquo;:&ldquo;隔开。这些字段是：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
</span></span></code></pre></div><ol>
<li>&ldquo;登录名&quot;是与/etc/passwd 文件中的登录名相一致的用户账号</li>
<li>&ldquo;口令&quot;字段存放的是加密后的用户口令字，长度为 13 个字符。如果为空，则对应用户没有口令，登录时不需要口令；如果含有不属于集合 { ./0-9A-Za-z }中的字符，则对应的用户不能登录。</li>
<li>&ldquo;最后一次修改时间&quot;表示的是从某个时刻起，到用户最后一次修改口令时的天数。时间起点对不同的系统可能不一样。例如在 SCO Linux 中，这个时间起点是 1970 年 1 月 1 日。</li>
<li>&ldquo;最小时间间隔&quot;指的是两次修改口令之间所需的最小天数。</li>
<li>&ldquo;最大时间间隔&quot;指的是口令保持有效的最大天数。</li>
<li>&ldquo;警告时间&quot;字段表示的是从系统开始警告用户到用户密码正式失效之间的天数。</li>
<li>&ldquo;不活动时间&quot;表示的是用户没有登录活动但账号仍能保持有效的最大天数。</li>
<li>&ldquo;失效时间&quot;字段给出的是一个绝对的天数，如果使用了这个字段，那么就给出相应账号的生存期。期满后，该账号就不再是一个合法的账号，也就不能再用来登录了。</li>
</ol>
<p>下面是/etc/shadow 的一个例子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">＃ cat /etc/shadow
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root:Dnakfw28zf38w:8764:0:168:7:::
</span></span><span class="line"><span class="cl">daemon:*::0:0::::
</span></span><span class="line"><span class="cl">bin:*::0:0::::
</span></span><span class="line"><span class="cl">sys:*::0:0::::
</span></span><span class="line"><span class="cl">adm:*::0:0::::
</span></span><span class="line"><span class="cl">uucp:*::0:0::::
</span></span><span class="line"><span class="cl">nuucp:*::0:0::::
</span></span><span class="line"><span class="cl">auth:*::0:0::::
</span></span><span class="line"><span class="cl">cron:*::0:0::::
</span></span><span class="line"><span class="cl">listen:*::0:0::::
</span></span><span class="line"><span class="cl">lp:*::0:0::::
</span></span><span class="line"><span class="cl">sam:EkdiSECLWPdSa:9740:0:0::::
</span></span></code></pre></div><p>‍</p>
<h4 id="用户组的所有信息都存放在etcgroup-文件中">
    <a href="#%e7%94%a8%e6%88%b7%e7%bb%84%e7%9a%84%e6%89%80%e6%9c%89%e4%bf%a1%e6%81%af%e9%83%bd%e5%ad%98%e6%94%be%e5%9c%a8etcgroup-%e6%96%87%e4%bb%b6%e4%b8%ad" class="header-anchor">#</a>
    用户组的所有信息都存放在/etc/group 文件中。
</h4><p>将用户分组是 Linux 系统中对用户进行管理及控制访问权限的一种手段。</p>
<p>每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不同的组。</p>
<p>当一个用户同时是多个组中的成员时，在/etc/passwd 文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。</p>
<p>用户要访问属于附加组的文件时，必须首先使用 newgrp 命令使自己成为所要访问的组中的成员。</p>
<p>用户组的所有信息都存放在/etc/group 文件中。此文件的格式也类似于/etc/passwd 文件，由冒号(:)隔开若干个字段，这些字段有：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">组名:口令:组标识号:组内用户列表
</span></span></code></pre></div><ol>
<li>&ldquo;组名&quot;是用户组的名称，由字母或数字构成。与/etc/passwd 中的登录名一样，组名不应重复。</li>
<li>&ldquo;口令&quot;字段存放的是用户组加密后的口令字。一般 Linux 系统的用户组都没有口令，即这个字段一般为空，或者是*。</li>
<li>&ldquo;组标识号&quot;与用户标识号类似，也是一个整数，被系统内部用来标识组。</li>
<li>&ldquo;组内用户列表&quot;是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</li>
</ol>
<p>‍</p>
<p>/etc/group 文件的一个例子如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root::0:root
</span></span><span class="line"><span class="cl">bin::2:root,bin
</span></span><span class="line"><span class="cl">sys::3:root,uucp
</span></span><span class="line"><span class="cl">adm::4:root,adm
</span></span><span class="line"><span class="cl">daemon::5:root,daemon
</span></span><span class="line"><span class="cl">lp::7:root,lp
</span></span><span class="line"><span class="cl">users::20:root,sam
</span></span></code></pre></div><p>‍</p>
<h4 id="批量添加用户">
    <a href="#%e6%89%b9%e9%87%8f%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7" class="header-anchor">#</a>
    批量添加用户
</h4><p>添加和删除用户对每位 Linux 系统管理员都是轻而易举的事，比较棘手的是如果要添加几十个、上百个甚至上千个用户时，我们不太可能还使用 useradd 一个一个地添加，必然要找一种简便的创建大量用户的方法。Linux 系统提供了创建大量用户的工具，可以让您立即创建大量用户，方法如下：</p>
<p>‍</p>
<h5 id="1先编辑一个文本用户文件">
    <a href="#1%e5%85%88%e7%bc%96%e8%be%91%e4%b8%80%e4%b8%aa%e6%96%87%e6%9c%ac%e7%94%a8%e6%88%b7%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    （1）先编辑一个文本用户文件。
</h5><p>每一列按照<code>/etc/passwd</code>​ 密码文件的格式书写，要注意每个用户的用户名、UID、宿主目录都不可以相同，其中密码栏可以留做空白或输入 x 号。一个范例文件 user.txt 内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">user001::600:100:user:/home/user001:/bin/bash
</span></span><span class="line"><span class="cl">user002::601:100:user:/home/user002:/bin/bash
</span></span><span class="line"><span class="cl">user003::602:100:user:/home/user003:/bin/bash
</span></span><span class="line"><span class="cl">user004::603:100:user:/home/user004:/bin/bash
</span></span><span class="line"><span class="cl">user005::604:100:user:/home/user005:/bin/bash
</span></span><span class="line"><span class="cl">user006::605:100:user:/home/user006:/bin/bash
</span></span></code></pre></div><p>‍</p>
<h5 id="2以-root-身份执行命令-usrsbinnewusers从刚创建的用户文件usertxt-中导入数据创建用户">
    <a href="#2%e4%bb%a5-root-%e8%ba%ab%e4%bb%bd%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4-usrsbinnewusers%e4%bb%8e%e5%88%9a%e5%88%9b%e5%bb%ba%e7%9a%84%e7%94%a8%e6%88%b7%e6%96%87%e4%bb%b6usertxt-%e4%b8%ad%e5%af%bc%e5%85%a5%e6%95%b0%e6%8d%ae%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7" class="header-anchor">#</a>
    （2）以 root 身份执行命令 ​/usr/sbin/newusers​​​​，从刚创建的用户文件<code>user.txt</code>​​​​ 中导入数据，创建用户：
</h5><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># newusers &lt; user.txt
</span></span></code></pre></div><p>然后可以执行命令 <code>vipw</code>​ 或 <code>vi /etc/passwd</code>​ 检查 <code>/etc/passwd</code>​ 文件是否已经出现这些用户的数据，并且用户的宿主目录是否已经创建。</p>
<p>‍</p>
<h5 id="3执行命令usrsbinpwunconv">
    <a href="#3%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4usrsbinpwunconv" class="header-anchor">#</a>
    （3）执行命令/usr/sbin/pwunconv。
</h5><p>将 <code>/etc/shadow</code>​ 产生的 <code>shadow</code>​ 密码解码，然后回写到 <code>/etc/passwd</code>​ 中，并将<code>/etc/shadow</code>​ 的<code>shadow</code>​ 密码栏删掉。这是为了方便下一步的密码转换工作，即先取消 <code>shadow password</code>​ 功能。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># pwunconv
</span></span></code></pre></div><p>‍</p>
<h5 id="4编辑每个用户的密码对照文件">
    <a href="#4%e7%bc%96%e8%be%91%e6%af%8f%e4%b8%aa%e7%94%a8%e6%88%b7%e7%9a%84%e5%af%86%e7%a0%81%e5%af%b9%e7%85%a7%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    （4）编辑每个用户的密码对照文件。
</h5><p>格式为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">用户名:密码
</span></span></code></pre></div><p>实例文件 <code>passwd.txt</code>​ 内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">user001:123456
</span></span><span class="line"><span class="cl">user002:123456
</span></span><span class="line"><span class="cl">user003:123456
</span></span><span class="line"><span class="cl">user004:123456
</span></span><span class="line"><span class="cl">user005:123456
</span></span><span class="line"><span class="cl">user006:123456
</span></span></code></pre></div><p>‍</p>
<h5 id="5以-root-身份执行命令-usrsbinchpasswd">
    <a href="#5%e4%bb%a5-root-%e8%ba%ab%e4%bb%bd%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4-usrsbinchpasswd" class="header-anchor">#</a>
    （5）以 root 身份执行命令 <code>/usr/sbin/chpasswd</code>​​​。
</h5><p>创建用户密码，<code>chpasswd</code>​ 会将经过 <code>/usr/bin/passwd</code>​ 命令编码过的密码写入 <code>/etc/passwd</code>​ 的密码栏。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># chpasswd &lt; passwd.txt
</span></span></code></pre></div><p>‍</p>
<h5 id="6确定密码经编码写入etcpasswd-的密码栏后">
    <a href="#6%e7%a1%ae%e5%ae%9a%e5%af%86%e7%a0%81%e7%bb%8f%e7%bc%96%e7%a0%81%e5%86%99%e5%85%a5etcpasswd-%e7%9a%84%e5%af%86%e7%a0%81%e6%a0%8f%e5%90%8e" class="header-anchor">#</a>
    （6）确定密码经编码写入/etc/passwd 的密码栏后。
</h5><p>执行命令 <code>/usr/sbin/pwconv</code>​ 将密码编码为 <code>shadow password</code>​，并将结果写入 <code>/etc/shadow</code>​。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># pwconv
</span></span></code></pre></div><p>这样就完成了大量用户的创建了，之后您可以到/home 下检查这些用户宿主目录的权限设置是否都正确，并登录验证用户密码是否正确。</p>
<p>‍</p>
<p>‍</p>
<h3 id="链接">
    <a href="#%e9%93%be%e6%8e%a5" class="header-anchor">#</a>
    链接
</h3><p>‍</p>
<p>Linux 链接分两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，<strong>ln</strong> 命令产生硬链接。</p>
<p>‍</p>
<p><strong>硬连接</strong></p>
<p>硬连接指通过索引节点来进行连接。在 Linux 的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在 Linux 中，多个文件名指向同一索引节点是存在的。比如：A 是 B 的硬链接（A 和 B 都是文件名），则 A 的目录项中的 inode 节点号与 B 的目录项中的 inode 节点号相同，即一个 inode 节点对应两个不同的文件名，两个文件名指向同一个文件，A 和 B 对文件系统来说是完全平等的。删除其中任何一个都不会影响另外一个的访问。</p>
<p>硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件真正删除的条件是与之相关的所有硬连接文件均被删除。</p>
<p>‍</p>
<p><strong>软连接</strong></p>
<p>另外一种连接称之为符号连接（Symbolic Link），也叫软连接。软链接文件有类似于 Windows 的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。比如：A 是 B 的软链接（A 和 B 都是文件名），A 的目录项中的 inode 节点号与 B 的目录项中的 inode 节点号不相同，A 和 B 指向的是两个不同的 inode，继而指向两块不同的数据块。但是 A 的数据块中存放的只是 B 的路径名（可以根据这个找到 B 的目录项）。A 和 B 之间是“主从”关系，如果 B 被删除了，A 仍然存在（因为两个是不同的文件），但指向的是一个无效的链接。</p>
<p>‍</p>
<h4 id="图形桌面快捷方式">
    <a href="#%e5%9b%be%e5%bd%a2%e6%a1%8c%e9%9d%a2%e5%bf%ab%e6%8d%b7%e6%96%b9%e5%bc%8f" class="header-anchor">#</a>
    图形桌面快捷方式
</h4><p>‍</p>
<h5 id="软连接">
    <a href="#%e8%bd%af%e8%bf%9e%e6%8e%a5" class="header-anchor">#</a>
    软连接
</h5><p>这种方法不能设置快捷方式的图标</p>
<p>在命令行中利用 ln 命令，在桌面目录下创建一个软连接，使其指向某个应用程序，桌面上就会有一个这个应用程序的快捷方式。</p>
<p>以软件 sublime text 为例，其应用程序是/opt/sublime_text/sublime_text，桌面目录是/home/xjh/Desktop，则创建快捷方式如下：</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">xjh</span><span class="nd">@ubuntu</span><span class="p">:</span><span class="o">~</span><span class="n">$</span><span class="w"> </span><span class="n">ln</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sublime_text</span><span class="o">/</span><span class="n">sublime_text</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">xjh</span><span class="o">/</span><span class="n">Desktop</span><span class="o">/</span><span class="n">subl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">xjh</span><span class="nd">@ubuntu</span><span class="p">:</span><span class="o">~</span><span class="n">$</span><span class="w">        </span><span class="err">#</span><span class="n">应用程序的路径</span><span class="w">               </span><span class="err">#</span><span class="n">桌面目录下的快捷方式名称</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="复制快捷方式">
    <a href="#%e5%a4%8d%e5%88%b6%e5%bf%ab%e6%8d%b7%e6%96%b9%e5%bc%8f" class="header-anchor">#</a>
    <strong>复制快捷方式</strong>
</h5><p>通过软件包管理工具安装软件后，一般会在/usr/share/applications 目录下生成快捷方式文件，在桌面环境下表现为一个图标。</p>
<p>直接去对应目录获取即可</p>
<p>‍</p>
<p>‍</p>
<h5 id="文件快捷方式">
    <a href="#%e6%96%87%e4%bb%b6%e5%bf%ab%e6%8d%b7%e6%96%b9%e5%bc%8f" class="header-anchor">#</a>
    文件快捷方式
</h5><p>‍</p>
<p>例如在桌面制造 IDEA 链接</p>
<p>创建一个文件, 输入以下内容 (已经修改为我的版本)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">[</span><span class="n">Desktop</span><span class="w"> </span><span class="n">Entry</span><span class="o">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Type</span><span class="o">=</span><span class="n">Application</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Version</span><span class="o">=</span><span class="n">232</span><span class="p">.</span><span class="na">9921</span><span class="p">.</span><span class="na">47</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Name</span><span class="o">=</span><span class="n">IDEA</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Comment</span><span class="o">=</span><span class="n">Run</span><span class="w"> </span><span class="n">IDEA</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Icon</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">idea</span><span class="o">/</span><span class="n">idea</span><span class="o">-</span><span class="n">IU</span><span class="o">-</span><span class="n">232</span><span class="p">.</span><span class="na">9921</span><span class="p">.</span><span class="na">47</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">idea</span><span class="p">.</span><span class="na">png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Exec</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">idea</span><span class="o">/</span><span class="n">idea</span><span class="o">-</span><span class="n">IU</span><span class="o">-</span><span class="n">232</span><span class="p">.</span><span class="na">9921</span><span class="p">.</span><span class="na">47</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">idea</span><span class="p">.</span><span class="na">sh</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Terminal</span><span class="o">=</span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Path</span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">StartupNotify</span><span class="o">=</span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>保存后，再次对这个文件重命名，修改为<code>IDEA.desktop</code>​</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="shell-1">
    <a href="#shell-1" class="header-anchor">#</a>
    Shell
</h3><p>了解脚本语言(核心要素: 脚本)</p>
<p>了解 Shell 脚本的基本语法与使用方式</p>
<p>(注意执行权限问题)</p>
<p>‍</p>
<h4 id="shellhelloworld">
    <a href="#shellhelloworld" class="header-anchor">#</a>
    ShellHelloWorld
</h4><p>完成基本 Shell 脚本的编写</p>
<p>任务目标</p>
<ul>
<li><input disabled="" type="checkbox"> 输出文字 HelloLinux</li>
<li><input disabled="" type="checkbox"> 交互式完成计算器加法- 计算双数之和</li>
<li><input disabled="" type="checkbox"> 完成交互式树洞选择结构: 输入 y/n. 其他的选择 I don&rsquo;t Know</li>
<li><input disabled="" type="checkbox"> 函数, 用作循环测试: 输入 n 个数, 计算这些数的平方和</li>
<li><input disabled="" type="checkbox"> 函数(方法)调用 Bash, 任意方法</li>
<li><input disabled="" type="checkbox"> 查看并展示每个文件具体内容并演示效果-&gt;DDL Fri</li>
</ul>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">现在请帮助完成基本LinuxCentOS系统中Shell脚本的编写</span><span class="p">,</span><span class="w"> </span><span class="n">完成以下任务</span><span class="p">:</span><span class="w"> </span><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="n">输出文字HelloLinux</span><span class="w">   </span><span class="p">;</span><span class="w">  </span><span class="n">2</span><span class="p">,</span><span class="w"> </span><span class="n">完成交互式的计算器加法</span><span class="o">-</span><span class="w"> </span><span class="n">计算双数之和</span><span class="p">;</span><span class="n">3</span><span class="p">.</span><span class="w"> </span><span class="n">完成交互式内容随机输出功能</span><span class="p">,</span><span class="w">  </span><span class="n">需要有一个选择结构</span><span class="p">:</span><span class="w"> </span><span class="n">用户输入y</span><span class="o">/</span><span class="n">n来确定是否继续输出</span><span class="p">.</span><span class="w"> </span><span class="n">如果用户输入了其他的选择则输出I</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">Know</span><span class="p">;</span><span class="w">  </span><span class="n">4</span><span class="p">.</span><span class="w"> </span><span class="n">编写函数用作循环功能测试</span><span class="p">:</span><span class="w">  </span><span class="n">让用户输入n个数</span><span class="p">,</span><span class="w"> </span><span class="n">计算这些数的平方和</span><span class="w"> </span><span class="n">5</span><span class="p">.</span><span class="w"> </span><span class="n">测试函数调用</span><span class="p">,</span><span class="w"> </span><span class="n">编写任意方法后调用</span><span class="p">;</span><span class="w">  </span><span class="n">请完成上述目标并展示完成目标所需的操作步骤</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">您好</span><span class="err">，</span><span class="n">这是Bing</span><span class="err">。</span><span class="n">我可以尝试帮助您完成基本Linux</span><span class="w"> </span><span class="n">CentOS系统中Shell脚本的编写</span><span class="err">。</span><span class="n">以下是一个可能的脚本</span><span class="err">，</span><span class="n">您可以根据您的需要进行修改或优化</span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="o">!/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">1</span><span class="p">.</span><span class="w"> </span><span class="n">输出文字HelloLinux</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;HelloLinux&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">2</span><span class="p">.</span><span class="w"> </span><span class="n">完成交互式的计算器加法</span><span class="o">-</span><span class="w"> </span><span class="n">计算双数之和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;请输入两个数，用空格隔开：&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">read</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">读取用户输入的两个数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">sum</span><span class="o">=</span><span class="n">$</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">计算两数之和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;两数之和为：$sum&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">3</span><span class="p">.</span><span class="w"> </span><span class="n">完成交互式内容随机输出功能</span><span class="p">,</span><span class="w">  </span><span class="n">需要有一个选择结构</span><span class="p">:</span><span class="w"> </span><span class="n">用户输入y</span><span class="o">/</span><span class="n">n来确定是否继续输出</span><span class="p">.</span><span class="w"> </span><span class="n">如果用户输入了其他的选择则输出I</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">Know</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">无限循环</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">do</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;请输入y或n：&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">read</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">读取用户输入的选择</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s">&#34;$choice&#34;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;y&#34;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">如果用户输入y</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">then</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;随机输出一个内容：&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">shuf</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="n">content</span><span class="p">.</span><span class="na">txt</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">从content</span><span class="p">.</span><span class="na">txt文件中随机选取一行输出</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s">&#34;$choice&#34;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;n&#34;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">如果用户输入n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">then</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;退出程序&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">break</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">跳出循环</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">如果用户输入其他</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;I don&#39;t Know&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">fi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">done</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">4</span><span class="p">.</span><span class="w"> </span><span class="n">编写函数用作循环功能测试</span><span class="p">:</span><span class="w">  </span><span class="n">让用户输入n个数</span><span class="p">,</span><span class="w"> </span><span class="n">计算这些数的平方和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">function</span><span class="w"> </span><span class="n">square_sum</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">定义函数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">sum</span><span class="o">=</span><span class="n">0</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">初始化平方和为0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">$</span><span class="err">@</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">遍历函数的所有参数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">do</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">sum</span><span class="o">=</span><span class="n">$</span><span class="p">((</span><span class="n">sum</span><span class="o">+</span><span class="n">num</span><span class="o">*</span><span class="n">num</span><span class="p">))</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">计算平方和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">done</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;平方和为：$sum&#34;</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">输出平方和</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">#</span><span class="w"> </span><span class="n">5</span><span class="p">.</span><span class="w"> </span><span class="n">测试函数调用</span><span class="p">,</span><span class="w"> </span><span class="n">编写任意方法后调用</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">echo</span><span class="w"> </span><span class="s">&#34;请输入n个数，用空格隔开：&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">read</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">读取用户输入的数组</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">square_sum</span><span class="w"> </span><span class="n">$</span><span class="p">{</span><span class="n">array</span><span class="o">[</span><span class="err">@</span><span class="o">]</span><span class="p">}</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">调用函数</span><span class="err">，</span><span class="n">传入数组作为参数</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">首先</span><span class="err">，</span><span class="n">您需要选择一个文本编辑器来编写您的脚本代码</span><span class="err">。</span><span class="n">您可以使用默认的文本编辑器</span><span class="err">，</span><span class="n">也可以使用</span><span class="w"> </span><span class="n">Vim</span><span class="err">、</span><span class="n">Nano</span><span class="err">、</span><span class="n">Emacs</span><span class="w"> </span><span class="n">等其他终端或图形界面的文本编辑器</span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">然后</span><span class="err">，</span><span class="n">您需要创建一个扩展名为</span><span class="w"> </span><span class="p">.</span><span class="na">sh</span><span class="w"> </span><span class="n">的文本文件</span><span class="err">，</span><span class="n">并在其中输入您想要执行的命令和语句</span><span class="err">。</span><span class="n">您可以使用</span><span class="w"> </span><span class="n">touch</span><span class="w"> </span><span class="n">命令来创建一个空文件</span><span class="err">，</span><span class="n">或者使用</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">命令来直接输入内容</span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">接下来</span><span class="err">，</span><span class="n">您需要在脚本的第一行添加一个</span><span class="w"> </span><span class="n">shebang</span><span class="w"> </span><span class="n">行</span><span class="err">，</span><span class="n">它告诉系统您想要使用哪种</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">来解释执行您的脚本</span><span class="err">。</span><span class="n">例如</span><span class="err">，</span><span class="n">如果您想要使用</span><span class="w"> </span><span class="n">bash</span><span class="w"> </span><span class="n">shell</span><span class="err">，</span><span class="n">您可以在第一行写</span><span class="w"> </span><span class="err">#</span><span class="o">!/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w"> </span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">然后</span><span class="err">，</span><span class="n">您需要给您的脚本文件添加可执行权限</span><span class="err">，</span><span class="n">以便您可以运行它</span><span class="err">。</span><span class="n">您可以使用</span><span class="w"> </span><span class="n">chmod</span><span class="w"> </span><span class="n">命令来做到这一点</span><span class="err">，</span><span class="n">例如</span><span class="w"> </span><span class="n">chmod</span><span class="w"> </span><span class="n">u</span><span class="o">+</span><span class="n">x</span><span class="w"> </span><span class="n">hello</span><span class="p">.</span><span class="na">sh</span><span class="w"> </span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">最后</span><span class="err">，</span><span class="n">您可以使用两种方法之一来运行您的脚本</span><span class="err">。</span><span class="n">一种是在脚本文件名前加上</span><span class="w"> </span><span class="n">bash</span><span class="w"> </span><span class="n">命令</span><span class="err">，</span><span class="n">例如</span><span class="w"> </span><span class="n">bash</span><span class="w"> </span><span class="n">hello</span><span class="p">.</span><span class="na">sh</span><span class="w"> </span><span class="err">。</span><span class="n">另一种是在脚本文件名前加上</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="w"> </span><span class="err">，</span><span class="n">例如</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">hello</span><span class="p">.</span><span class="na">sh</span><span class="w"> </span><span class="err">。</span><span class="n">如果您想要从任何目录运行您的脚本</span><span class="err">，</span><span class="n">您还需要将您的脚本文件所在的目录添加到</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="n">变量中</span><span class="err">，</span><span class="n">您可以使用</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">命令来做到这一点</span><span class="err">，</span><span class="n">例如</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">PATH</span><span class="o">=</span><span class="n">$PATH</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ay2021</span><span class="o">/</span><span class="n">scripts</span><span class="w"> </span><span class="err">。</span><span class="w">
</span></span></span></code></pre></div><p><a class="link" href="https://www.runoob.com/linux/linux-shell.html"  target="_blank" rel="noopener"
    >https://www.runoob.com/linux/linux-shell.html</a></p>
<p>见实验报告</p>
<p>‍</p>
<h3 id="重定向命令">
    <a href="#%e9%87%8d%e5%ae%9a%e5%90%91%e5%91%bd%e4%bb%a4" class="header-anchor">#</a>
    重定向命令
</h3><p>‍</p>
<p>重定向命令列表如下：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command &gt; file</td>
<td>将输出重定向到 file。</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>将输入重定向到 file。</td>
</tr>
<tr>
<td>command &raquo; file</td>
<td>将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt; file</td>
<td>将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td>n &raquo; file</td>
<td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt;&amp; m</td>
<td>将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td>n &lt;&amp; m</td>
<td>将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td>&laquo; tag</td>
<td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td>
</tr>
</tbody>
</table></div>
<p>需要注意的是文件描述符 0 通常是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）</p>
<p>‍</p>
<h4 id="输出重定向">
    <a href="#%e8%be%93%e5%87%ba%e9%87%8d%e5%ae%9a%e5%90%91" class="header-anchor">#</a>
    输出重定向
</h4><p>重定向一般通过在命令间插入特定的符号来实现。特别的，这些符号的语法如下所示:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">command1 &gt; file1
</span></span></code></pre></div><p>上面这个命令执行 command1 然后将输出的内容存入 file1。</p>
<p>注意任何 file1 内的已经存在的内容将被新内容替代。如果要将新内容添加在文件末尾，请使用&raquo;操作符。</p>
<p>‍</p>
<h4 id="输入重定向">
    <a href="#%e8%be%93%e5%85%a5%e9%87%8d%e5%ae%9a%e5%90%91" class="header-anchor">#</a>
    输入重定向
</h4><p>和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">command1 &lt; file1
</span></span></code></pre></div><p>‍</p>
<p>这样，本来需要从键盘获取输入的命令会转移到文件读取内容。</p>
<p>注意：输出重定向是大于号(&gt;)，输入重定向是小于号(&lt;)。</p>
<p>‍</p>
<p>接着以上实例，我们需要统计 users 文件的行数,执行以下命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ wc -l users
</span></span><span class="line"><span class="cl">       2 users
</span></span></code></pre></div><p>也可以将输入重定向到 users 文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$  wc -l &lt; users
</span></span><span class="line"><span class="cl">       2
</span></span></code></pre></div><p>注意：上面两个例子的结果不同：第一个例子，会输出文件名；第二个不会，因为它仅仅知道从标准输入读取内容。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">command1 &lt; infile &gt; outfile
</span></span></code></pre></div><p>同时替换输入和输出，执行 command1，从文件 infile 读取内容，然后将输出写入到 outfile 中。</p>
<p>‍</p>
<h5 id="重定向深入讲解">
    <a href="#%e9%87%8d%e5%ae%9a%e5%90%91%e6%b7%b1%e5%85%a5%e8%ae%b2%e8%a7%a3" class="header-anchor">#</a>
    重定向深入讲解
</h5><p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p>
<ul>
<li>标准输入文件(stdin)：stdin 的文件描述符为 0，Unix 程序默认从 stdin 读取数据。</li>
<li>标准输出文件(stdout)：stdout 的文件描述符为 1，Unix 程序默认向 stdout 输出数据。</li>
<li>标准错误文件(stderr)：stderr 的文件描述符为 2，Unix 程序会向 stderr 流中写入错误信息。</li>
</ul>
<p>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将 stdin 重定向到 file。</p>
<p>如果希望 stderr 重定向到 file，可以这样写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command 2&gt;file
</span></span></code></pre></div><p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command 2&gt;&gt;file
</span></span></code></pre></div><p><strong>2</strong> 表示标准错误文件(stderr)。</p>
<p>如果希望将 stdout 和 stderr 合并后重定向到 file，可以这样写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command &gt; file 2&gt;&amp;1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">或者
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ command &gt;&gt; file 2&gt;&amp;1
</span></span></code></pre></div><p>如果希望对 stdin 和 stdout 都重定向，可以这样写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command &lt; file1 &gt;file2
</span></span></code></pre></div><p>command 命令将 stdin 重定向到 file1，将 stdout 重定向到 file2。</p>
<hr>
<h4 id="here-document">
    <a href="#here-document" class="header-anchor">#</a>
    Here Document
</h4><p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。</p>
<p>它的基本的形式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">command &lt;&lt; delimiter
</span></span><span class="line"><span class="cl">    document
</span></span><span class="line"><span class="cl">delimiter
</span></span></code></pre></div><p>它的作用是将两个 delimiter 之间的内容(document) 作为输入传递给 command。</p>
<blockquote>
<p>注意：</p>
<ul>
<li>结尾的 delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。</li>
<li>开始的 delimiter 前后的空格会被忽略掉。</li>
</ul>
</blockquote>
<p>‍</p>
<h5 id="实例">
    <a href="#%e5%ae%9e%e4%be%8b" class="header-anchor">#</a>
    实例
</h5><p>在命令行中通过 <strong>wc -l</strong> 命令计算 Here Document 的行数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wc -l &lt;&lt; EOF
</span></span><span class="line"><span class="cl">    欢迎来到
</span></span><span class="line"><span class="cl">    河北小学
</span></span><span class="line"><span class="cl">EOF
</span></span></code></pre></div><p>‍</p>
<p>我们也可以将 Here Document 用在脚本中，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF
</span></span></span><span class="line"><span class="cl"><span class="s">    欢迎来到
</span></span></span><span class="line"><span class="cl"><span class="s">    河北小学
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div><p>执行</p>
<p>‍</p>
<h4 id="devnull-文件">
    <a href="#devnull-%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    /dev/null 文件
</h4><p>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command &gt; /dev/null
</span></span></code></pre></div><p>/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到&quot;禁止输出&quot;的效果。</p>
<p>如果希望屏蔽 stdout 和 stderr，可以这样写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ command &gt; /dev/null 2&gt;&amp;1
</span></span></code></pre></div><blockquote>
<p><strong>注意：</strong> 0 是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p>
<p>这里的 <strong>2</strong> 和 <strong>&gt;</strong> 之间不可以有空格，<strong>2&gt;</strong> 是一体的时候才表示错误输出。</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="环境">
    <a href="#%e7%8e%af%e5%a2%83" class="header-anchor">#</a>
    环境
</h2><p>指虚拟机运行环境</p>
<p>‍</p>
<p>‍</p>
<h3 id="网络模式">
    <a href="#%e7%bd%91%e7%bb%9c%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    网络模式
</h3><p>‍</p>
<h4 id="桥接">
    <a href="#%e6%a1%a5%e6%8e%a5" class="header-anchor">#</a>
    桥接
</h4><p>在网络网卡上安装了一个桥接协议，让这块网卡处于混杂模式，可以同时连接多个网络的做法。</p>
<p>桥接下，类似于把物理主机虚拟为一个交换机，所有桥接设置的虚拟机连接到这个交换机的一个接口上，物理主机也同样放在这个交换机当中，所以所有桥接下网卡与网卡都是交换模式的，相互可以访问而不干扰。</p>
<p>‍</p>
<h4 id="host-only">
    <a href="#host-only" class="header-anchor">#</a>
    Host-only
</h4><p>（仅与主机通信）<br>
虚拟机使用 VMnet1 网卡与主机单独组网,主机对于虚拟机相当于路由器</p>
<p>‍</p>
<h4 id="nat">
    <a href="#nat" class="header-anchor">#</a>
    NAT
</h4><p>虚拟机使用 VMnet8 网卡与主机单独组网,主机对于虚拟机相当于路由器，VMnet8 网卡通过 NAT 地址转换协议与物理机网卡通信</p>
<p>‍</p>
<p>‍</p>
<h2 id="指令">
    <a href="#%e6%8c%87%e4%bb%a4" class="header-anchor">#</a>
    指令
</h2><p>‍</p>
<h3 id="直属">
    <a href="#%e7%9b%b4%e5%b1%9e" class="header-anchor">#</a>
    直属
</h3><p>‍</p>
<p>‍</p>
<h3 id="通用">
    <a href="#%e9%80%9a%e7%94%a8" class="header-anchor">#</a>
    通用
</h3><p>‍</p>
<p>Linux 命令格式： []代表可选</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">command  [-options]  [parameter1]  …
</span></span></code></pre></div><p>command: 命令名；</p>
<p>[-options]：选项,可用来对命令进行控制，也可以省略，</p>
<p>parameter1 …：传给命令的参数：可以是零个一个或多个</p>
<p>‍</p>
<h3 id="终端操作">
    <a href="#%e7%bb%88%e7%ab%af%e6%93%8d%e4%bd%9c" class="header-anchor">#</a>
    终端操作
</h3><p>‍</p>
<h4 id="帮助">
    <a href="#%e5%b8%ae%e5%8a%a9" class="header-anchor">#</a>
    帮助
</h4><p>‍</p>
<p>**help ** 一般是 linux 命令自带的帮助信息</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">如：ls --help
</span></span></code></pre></div><p>‍</p>
<p><strong>man(manual)</strong></p>
<p>man 是 linux 提供的一个手册，包含了绝大部分的命令、函数使用说明; 手册分成很多章节（section），使用 man 时可以指定不同的章节来浏览。</p>
<p>例：man ls ; man 2 printf</p>
<p>‍</p>
<p>man 中各个 section 意义如下：</p>
<ol>
<li>Standard commands（标准命令）</li>
<li>System calls（系统调用，如 open,write）</li>
<li>Library functions（库函数，如 printf,fopen）</li>
<li>Special devices（设备文件的说明，/dev 下各种设备）</li>
<li>File formats（文件格式，如 passwd）</li>
<li>Games and toys（游戏和娱乐）</li>
<li>Miscellaneous（杂项、惯例与协定等，例如 Linux 档案系统、网络协定、ASCII 码；environ 全局变量）</li>
<li>Administrative Commands（管理员命令，如 ifconfig）</li>
</ol>
<p>‍</p>
<p>man 是按照手册的章节号的顺序进行搜索的。<br>
man 设置了如下的功能键：</p>
<p>注意：实际上，我们不用指定第几个章节也用查看，如，man ls</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>功能键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>空格键</td>
<td>显示手册页的下一屏</td>
</tr>
<tr>
<td>Enter 键</td>
<td>一次滚动手册页的一行</td>
</tr>
<tr>
<td>b</td>
<td>回滚一屏</td>
</tr>
<tr>
<td>f</td>
<td>前滚一屏</td>
</tr>
<tr>
<td>q</td>
<td>退出 man 命令</td>
</tr>
<tr>
<td>h</td>
<td>列出所有功能键</td>
</tr>
<tr>
<td>/word</td>
<td>搜索 word 字符串</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<h4 id="历史记录">
    <a href="#%e5%8e%86%e5%8f%b2%e8%ae%b0%e5%bd%95" class="header-anchor">#</a>
    历史记录
</h4><p>当系统执行过一些命令后，可按上下键翻看以前的命令，history 将执行过的命令列举出来</p>
<p>history 保留了最近执行的命令记录，默认可以保留 1000。历史清单从 0 开始编号到最大值。</p>
<p>历史清单从 0 开始编号到最大值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">history N       显示最近N条命令
</span></span><span class="line"><span class="cl">history -c      清除所有的历史记录
</span></span><span class="line"><span class="cl">history -w  xxx.txt 保存历史记录到文本xxx.txt
</span></span></code></pre></div><p>‍</p>
<h4 id="ctrl-组合键">
    <a href="#ctrl-%e7%bb%84%e5%90%88%e9%94%ae" class="header-anchor">#</a>
    Ctrl 组合键
</h4><p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">Ctrl+c</th>
<th style="text-align:center">结束正在运行的程序</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ctrl+d</td>
<td style="text-align:center">结束输入或退出 shell</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+s</td>
<td style="text-align:center">暂停屏幕输出【锁住终端】</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+q</td>
<td style="text-align:center">恢复屏幕输出【解锁终端】</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+L</td>
<td style="text-align:center">清屏，等同于 Clear</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">ctrl+a</th>
<th style="text-align:center">当前光标到行首</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ctrl+e</td>
<td style="text-align:center">当前光标到行尾</td>
</tr>
<tr>
<td style="text-align:center">ctrl+u</td>
<td style="text-align:center">删除当前光标到行首</td>
</tr>
<tr>
<td style="text-align:center">ctrl+k</td>
<td style="text-align:center">删除当前光标到行尾</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">Ctrl+y</th>
<th style="text-align:center">在光标处粘贴剪切的内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ctrl+r</td>
<td style="text-align:center">查找历史命令【输入关键字，就能调出以前执行过的命令】</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+t</td>
<td style="text-align:center">调换光标所在处与其之前字符位置，并把光标移到下个字符</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+x+u</td>
<td style="text-align:center">撤销操作</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+z</td>
<td style="text-align:center">转入后台运行</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="权限管理">
    <a href="#%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    权限管理
</h3><p>‍</p>
<p>用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限：</p>
<p>通常，Unix/Linux 系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。</p>
<p>‍</p>
<ul>
<li>读权限（r） ：对于文件，具有读取文件内容的权限；对于目录，具有浏览目录的权限。</li>
<li>写权限（w） ：对于文件，具有修改文件内容的权限；对于目录，具有删除、移动目录内文件的权限。</li>
<li>可执行权限（x）： 对于文件，具有执行文件的权限；对于目录，该用户具有进入目录的权限。</li>
</ul>
<p>‍</p>
<h4 id="显示">
    <a href="#%e6%98%be%e7%a4%ba" class="header-anchor">#</a>
    显示
</h4><p>‍</p>
<h5 id="stat">
    <a href="#stat" class="header-anchor">#</a>
    stat
</h5><p>‍</p>
<p>显示 inode 的内容</p>
<p>‍</p>
<h5 id="lsattr">
    <a href="#lsattr" class="header-anchor">#</a>
    lsattr
</h5><p>查看特殊权限</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># lsattr /etc/passwd</span>
</span></span></code></pre></div><p>‍</p>
<h4 id="改变">
    <a href="#%e6%94%b9%e5%8f%98" class="header-anchor">#</a>
    改变
</h4><p>‍</p>
<h5 id="chmod">
    <a href="#chmod" class="header-anchor">#</a>
    chmod
</h5><p>‍</p>
<p>修改文件权限</p>
<p>两种使用格式：字母法与数字法</p>
<p>字母法：chmod u/g/o/a +/-/= rwx 文件</p>
<p>‍</p>
<p>[ u/g/o/a ]</p>
<ul>
<li>u user 所有者</li>
<li>g group 用户组</li>
<li>o other 表示其他以外的人</li>
<li>a all 表示这三者皆是</li>
</ul>
<p>‍</p>
<p>[ + - = ]</p>
<ul>
<li>+增加权限</li>
<li>-撤销权限</li>
<li>=设定权限</li>
</ul>
<p>‍</p>
<p>rwx</p>
<ul>
<li>r read 表示可读取，没有意味着不能通过 ls 查看这个目录的内容</li>
<li>w write 表示可写入，没有意味着不能在目录下创建新的文件</li>
<li>x excute 表示可执行，没有意味着不能通过 cd 进入这个目录</li>
</ul>
<p>‍</p>
<p>数字法：“rwx” 这些权限也可以用数字来代替</p>
<ul>
<li>r 读取权限 &ldquo;4&rdquo;</li>
<li>w 写入权限 &ldquo;2&rdquo;</li>
<li>x 执行权限 &ldquo;1&rdquo;</li>
<li>
<ul>
<li>
<pre><code>无权限       &quot;0&quot;
</code></pre>
</li>
</ul>
</li>
</ul>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">如执行</span><span class="err">：</span><span class="n">chmod</span> <span class="n">u</span><span class="o">=</span><span class="n">rwx</span><span class="p">,</span><span class="n">g</span><span class="o">=</span><span class="n">rx</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">r</span> <span class="n">filename</span> <span class="n">就等同于</span><span class="err">：</span><span class="n">chmod</span> <span class="n">u</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">g</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="mi">4</span> <span class="n">filename</span>
</span></span><span class="line"><span class="cl"><span class="n">chmod</span> <span class="mi">777</span> <span class="n">file</span><span class="err">：</span><span class="n">所有用户拥有读</span><span class="err">、</span><span class="n">写</span><span class="err">、</span><span class="n">执行权限</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">如果想递归所有目录加上相同权限</span><span class="err">，</span><span class="n">需要加上参数</span><span class="err">“</span> <span class="o">-</span><span class="n">R</span> <span class="err">”</span>
</span></span><span class="line"><span class="cl"><span class="n">chmod</span> <span class="mi">777</span> <span class="n">test</span><span class="o">/</span> <span class="o">-</span><span class="n">R</span> <span class="n">递归</span> <span class="n">test</span> <span class="n">目录下所有文件加</span> <span class="mi">777</span> <span class="n">权限</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="chown">
    <a href="#chown" class="header-anchor">#</a>
    chown
</h5><p>修改文件所有者</p>
<p>‍</p>
<p>‍</p>
<h5 id="chgrp">
    <a href="#chgrp" class="header-anchor">#</a>
    chgrp
</h5><p>修改文件所属组</p>
<p>‍</p>
<h5 id="chattr">
    <a href="#chattr" class="header-anchor">#</a>
    chattr
</h5><p>设置特殊权限</p>
<p>凌驾于 r、w、x、suid、sgid 之上的权限。</p>
<p>‍</p>
<ul>
<li>-i 锁定文件，不能编辑，不能修改，不能删除，不能移动，可以执行</li>
<li>-a 仅可以追加文件，不能编辑，不能删除，不能移动，可以执行</li>
</ul>
<p>‍</p>
<h4 id="特殊">
    <a href="#%e7%89%b9%e6%ae%8a" class="header-anchor">#</a>
    特殊
</h4><p>‍</p>
<p>linux 共 12 位权限，除了 9 位基础权限还有 3 个特殊权限</p>
<p>‍</p>
<h5 id="setuidsuid">
    <a href="#setuidsuid" class="header-anchor">#</a>
    setUID(suid)
</h5><p>‍</p>
<p>命令功能： 临时使用命令的属主权限执行该命令。即如果文件有 suid 权限时，那么普通用户去执行该文件时，会以该文件的所属用户的身份去执行。</p>
<p>SetUID（简写 suid）：会在属主权限位的执行权限上写个 s。 如果该属主权限位上有执行权限，则会在属主权限位的执行权限上写个 s（小写）； 如果该属主权限位上没有执行权限，则会在属主权限位的执行权限上写个 S（大写）</p>
<p>‍</p>
<p>由于 passwd 具有 s 权限，普通用户使用该命令的时候，就会以该命令的属主身份 root 执行该命令，于是能够顺利修改</p>
<p>‍</p>
<p>普通用户不具备修改权限的 /etc/shadow 文件</p>
<p>希望普通用户 user1 可以删除某个自己没有权限删除的文件的操作方法：</p>
<ul>
<li>sudo 给 user1 授权 rm 权限</li>
<li>rm 设置 suid</li>
<li>修改被删除文件上级目录的权限</li>
</ul>
<p>‍</p>
<p><strong>总结</strong></p>
<ol>
<li>让普通用户对可执行的二进制文件，临时拥有二进制文件的属主权限</li>
<li>如果设置的二进制文件没有执行权限，那么 suid 的权限显示就是 S（大写字母 S）</li>
<li>特殊权限 suid 仅对二进制可执行程序有效，其他文件或目录则无效</li>
<li>suid 极其危险，如果给 vim 或者 rm 命令设置了 setUID，那么任何文件都能编辑或者删除了，相当于有 root 权限了</li>
</ol>
<p>‍</p>
<p>‍</p>
<h5 id="setgidsgid">
    <a href="#setgidsgid" class="header-anchor">#</a>
    setGID(sgid)
</h5><p>‍</p>
<p>命使得多个用户之间共享一个目录的所有文件变得简单。</p>
<p>当某个目录设置了 sgid 后，在该目录中新建的文件不在是创建该文件的默认所属组。</p>
<p>‍</p>
<p>如果该属组权限位上有执行权限，则会在属组主权限位的执行权限上写个 s（小写字母）； 如果该属组权限位上没有执行权限，则会在属组主权限位的执行权限上写个 S（大写字母 S）。</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="预设">
    <a href="#%e9%a2%84%e8%ae%be" class="header-anchor">#</a>
    预设
</h4><p>‍</p>
<h5 id="stickysbit">
    <a href="#stickysbit" class="header-anchor">#</a>
    sticky(sbit)
</h5><p>粘滞位</p>
<p>‍</p>
<p>只对目录有效，对某目录设置粘滞位后，普通用户就算有 w 权限也只能删除该目录下自己建立的文件，而不能删除其他用户建立的文件</p>
<p>如果该其他用户权限位上有执行权限，则会在其他用户权限位的执行权限上写个 t（小写）；如果该其它用户权限位上没有执行权限，则会在其他用户权限位的执行权限上写个 T（大写）</p>
<p>系统中存在的/tmp 目录是经典的粘滞位目录，谁都有写权限，因此安全成问题，常常是木马第一手跳板。</p>
<p>‍</p>
<h5 id="umask">
    <a href="#umask" class="header-anchor">#</a>
    umask
</h5><p>掩码</p>
<p>用于设置用户在创建文件时的默认权限，当我们在系统中创建目录或文件时，目录或文件所具有的默认权限就是由 umask 值决定的。</p>
<p>对于 root 用户，系统默认的 umask 值是 0022；对于普通用户，系统默认的 umask 值是 0002。执行 umask 命令可以查看当前用户的 umask 值。</p>
<p>‍</p>
<p><strong>改变新文件的权限</strong></p>
<p>umask 值一共有 4 组数字，其中第 1 组数字用于定义特殊权限，一般不予考虑，与一般权限有关的是后 3 组数字。</p>
<p>默认情况下，对于目录，用户所能拥有的最大权限是 777；对于文件，用户所能拥有的最大权限是目录的最大权限去掉执行权限，即 666。因为 x 执行权限对于目录是必须的，没有执行权限就无法进入目录，而对于文件则不必默认赋予 x 执行权限。</p>
<p>对于 root 用户，他的 umask 值是 022。当 root 用户创建目录时，默认的权限就是用最大权限 777 去掉相应位置的 umask 值权限，即对于所有者不必去掉任何权限，对于所属组要去掉 w 权限，对于其他用户也要去掉 w 权限，所以目录的默认权限就是 755；当 root 用户创建文件时，默认的权限则是用最大权限 666 去掉相应位置的 umask 值，即文件的默认权限是 644。</p>
<p>通过 umask 命令可以修改 umask 值，比如将 umask 值设为 0077</p>
<p>‍</p>
<p><strong>永久修改 umask</strong></p>
<p>umask 命令只能临时修改 umask 值，系统重启之后 umask 将还原成默认值。如果要永久修改 umask 值，可修<br>
改 /etc/bashrc 或 /etc/profile 文件。<br>
例如要将默认 umask 值设置为 027，那么可以在文件中增加一行 umask 027</p>
<p>‍</p>
<p>‍</p>
<h3 id="文件管理">
    <a href="#%e6%96%87%e4%bb%b6%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    文件管理
</h3><p>‍</p>
<ul>
<li>cat 由第一行开始显示文件内容</li>
<li>tac 从最后一行开始显示</li>
<li>nl 显示的时候，顺道输出行号</li>
<li>more 一页一页的显示文件内容</li>
<li>less 与 more 类似，但可以往前翻页</li>
<li>head 只看头几行</li>
<li>tail 只看尾巴几行</li>
</ul>
<p>‍</p>
<h4 id="显示-1">
    <a href="#%e6%98%be%e7%a4%ba-1" class="header-anchor">#</a>
    显示
</h4><p>‍</p>
<h5 id="cat-tac">
    <a href="#cat-tac" class="header-anchor">#</a>
    cat-tac
</h5><p>基本显示</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cat</span> <span class="p">[</span><span class="o">-</span><span class="n">AbEnTv</span><span class="p">]</span>
</span></span></code></pre></div><p>/tac 刚好相反</p>
<p>‍</p>
<ul>
<li>-A ： 相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li>
<li>-v ： 列出一些看不出来的特殊字符</li>
<li>-E ： 将结尾的断行字节 $ 显示出来；</li>
<li>-T ： 将 [tab] 按键以 ^I 显示出来；</li>
<li>-b ： 列出行号，空白行不标行号</li>
<li>-n ： 列出行号，连同空白行也会有行号</li>
</ul>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="分页">
    <a href="#%e5%88%86%e9%a1%b5" class="header-anchor">#</a>
    分页
</h4><p>‍</p>
<h5 id="nl">
    <a href="#nl" class="header-anchor">#</a>
    nl
</h5><p>显示行号</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">nl</span> <span class="p">[</span><span class="o">-</span><span class="n">bnw</span><span class="p">]</span> <span class="n">文件</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-b ： 指定行号指定的方式，主要有两种：<br>
-b a ： 表示不论是否为空行，也同样列出行号(类似 cat -n)；<br>
-b t ： 如果有空行，空的那一行不要列出行号(默认值)；</li>
<li>-n ： 列出行号表示的方法，主要有三种：<br>
-n ln ： 行号在荧幕的最左方显示；<br>
-n rn ： 行号在自己栏位的最右方显示，且不加 0 ；<br>
-n rz ： 行号在自己栏位的最右方显示，且加 0 ；</li>
<li>-w ： 行号栏位的占用的位数。</li>
</ul>
<p>‍</p>
<h5 id="more-less">
    <a href="#more-less" class="header-anchor">#</a>
    more-less
</h5><p>分屏显示</p>
<p>‍</p>
<p>More</p>
<ul>
<li>Space 向下翻一页；</li>
<li>Enter 向下翻『一行』；</li>
<li>/字串 在这个显示的内容当中，向下搜寻『字串』这个关键字；</li>
<li>:f 立刻显示出档名以及目前显示的行数；</li>
<li>q 离开</li>
<li>b 或 [ctrl]-b 代表往回翻页，不过这动作只对文件有用，对管线无用。</li>
</ul>
<p>‍</p>
<p>Less</p>
<ul>
<li>空白键 向下翻动一页；</li>
<li>[pagedown] 向下翻动一页；</li>
<li>[pageup] 向上翻动一页；</li>
<li>/字串 向下搜寻『字串』的功能；</li>
<li>?字串 向上搜寻『字串』的功能；</li>
<li>n 重复前一个搜寻 (与 / 或 ? 有关！)</li>
<li>N 反向的重复前一个搜寻 (与 / 或 ? 有关！)</li>
<li>q 离开</li>
</ul>
<p>‍</p>
<p>‍</p>
<h5 id="head-tail">
    <a href="#head-tail" class="header-anchor">#</a>
    head-tail
</h5><p>取首/尾 n 行</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">head</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">number</span><span class="p">]</span> <span class="n">文件</span>
</span></span></code></pre></div><ul>
<li>-n ： 后面接数字，代表显示几行</li>
</ul>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">tail</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">number</span><span class="p">]</span> <span class="n">文件</span>
</span></span></code></pre></div><ul>
<li>-n ：后面接数字，代表显示几行的意思</li>
<li>-f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c 才会结束 tail 的侦测</li>
</ul>
<p>‍</p>
<p>‍</p>
<h4 id="创建">
    <a href="#%e5%88%9b%e5%bb%ba" class="header-anchor">#</a>
    创建
</h4><p>‍</p>
<ol>
<li>使用 touch 命令</li>
<li>使用 vi 和 vim 命令</li>
<li>使用&gt;、&raquo;命令</li>
<li>使用 cp 命令</li>
<li>使用 cat 命令间接</li>
</ol>
<p>‍</p>
<h5 id="touch">
    <a href="#touch" class="header-anchor">#</a>
    touch
</h5><p>‍</p>
<p>同时创建两个</p>
<p>​<code>touch XXX, XXX</code>​</p>
<p>‍</p>
<p>批量创建文件</p>
<p>​<code>touch test{01..10}.sh</code>​</p>
<p>‍</p>
<p>更改文件 test.sh 时间为当前时间（test.sh 已存在）</p>
<p>​<code>touch test.sh</code>​</p>
<p>‍</p>
<p>‍</p>
<h5 id="vivim">
    <a href="#vivim" class="header-anchor">#</a>
    <strong>vi/vim</strong>
</h5><p>使用编辑器打开</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vi test.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">vim test.sh
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="ls--">
    <a href="#ls--" class="header-anchor">#</a>
    ls + &gt;、&gt;&gt;
</h5><p>输出重定向将结果写入文件</p>
<p>可将本应显示在终端上的内容保存到指定文件中。 如：ls &gt; test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )</p>
<p>‍</p>
<blockquote>
<p>单箭头输出重定向会覆盖原来的内容，&raquo;输出重定向则会追加到文件的尾部。</p>
</blockquote>
<p>‍</p>
<p>‍</p>
<h5 id="grep">
    <a href="#grep" class="header-anchor">#</a>
    grep
</h5><p>将结果写入文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ps</span> <span class="o">-</span><span class="n">ef</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">java</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">sh</span>
</span></span><span class="line"><span class="cl"><span class="n">ps</span> <span class="o">-</span><span class="n">ef</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">java</span> <span class="o">&gt;&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">sh</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="echo">
    <a href="#echo" class="header-anchor">#</a>
    echo
</h5><p>将结果写入文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">sh</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span> <span class="o">&gt;&gt;</span> <span class="n">test</span><span class="o">.</span><span class="n">sh</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="ln">
    <a href="#ln" class="header-anchor">#</a>
    ln
</h5><p>建立链接文件</p>
<p>软链接：ln -s 源文件 链接文件</p>
<p>硬链接：ln 源文件 链接文件</p>
<p>‍</p>
<p>软链接(常用)类似于 Windows 下的快捷方式，如果软链接文件和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径</p>
<p>硬链接只能链接普通文件不能链接目录。 两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在</p>
<p>‍</p>
<hr>
<p>‍</p>
<h4 id="目录">
    <a href="#%e7%9b%ae%e5%bd%95" class="header-anchor">#</a>
    目录
</h4><p>‍</p>
<ul>
<li><strong>绝对路径：</strong><br>
路径的写法，由根目录 <strong>/</strong> 写起，例如： /usr/share/doc 这个目录。</li>
<li><strong>相对路径：</strong><br>
路径的写法，不是由 <strong>/</strong> 写起，例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： <strong>cd ../man</strong> 这就是相对路径的写法。</li>
</ul>
<p>‍</p>
<ul>
<li>ls（英文全拼：list files）: 列出目录及文件名</li>
<li>cd（英文全拼：change directory）：切换目录</li>
<li>pwd（英文全拼：print work directory）：显示目前的目录</li>
<li>mkdir（英文全拼：make directory）：创建一个新的目录</li>
<li>rmdir（英文全拼：remove directory）：删除一个空的目录</li>
<li>cp（英文全拼：copy file）: 复制文件或目录</li>
<li>rm（英文全拼：remove）: 删除文件或目录</li>
<li>mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称</li>
</ul>
<p>‍</p>
<p>‍</p>
<h5 id="ls">
    <a href="#ls" class="header-anchor">#</a>
    ls
</h5><p>列出目录的内容</p>
<p>‍</p>
<p>Linux 文件或者目录名称最长可以有 265 个字符,“.”代表当前目录，“..”代表上一级目录,以“.”开头的文件为隐藏文件需要用 -a 参数才能显示。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls [-aAdfFhilnrRSt] 目录名称
</span></span><span class="line"><span class="cl">ls [--color={never,auto,always}] 目录名称
</span></span><span class="line"><span class="cl">ls [--full-time] 目录名称
</span></span></code></pre></div><p>‍</p>
<p>选项与参数：</p>
<ul>
<li>-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)</li>
<li>-d ：仅列出目录本身，而不是列出目录内的文件数据(常用)</li>
<li>-l ：长数据串列出，包含文件的属性与权限等等数据(常用) 直接用 ll</li>
</ul>
<p>‍</p>
<p>将目录下的所有文件列出来(含属性与隐藏档)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# ls -al ~
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p><strong>列出的信息的含义</strong></p>
<p>一行: 文件类型(1) + 权限 3 组(9) + 目录/链接个数 + 所有者以及组 + 大小 + 修改日期 + 名称 + (*)</p>
<p>‍</p>
<p>含义:</p>
<p>‍</p>
<p><strong>第 1 个字母</strong>代表文件的类型</p>
<ul>
<li>“d” 代表文件夹</li>
<li>“-” 代表普通文件</li>
<li>“c” 代表硬件字符设备</li>
<li>“b” 代表硬件块设备</li>
<li>“s” 表示管道文件</li>
<li>“l” 代表软链接文件。</li>
</ul>
<p>‍</p>
<p><strong>后 9 个字母</strong>分别代表三组权限：</p>
<p>第一段表示文件创建者/所有者对该文件所具有的权限，第二段表示创建者/所有者所在的组的其他用户所具有的权限，第三段表示其他组的其他用户所具有的权限。</p>
<p>‍</p>
<p>r（Read，读取权限）：对文件而言，具有读取文件内容的权限；对目录来说，具有浏览目录的权限。<br>
w（Write，写入权限）：对文件而言，具有新增、修改文件内容的权限；对目录来说，具有删除、移动目录内文件的权限。<br>
x（eXecute，执行权限）：对文件而言，具有执行文件的权限；对目录来说，该用户具有进入目录的权限。</p>
<p>另外，这里还有 2 个很特殊的属性，平时不怎么常见，这里也顺带解释一下：</p>
<p>s 或 S（SUID,Set UID）：可执行的文件搭配这个权限，便能得到特权，任意存取该文件的所有者能使用的全部系统资源。请注意具备 SUID 权限的文件，黑客经常利用这种权限，以 SUID 配上 root 帐号拥有者，无声无息地在系统中开扇后门，供日后进出使用。<br>
t 或 T（Sticky）：/tmp 和 /var/tmp 目录供所有用户暂时存取文件，亦即每位用户皆拥有完整的权限进入该目录，去浏览、删除和移动文件。<br>
综合起来可得，对于 back_init 文件，其创建者/所有者具有可读可写可执行的权限，其创建者/所有者所在的组的其他用户具有可读可写可执行的权限，其他组的其他用户则具有可读可执行但不可写的权限。</p>
<p>‍</p>
<p>再然后<strong>一个</strong>是目录/链接个数</p>
<p>对于目录文件，表示它的第一级子目录的个数。注意此处看到的<strong>值要减 2</strong>才等于该目录下的子目录的实际个数(要加上.目录和..目录)</p>
<p>‍</p>
<p><strong>之后一对</strong></p>
<p>所有者及组</p>
<p>文件的所有者/创建者（owner）及其所在的组（group）</p>
<p>‍</p>
<p><strong>数值</strong></p>
<p>文件大小,单位为字节。<br>
如果是目录，则表示该目录符所占的大小，并不表示该目录下所有文件的大小</p>
<p>‍</p>
<p><strong>修改日期</strong></p>
<p>最后修改的日期时间</p>
<p>‍</p>
<p><strong>文件名称 字体颜色</strong></p>
<p>在大多数的 linux shell 窗口中，还能用颜色来区分不同文件的属性：</p>
<p>灰白色表示普通文件；<br>
亮绿色表示可执行文件；<br>
亮红色表示压缩文件；<br>
灰蓝色表示目录；<br>
亮蓝色表示链接文件；<br>
亮黄色表示设备文件；</p>
<p>‍</p>
<p><strong>另</strong></p>
<p>凡是文件名后面带了一个星号（*）的，都是在说明这是一个可执行文件</p>
<p>‍</p>
<p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>所有字符</td>
</tr>
<tr>
<td>?</td>
<td>任意字符</td>
</tr>
<tr>
<td>X* */** X</td>
<td>查找&hellip;开头/结尾的</td>
</tr>
<tr>
<td>X?/?X</td>
<td>查找..位置字符任意,&hellip;开头结尾的</td>
</tr>
<tr>
<td>[ ]</td>
<td>匹配字符组中的任意一个 里面配合 - 来表示范围</td>
</tr>
<tr>
<td>\</td>
<td>转义字符</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<h5 id="cd">
    <a href="#cd" class="header-anchor">#</a>
    cd
</h5><p>(切换目录)</p>
<p>Change Directory</p>
<p>​<code>Linux所有的目录和文件名大小写敏感</code>​</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> cd [相对路径或绝对路径]
</span></span></code></pre></div><ul>
<li>cd == cd ~</li>
<li>cd ~ 切换到当前用户的主目录(/home/用户目录)</li>
<li>cd . 切换到当前目录</li>
<li>cd .. 切换到上级目录</li>
<li>cd - 进入上次所在的目录</li>
</ul>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">#使用 mkdir 命令创建 runoob 目录
</span></span><span class="line"><span class="cl">[root@www ~]# mkdir runoob
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#使用绝对路径切换到 runoob 目录
</span></span><span class="line"><span class="cl">[root@www ~]# cd /root/runoob/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#使用相对路径切换到 runoob 目录
</span></span><span class="line"><span class="cl">[root@www ~]# cd ./runoob/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 表示回到自己的家目录，亦即是 /root 这个目录
</span></span><span class="line"><span class="cl">[root@www runoob]# cd ~
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 表示去到目前的上一级目录，亦即是 /root 的上一级目录的意思；
</span></span><span class="line"><span class="cl">[root@www ~]# cd ..
</span></span></code></pre></div><p>‍</p>
<h5 id="pwd">
    <a href="#pwd" class="header-anchor">#</a>
    pwd
</h5><p>(显示目前所在的目录)显示当前路径</p>
<p><strong>Print Working Directory</strong> 显示目前所在目录的命令。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# pwd [-P]
</span></span></code></pre></div><p>‍</p>
<p>选项与参数：</p>
<ul>
<li><strong>-P</strong> ：显示出确实的路径，而非使用链接 (link) 路径。</li>
</ul>
<p>‍</p>
<p>实例：单纯显示出目前的工作目录：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# pwd
</span></span><span class="line"><span class="cl">/root   &lt;== 显示出目录啦～
</span></span></code></pre></div><p>‍</p>
<p>实例显示出实际的工作目录，而非链接档本身的目录名而已。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="c1"># cd /var/mail   &lt;==注意，/var/mail是一个链接档</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="c1"># pwd</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">mail</span>         <span class="o">&lt;==</span><span class="err">列出目前的工作目录</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="c1"># pwd -P</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span>   <span class="o">&lt;==</span><span class="err">怎么回事？有没有加</span> <span class="o">-</span><span class="n">P</span> <span class="err">差很多～</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="c1"># ls -ld /var/mail</span>
</span></span><span class="line"><span class="cl"><span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">Sep</span>  <span class="mi">4</span> <span class="mi">17</span><span class="p">:</span><span class="mi">54</span> <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">mail</span> <span class="o">-&gt;</span> <span class="n">spool</span><span class="o">/</span><span class="n">mail</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 看到这里应该知道为啥了吧？因为 /var/mail 是链接档，链接到 /var/spool/mail</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 所以，加上 pwd -P 的选项后，会不以链接档的数据显示，而是显示正确的完整路径啊！</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="mkdir">
    <a href="#mkdir" class="header-anchor">#</a>
    mkdir
</h5><p>make directory 创建目录</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mkdir [-mp] 目录名称
</span></span></code></pre></div><p>‍</p>
<p>新建目录的名称不能与当前目录中已有的目录或文件同名，并且目录创建者必须对当前目录具有写权限</p>
<p>‍</p>
<ul>
<li>-m ： 指定被创建目录的权限，而不是根据默认权限 (umask) 设定</li>
<li>-p ： 递归创建所需要的目录</li>
</ul>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">//</span><span class="n">递归创建实例</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">test1</span><span class="o">/</span><span class="n">test2</span><span class="o">/</span><span class="n">test3</span><span class="o">/</span><span class="n">test4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span><span class="n">指定被创建目录的权限</span>
</span></span><span class="line"><span class="cl"><span class="n">mkdir</span> <span class="n">t2</span> <span class="o">-</span><span class="n">m</span> <span class="mi">711</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="rm">
    <a href="#rm" class="header-anchor">#</a>
    rm
</h5><p>删除文件或目录</p>
<p>‍</p>
<p>使用 rm 命令要小心，因为文件删除后不能恢复。为了防止文件误删，可以在 rm 后使用-i 参数以逐个确认要删除的文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">fr</span><span class="w"> </span><span class="n">包治百病</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<ul>
<li>-i 以进行交互式方式执行</li>
<li>-f 强制删除，忽略不存在的文件，无需提示</li>
<li>-r 递归地删除目录下的内容，删除文件夹时必须加此参数</li>
</ul>
<p>‍</p>
<h5 id="rmdir">
    <a href="#rmdir" class="header-anchor">#</a>
    rmdir
</h5><p>删除空目录</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> rmdir [-p] 目录名称
</span></span></code></pre></div><p>‍</p>
<ul>
<li><strong>-p ：</strong> 从该目录起，一次删除多级空目录</li>
</ul>
<p>‍</p>
<p>将 mkdir 实例中创建的目录(/tmp 底下)删除掉！</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www tmp]# ls -l   &lt;==看看有多少目录存在？
</span></span><span class="line"><span class="cl">drwxr-xr-x  3 root  root 4096 Jul 18 12:50 test
</span></span><span class="line"><span class="cl">drwxr-xr-x  3 root  root 4096 Jul 18 12:53 test1
</span></span><span class="line"><span class="cl">drwx--x--x  2 root  root 4096 Jul 18 12:54 test2
</span></span><span class="line"><span class="cl">[root@www tmp]# rmdir test   &lt;==可直接删除掉，没问题
</span></span><span class="line"><span class="cl">[root@www tmp]# rmdir test1  &lt;==因为尚有内容，所以无法删除！
</span></span><span class="line"><span class="cl">rmdir: `test1&#39;: Directory not empty
</span></span><span class="line"><span class="cl">[root@www tmp]# rmdir -p test1/test2/test3/test4
</span></span><span class="line"><span class="cl">[root@www tmp]# ls -l        &lt;==您看看，底下的输出中test与test1不见了！
</span></span><span class="line"><span class="cl">drwx--x--x  2 root  root 4096 Jul 18 12:54 test2
</span></span></code></pre></div><p>利用 -p 这个选项，立刻就可以将 test1/test2/test3/test4 一次删除。</p>
<p>不过要注意的是，这个 rmdir 仅能删除空的目录，你可以使用 rm 命令来删除非空目录。</p>
<p>‍</p>
<p>‍</p>
<h5 id="cp">
    <a href="#cp" class="header-anchor">#</a>
    cp
</h5><p>(复制文件或目录)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># cp [-adfilprsu] 来源档(source) 目标档(destination)
</span></span><span class="line"><span class="cl"># cp [options] source1 source2 source3 .... directory
</span></span></code></pre></div><p>‍</p>
<p>选项与参数：</p>
<ul>
<li>**-a ** 该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。</li>
<li>**-d ** 若来源档为链接档的属性(link file)，则复制链接档属性而非文件本身；</li>
<li>**-f ** 为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；</li>
<li>**-i ** 交互式复制，在覆盖目标文件之前将给出提示要求用户确认</li>
<li>**-l ** 进行硬式链接(hard link)的链接档创建，而非复制文件本身；</li>
<li>**-p ** 连同文件的属性一起复制过去，而非使用默认属性(备份常用)；</li>
<li>**-r ** 递归持续复制，用於目录的复制行为；(常用)</li>
<li>**-s ** 复制成为符号链接档 (symbolic link)，亦即批量创建快捷方式</li>
<li>**-u ** 若 destination 比 source 旧才升级 destination ！</li>
<li>**-v ** 显示拷贝进度</li>
</ul>
<p>‍</p>
<p>‍</p>
<p>用 root 身份，将 root 目录下的 .bashrc 复制到 /tmp 下，并命名为 bashrc</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# cp ~/.bashrc /tmp/bashrc
</span></span><span class="line"><span class="cl">[root@www ~]# cp -i ~/.bashrc /tmp/bashrc
</span></span><span class="line"><span class="cl">cp: overwrite `/tmp/bashrc&#39;? n  &lt;==n不覆盖，y为覆盖
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="mv">
    <a href="#mv" class="header-anchor">#</a>
    mv
</h5><p>移动文件</p>
<p>移动文件或目录，也可以给文件或目录重命名</p>
<p>‍</p>
<p>‍</p>
<ul>
<li>-f 禁止交互式操作，如有覆盖也不会给出提示</li>
<li>-i 确认交互方式操作，如果 mv 操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户<br>
答以避免误覆盖文件</li>
<li>-v 显示移动进度</li>
<li>-u 若目标文件已经存在，且 source 比较新，才会升级 (update)</li>
</ul>
<p>‍</p>
<p>复制一文件，创建一目录，将文件移动到目录中</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# cd /tmp
</span></span><span class="line"><span class="cl">[root@www tmp]# cp ~/.bashrc bashrc
</span></span><span class="line"><span class="cl">[root@www tmp]# mkdir mvtest
</span></span><span class="line"><span class="cl">[root@www tmp]# mv bashrc mvtest
</span></span></code></pre></div><p>将某个文件移动到某个目录去，就是这样做！</p>
<p>将刚刚的目录名称更名为 mvtest2</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www tmp]# mv mvtest mvtest2
</span></span></code></pre></div><hr>
<p>‍</p>
<h4 id="搜索">
    <a href="#%e6%90%9c%e7%b4%a2" class="header-anchor">#</a>
    搜索
</h4><h5 id="grep-1">
    <a href="#grep-1" class="header-anchor">#</a>
    grep
</h5><p>文本搜索</p>
<p>强大的文本搜索工具，允许对文本文件进行模式查找。如果找到匹配模式，grep 打印包含模式的所有行</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">grep</span> <span class="p">[</span><span class="o">-</span><span class="n">选项</span><span class="p">]</span> <span class="s1">&#39;搜索内容串&#39;</span> <span class="n">文件名</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-r 递归的方式查找</li>
<li>-v 打印出不符合条件行的内容</li>
</ul>
<p>‍</p>
<p>grep 命令中输入字符串参数时，最好引号或双引号括起来。例如： grep &lsquo;a&rsquo; 1.txt 。</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">在当前目录中</span><span class="err">，</span><span class="n">查找前缀有test字样的文件中包含</span> <span class="n">test</span> <span class="n">字符串的文件</span><span class="err">，</span><span class="n">并打印出该字符串的行</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">grep</span> <span class="n">test</span> <span class="n">test</span><span class="o">*</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">以递归的方式查找符合条件的文件</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">查找指定目录</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">acpi</span> <span class="n">及其子目录</span><span class="err">（</span><span class="n">如果存在子目录的话</span><span class="err">）</span><span class="n">下所有文件中包含字符串</span><span class="s2">&#34;update&#34;</span><span class="n">的文件</span><span class="err">，</span><span class="n">并打印出该字符串所在行的内容</span>
</span></span><span class="line"><span class="cl"><span class="n">grep</span> <span class="o">-</span><span class="n">r</span> <span class="n">update</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">acpi</span> <span class="c1">#以递归的方式查找“etc/acpi”</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">查找文件名中包含</span> <span class="n">test</span> <span class="n">的文件中不包含test</span> <span class="n">的行</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">grep</span> <span class="o">-</span><span class="n">v</span> <span class="n">test</span><span class="o">*</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="find">
    <a href="#find" class="header-anchor">#</a>
    find
</h5><p>查找文件</p>
<p>‍</p>
<pre><code>在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件并且将查找到的子目录和文件全部显示
</code></pre>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">find</span> <span class="n">path</span> <span class="o">-</span><span class="n">option</span> <span class="p">[</span> <span class="o">-</span><span class="nb">print</span> <span class="p">]</span> <span class="p">[</span> <span class="o">-</span><span class="n">exec</span> <span class="o">-</span><span class="n">ok</span> <span class="n">command</span> <span class="p">]</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>
<p>-perm xxxx 权限为 xxxx 的文件或目录</p>
</li>
<li>
<p>-user 按照文件属主来查找文件。</p>
</li>
<li>
<p>-size n n 单位,b:512 位元组的区块,c:字元数,k:kilo bytes,w:二个位元组</p>
</li>
<li>
<p>-mount, -xdev 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件</p>
</li>
<li>
<p>-amin n 在过去 n 分钟内被读取过</p>
</li>
<li>
<p>-anewer file 比文件 file 更晚被读取过的文件</p>
</li>
<li>
<p>-atime n 在过去 n 天内被读取过的文件</p>
</li>
<li>
<p>-cmin n 在过去 n 分钟内被修改过</p>
</li>
<li>
<p>-cnewer file 比文件 file 更新的文件</p>
</li>
<li>
<p>-ctime n 在过去 n 天内被修改过的文件</p>
</li>
<li>
<p>-empty 空的文件</p>
</li>
<li>
<p>-gid n or -group name gid 是 n 或是 group 名称是 name</p>
</li>
<li>
<p>-ipath p, -path p 路径名称符合 p 的文件，ipath 会忽略大小写</p>
</li>
<li>
<p>-name name, -iname name 文件名称符合 name 的文件。iname 会忽略大小写</p>
</li>
<li>
<p>-type 查找某一类型的文件：</p>
<p>b - 块设备文件<br>
d - 目录<br>
c - 字符设备文件<br>
p - 管道文件<br>
l - 符号链接文件<br>
f - 普通文件</p>
</li>
<li>
<p>-exec 命令名{} \ (注意：“}”和“\”之间有空格)</p>
</li>
</ul>
<p>‍</p>
<p>实例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">显示当前目录中大于20字节并以</span><span class="o">.</span><span class="n">c结尾的文件名</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&#34;*.c&#34;</span> <span class="o">-</span><span class="n">size</span> <span class="o">+</span><span class="mi">20</span><span class="n">c</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">将目前目录其其下子目录中所有一般文件列出</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="nb">type</span> <span class="n">f</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">将目前目录及其子目录下所有最近</span> <span class="mi">20</span> <span class="n">天内更新过的文件列出</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">ctime</span> <span class="o">-</span><span class="mi">20</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">查找</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log目录中更改时间在7日以前的普通文件</span><span class="err">，</span><span class="n">并在删除之前询问它们</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span> <span class="o">-</span><span class="nb">type</span> <span class="n">f</span> <span class="o">-</span><span class="n">mtime</span> <span class="o">+</span><span class="mi">7</span> <span class="o">-</span><span class="n">ok</span> <span class="n">rm</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">查找前目录中文件属主具有读</span><span class="err">、</span><span class="n">写权限</span><span class="err">，</span><span class="n">并且文件所属组的用户和其他用户具有读权限的文件</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="nb">type</span> <span class="n">f</span> <span class="o">-</span><span class="n">perm</span> <span class="mi">644</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">查找系统中所有文件长度为0的普通文件</span><span class="err">，</span><span class="n">并列出它们的完整路径</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">/</span> <span class="o">-</span><span class="nb">type</span> <span class="n">f</span> <span class="o">-</span><span class="n">size</span> <span class="mi">0</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">从根目录查找类型为符号链接的文件</span><span class="err">，</span><span class="n">并将其删除</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">/</span> <span class="o">-</span><span class="nb">type</span> <span class="n">l</span> <span class="o">-</span><span class="n">exec</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="p">{}</span> \
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">从当前目录查找用户tom的所有文件并显示在屏幕上</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">user</span> <span class="n">tom</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">在当前目录中查找所有文件以</span><span class="o">.</span><span class="n">doc结尾</span><span class="err">，</span><span class="n">且更改时间在3天以上的文件</span><span class="err">，</span><span class="n">找到后删除</span><span class="err">，</span><span class="n">并且给出删除提示</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="o">*.</span><span class="n">doc</span>  <span class="o">-</span><span class="n">mtime</span> <span class="o">+</span><span class="mi">3</span> <span class="o">-</span><span class="n">ok</span> <span class="n">rm</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">在当前目录下查找所有链接文件</span><span class="err">，</span><span class="n">并且以长格式显示文件的基本信息</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="nb">type</span> <span class="n">l</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">在当前目录下查找文件名有一个小写字母</span><span class="err">、</span><span class="n">一个大写字母</span><span class="err">、</span><span class="n">两个数字组成</span><span class="err">，</span><span class="n">且扩展名为</span><span class="o">.</span><span class="n">doc的文件</span>
</span></span><span class="line"><span class="cl"><span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s1">&#39;[a-z][A-Z][0-9][0-9].doc&#39;</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="locate">
    <a href="#locate" class="header-anchor">#</a>
    locate
</h5><p>查找</p>
<p>‍</p>
<p>locate 命令会去保存文档和目录名称的数据库内，查找文件或目录。</p>
<p>一般情况我们只需要输入 locate your_file_name 即可查找指定文件</p>
<p>‍</p>
<p>-d 或&ndash;database= 配置 locate 指令使用的数据库。locate 指令预设的数据库位于/var/lib/mlocate 目录里，文档名为 mlocate.db</p>
<p>‍</p>
<p>locate 与 find 的区别: find 是去硬盘找，locate 只在/var/lib/slocate 资料库中找。</p>
<p>‍</p>
<p>locate 的速度比 find 快，它并不是真的查找，而是查数据库，一般文件数据库在/var/lib/mlocate/mlocate.db 中，所<br>
以 locate 的查找并不是实时的，而是以数据库的更新为准，一般是系统自己维护，也可以手工升级数据库(updatedb)</p>
<p>‍</p>
<h4 id="归档">
    <a href="#%e5%bd%92%e6%a1%a3" class="header-anchor">#</a>
    归档
</h4><p>‍</p>
<h5 id="tar">
    <a href="#tar" class="header-anchor">#</a>
    tar
</h5><p>归档管理</p>
<p>把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"> <span class="n">tar</span> <span class="p">[</span><span class="n">参数</span><span class="p">]</span> <span class="n">打包文件名</span> <span class="n">文件</span>
</span></span></code></pre></div><p>tar 命令参数很特殊，其参数前面可以使用“-”，也可以不使用</p>
<p>注意：除了 f 需要放在参数的最后，其它参数的顺序任意</p>
<p>‍</p>
<ul>
<li>-c 生成档案文件，创建打包文件</li>
<li>-v 列出归档解档的详细过程，显示进度</li>
<li>-f 指定档案文件名称，f 后面一定是.tar 文件，所以必须放选项最后</li>
<li>-t 列出档案中包含的文件</li>
<li>-x 解开档案文件</li>
<li>-z 调用 gzip 实现压缩</li>
</ul>
<p>‍</p>
<p>tar 命令中-z 选项可以调用 gzip 实现了一个压缩的功能，实行一个先打包后压缩的过程</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">压缩用法</span><span class="err">：</span><span class="n">tar</span><span class="w"> </span><span class="o">[</span><span class="n">zcvf</span><span class="o">]</span><span class="w"> </span><span class="n">压缩包包名</span><span class="w"> </span><span class="n">文件1</span><span class="w"> </span><span class="n">文件2</span><span class="w"> </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">解压用法</span><span class="err">：</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="o">[</span><span class="n">zxvf</span><span class="o">]</span><span class="w"> </span><span class="n">压缩包包名</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">例如</span><span class="err">：</span> <span class="n">tar</span> <span class="n">zcvf</span> <span class="n">test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="mf">1.</span><span class="n">c</span> <span class="mf">2.</span><span class="n">c</span> <span class="mf">3.</span><span class="n">c</span> <span class="mf">4.</span><span class="n">c把</span> <span class="mf">1.</span><span class="n">c</span> <span class="mf">2.</span><span class="n">c</span> <span class="mf">3.</span><span class="n">c</span> <span class="mf">4.</span><span class="n">c</span> <span class="n">压缩成</span> <span class="n">test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span></code></pre></div><p>‍</p>
<p>解压到指定目录：-C （解压时可以不指定-z 选项）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">tar</span> <span class="n">xvf</span> <span class="n">test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">C</span> <span class="n">number</span><span class="o">/</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="gzip">
    <a href="#gzip" class="header-anchor">#</a>
    gzip
</h5><p>bzip2</p>
<p>文件压缩解压</p>
<p>‍</p>
<pre><code>tar与gzip命令结合使用实现文件打包、压缩。 tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz
</code></pre>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">gzip</span>  <span class="p">[</span><span class="n">选项</span><span class="p">]</span>  <span class="n">被压缩文件</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-d 解压文件</li>
<li>-r 压缩文件</li>
</ul>
<p>‍</p>
<p>bzip2 命令跟 gzip 用法类似</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">压缩用法</span><span class="err">：</span><span class="n">tar</span><span class="w"> </span><span class="n">jcvf</span><span class="w"> </span><span class="n">压缩包包名</span><span class="w"> </span><span class="n">文件</span><span class="p">...(</span><span class="n">tar</span><span class="w"> </span><span class="n">jcvf</span><span class="w"> </span><span class="n">bk</span><span class="p">.</span><span class="na">tar</span><span class="p">.</span><span class="na">bz2</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="na">c</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">解压用法</span><span class="err">：</span><span class="n">tar</span><span class="w"> </span><span class="n">jxvf</span><span class="w"> </span><span class="nf">压缩包包名</span><span class="w"> </span><span class="p">(</span><span class="n">tar</span><span class="w"> </span><span class="n">jxvf</span><span class="w"> </span><span class="n">bk</span><span class="p">.</span><span class="na">tar</span><span class="p">.</span><span class="na">bz2</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="zip">
    <a href="#zip" class="header-anchor">#</a>
    zip
</h5><p>unzip</p>
<p>文件压缩解压</p>
<p>‍</p>
<p>通过 zip 压缩文件的目标文件不需要指定扩展名，默认扩展名为 zip</p>
<p>压缩文件：zip [-r] 目标文件(没有扩展名) 源文件</p>
<p>解压文件：unzip -d 解压后目录文件 压缩文件</p>
<p>‍</p>
<h4 id="管道">
    <a href="#%e7%ae%a1%e9%81%93" class="header-anchor">#</a>
    管道
</h4><p>|</p>
<p>管道命令是&rsquo;|&rsquo;，一个命令的输出可以通过管道做为另一个命令的输入, |的左右分为两端，从左端写入到右端通过它可以对数据进行连续处理</p>
<p>管道命令仅处理标准输出，对于标准错误输出，将忽略</p>
<p>管道命令右边命令，必须能够接收标准输入流命令才行，否则传递过程中数据会抛弃。<br>
常用来作为接收数据管道命令有： less,more,head,tail，而 ls, cp, mv 就不行</p>
<p>‍</p>
<h5 id="综合">
    <a href="#%e7%bb%bc%e5%90%88" class="header-anchor">#</a>
    综合
</h5><p>‍</p>
<p>使用 ls、grep 和 wc 这三个命令来统计某个路径下文件或者文件夹的数量。例如：</p>
<ul>
<li>统计当前目录下文件的个数（不包括目录）：ls -l | grep &ldquo;^-&rdquo; | wc -l</li>
<li>统计当前目录下文件的个数（包括子目录）：ls -lR| grep &ldquo;^-&rdquo; | wc -l</li>
<li>查看某目录下文件夹 (目录)的个数（包括子目录）：ls -lR | grep &ldquo;^d&rdquo; | wc -l</li>
<li>统计当前文件夹下叫某某的文件的数量：find . -name filename | wc -l</li>
<li>统计当前文件夹下指定类型的文件的数量：find -name &ldquo;*.js&rdquo; | wc -l</li>
</ul>
<p>‍</p>
<p>使用 find 命令获取所有文件，然后使用 wc 命令计算数量。例如：</p>
<ul>
<li>统计某个目录中的文件数（包括子目录）：find directory_path -type f | wc -l</li>
<li>递归统计出文件夹下所有文件的数目：find /path/to/folder -name &ldquo;*.java&rdquo; | wc -l</li>
<li>递归统计出文件夹下所有子文件夹的数目：find /path/to/folder -type d | wc -l</li>
</ul>
<p>‍</p>
<p>‍</p>
<h5 id="wc">
    <a href="#wc" class="header-anchor">#</a>
    wc
</h5><p>统计字数</p>
<p>‍</p>
<p>可以计算文件的 Byte 数、字数、或是列数，若不指定文件名称、或是所给予的文件名为&rdquo;-&quot;，则 wc 指令会从标准输入设<br>
备读取数据</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">wc</span> <span class="p">[</span><span class="o">-</span><span class="n">lwm</span><span class="p">]</span> <span class="p">[</span><span class="n">filename</span><span class="p">],[</span><span class="n">filename2</span><span class="p">],</span><span class="o">...</span>
</span></span></code></pre></div><ul>
<li>-l: 统计行数</li>
<li>-w： 统计英文单词</li>
<li>-m： 统计字符数</li>
</ul>
<p>默认的情况下，wc 将计算指定文件的行数、字数，以及字节数</p>
<p>‍</p>
<p>示例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span> <span class="n">wc</span> <span class="n">testfile</span>           <span class="c1"># testfile文件的统计信息</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span> <span class="mi">92</span> <span class="mi">598</span> <span class="n">testfile</span>       <span class="c1"># testfile文件的行数为3、单词数92、字节数598</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="cut">
    <a href="#cut" class="header-anchor">#</a>
    cut
</h5><p>列选取命令</p>
<p>‍</p>
<ul>
<li>-d ： 后面接分隔字符。与 -f 一起使用；</li>
<li>-f ： 依据 -d 的分隔字符将一段信息分割成为数段，用 -f 取出第几段的意思；</li>
<li>-c ： 以字符 (characters) 的单位取出固定字符区间</li>
</ul>
<p>cut 以行为单位，根据分隔符把行分成若干列，这样就可以指定选取哪些列了</p>
<p>‍</p>
<p>示例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;分隔字符&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="n">选取的列数</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span><span class="o">|</span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">2</span>      <span class="o">--</span><span class="n">选取第2列</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span><span class="o">|</span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">3</span><span class="p">,</span><span class="mi">5</span>    <span class="o">--</span><span class="n">选取第3列和第5列</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span><span class="o">|</span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">3</span><span class="o">-</span><span class="mi">5</span>    <span class="o">--</span><span class="n">选取第3列到第5列</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span><span class="o">|</span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">3</span><span class="o">-</span>     <span class="o">--</span><span class="n">选取第3列到最后1列</span>
</span></span><span class="line"><span class="cl"><span class="n">echo</span> <span class="err">$</span><span class="n">PATH</span><span class="o">|</span><span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">1</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span>  <span class="o">--</span><span class="n">选取第1到第3列还有第5列</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="grep-2">
    <a href="#grep-2" class="header-anchor">#</a>
    grep
</h5><p>行选取命令</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">grep</span> <span class="p">[</span><span class="o">-</span><span class="n">cinv</span><span class="p">]</span> <span class="s1">&#39;查找的字符串&#39;</span> <span class="n">filename</span>
</span></span></code></pre></div><p>在 grep 命令中输入字符串参数时，最好引号或双引号括起来。例如： grep &lsquo;a&rsquo; 1.txt</p>
<p>‍</p>
<ul>
<li>-v 显示不包含匹配文本的所有行（相当于求反）</li>
<li>-n 显示匹配行及行号</li>
<li>-i 忽略大小写</li>
<li>-c 计算找到的行数</li>
</ul>
<p>grep 搜索内容串可以是正则表达式(略)</p>
<p>‍</p>
<p>实例：</p>
<p>显示所有以“h”结尾的行<br>
​<code>grep h$</code>​</p>
<p>匹配所有以“a”开头且以“e”结尾的，中间包含 2 个字符的单词<br>
​<code>grep '&lt;a..e&gt;'</code>​</p>
<p>‍</p>
<h5 id="sort">
    <a href="#sort" class="header-anchor">#</a>
    sort
</h5><p>排序</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">sort</span> <span class="p">[</span><span class="o">-</span><span class="n">fbMnrtuk</span><span class="p">]</span> <span class="p">[</span><span class="n">file</span> <span class="ow">or</span> <span class="n">stdin</span><span class="p">]</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-f ： 忽略大小写的差异，例如 A 与 a 视为编码相同；</li>
<li>-b ： 忽略最前面的空格符部分；</li>
<li>-M ： 以月份的名字来排序，例如 JAN, DEC 等等的排序方法；</li>
<li>-n ： 使用『纯数字』进行排序(默认是以文字型态来排序的)；</li>
<li>-r ： 反向排序；</li>
<li>-u ： 就是 uniq ，相同的数据中，仅出现一行代表；</li>
<li>-t ： 分隔符，默认是用 [tab] 键来分隔；</li>
<li>-k ： 以哪个区间 (field) 来进行排序</li>
</ul>
<p>‍</p>
<p>默认是以第一个字符升序排序:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># cat /etc/passwd | sort</span>
</span></span></code></pre></div><p>以第 3 列排序：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span>
</span></span></code></pre></div><p>使用数字排序：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="n">n</span>
</span></span></code></pre></div><p>倒序排序：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="s1">&#39;:&#39;</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="n">nr</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="uniq">
    <a href="#uniq" class="header-anchor">#</a>
    uniq
</h5><p>去重</p>
<p>‍</p>
<ul>
<li>-i ： 忽略大小写字符的不同；</li>
<li>-c ： 进行计数</li>
<li>-u ： 只显示唯一的行</li>
</ul>
<p>该命令用于排完序之后，对排序结果进行去重</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span> <span class="n">last</span> <span class="o">|</span> <span class="n">cut</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39; &#39;</span> <span class="o">-</span><span class="n">f</span> <span class="mi">1</span>  <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">uniq</span>
</span></span></code></pre></div><p>‍</p>
<p>示例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">排序之后删除了重复行</span><span class="err">，</span><span class="n">同时在行首位置输出该行重复的次数</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="c1">#sort testfile | uniq -c</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">仅显示存在重复的行</span><span class="err">，</span><span class="n">并在行首显示该行重复的次数</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="c1">#sort testfile | uniq -dc</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="tee">
    <a href="#tee" class="header-anchor">#</a>
    tee
</h5><p>同时输出多个文件</p>
<p>从标准输入设备读取数据，将其内容输出到标准输出设备，同时保存成文件。</p>
<p>‍</p>
<p>一般情况下用重定向实现，需要同时输出多个文件时可以使用该命令。</p>
<p>‍</p>
<p>-a 或&ndash;append 附加到既有文件的后面，而非覆盖它</p>
<p>‍</p>
<h5 id="tr">
    <a href="#tr" class="header-anchor">#</a>
    tr
</h5><p>替换指定的字符</p>
<p>不指定参数时，即表示替换指定的字符为另一个字符，支持指定的字符集合</p>
<p>‍</p>
<ul>
<li>-d, &ndash;delete：删除指定的字符</li>
<li>-s, &ndash;squeeze-repeats：缩减连续重复的字符成指定的单个字符</li>
</ul>
<p>‍</p>
<p>示例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">将文件testfile中的小写字母全部转换成大写字母</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="n">testfile</span> <span class="o">|</span><span class="n">tr</span> <span class="n">a</span><span class="o">-</span><span class="n">z</span> <span class="n">A</span><span class="o">-</span><span class="n">Z</span>
</span></span><span class="line"><span class="cl"><span class="n">或</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="n">testfile</span> <span class="o">|</span><span class="n">tr</span> <span class="p">[:</span><span class="n">lower</span><span class="p">:]</span> <span class="p">[:</span><span class="n">upper</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">删除指定的字符</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="err">$</span> <span class="n">cat</span> <span class="n">t</span><span class="o">|</span><span class="n">tr</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;dv&#39;</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="join">
    <a href="#join" class="header-anchor">#</a>
    join
</h5><p>文件按行连接</p>
<p>‍</p>
<p>将两个文件中指定栏位相同的行连接起来。即按照两个文件中共同拥有的某一列，将对应的行拼接成一行</p>
<p>注意：在使用 join 之前所处理的文件要事先经过排序</p>
<p>‍</p>
<p>‍</p>
<h5 id="paste">
    <a href="#paste" class="header-anchor">#</a>
    paste
</h5><p>将多个文件对应行链接在一起</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">paste</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span><span class="p">][</span><span class="o">-</span><span class="n">d</span> <span class="o">&lt;</span><span class="n">间隔字符</span><span class="o">&gt;</span><span class="p">][</span><span class="n">文件</span><span class="o">...</span><span class="p">]</span>
</span></span></code></pre></div><p>‍</p>
<p>-d&lt;间隔字符&gt;或&ndash;delimiters=&lt;间隔字符&gt; 用指定的间隔字符取代跳格字符。</p>
<p>-s 或&ndash;serial 串列进行而非平行处理。</p>
<p>[文件…] 指定操作的文件路径</p>
<p>‍</p>
<h5 id="split">
    <a href="#split" class="header-anchor">#</a>
    split
</h5><p>文件切割</p>
<p>‍</p>
<p>该指令将大文件分割成较小的文件，在默认情况下将按照每 1000 行切割成一个小文件</p>
<p>‍</p>
<ul>
<li>-&lt;行数&gt; : 指定每多少行切成一个小文件</li>
<li>-b&lt;字节&gt; : 指定每多少字节切成一个小文件</li>
<li>-C&lt;字节&gt; : 与参数&rdquo;-b&quot;相似，但是在切 割时将尽量维持每行的完整性</li>
<li>[输出文件名] : 设置切割后文件的前置文件名， split 会自动在前置文件名后再加上编号</li>
</ul>
<p>‍</p>
<h5 id="xargs">
    <a href="#xargs" class="header-anchor">#</a>
    xargs
</h5><p>参数代换</p>
<p>‍</p>
<p>不是所有的命令都支持管道，如 ls，对于不支持管道的命令，可以通过 xargs 让其有管道命令的效果</p>
<p>xargs 用作替换工具，读取输入数据重新格式化后输出</p>
<p>‍</p>
<p>‍</p>
<h4 id="特殊-1">
    <a href="#%e7%89%b9%e6%ae%8a-1" class="header-anchor">#</a>
    特殊
</h4><p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="用户管理">
    <a href="#%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    用户管理
</h3><p>‍</p>
<p>用户管理包括用户与组账号的管理。</p>
<p>在 Unix/Linux 系统中，不论是由本机或是远程登录系统，每个系统都必须拥有一个账号，并且对于不同的系统资源拥有不同的使用权限。</p>
<p>Unix/Linux 系统中的 root 账号通常用于系统的维护和管理，它对 Unix/Linux 操作系统的所有部分具有不受限制的访问权限。</p>
<p>在 Unix/Linux 安装的过程中，系统会自动创建许多用户账号，而这些默认的用户就称为“标准用户”。<br>
在大多数版本的 Unix/Linux 中，都不推荐直接使用 root 账号登录系统。</p>
<p>‍</p>
<p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p>
<ul>
<li>用户账号的添加、删除与修改。</li>
<li>用户口令的管理。</li>
<li>用户组的管理。</li>
</ul>
<p>‍</p>
<h4 id="用户">
    <a href="#%e7%94%a8%e6%88%b7" class="header-anchor">#</a>
    用户
</h4><p>‍</p>
<h5 id="whoami">
    <a href="#whoami" class="header-anchor">#</a>
    whoami
</h5><p>查看当前用户</p>
<p>查看当前系统当前账号的用户名。可通过 cat /etc/passwd 查看系统用户信息</p>
<p>‍</p>
<h5 id="who">
    <a href="#who" class="header-anchor">#</a>
    who
</h5><p>查看登录用户</p>
<p>‍</p>
<p>who 命令用于查看当前所有登录系统的用户信息</p>
<p>‍</p>
<ul>
<li>-m 或 am I 只显示运行 who 命令的用户名、登录终端和登录时间</li>
<li>-q 或&ndash;count 只显示用户的登录账号和登录用户的数量</li>
<li>-u 在登录时间后显示该用户最后一次操作到当前的时间间隔</li>
<li>-u 或&ndash;heading 显示列标题</li>
</ul>
<p>‍</p>
<p>‍</p>
<h5 id="exit">
    <a href="#exit" class="header-anchor">#</a>
    exit
</h5><p>退出登录账户</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">如果是图形界面</span><span class="err">，</span><span class="n">退出当前终端</span><span class="err">；</span>
</span></span><span class="line"><span class="cl"><span class="n">如果是使用ssh远程登录</span><span class="err">，</span><span class="n">退出登陆账户</span><span class="err">；</span>
</span></span><span class="line"><span class="cl"><span class="n">如果是切换后的登陆用户</span><span class="err">，</span><span class="n">退出则返回上一个登陆账号</span><span class="err">。</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="useradd">
    <a href="#useradd" class="header-anchor">#</a>
    useradd
</h5><p>添加用户账号</p>
<p>‍</p>
<p>在 Unix/Linux 中添加用户账号可以使用 adduser 或 useradd 命令，因为 adduser 命令是指向 useradd 命令的一个链接，因此，这两个命令的使用格式完全一样。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">useradd</span> <span class="p">[</span><span class="n">参数</span><span class="p">]</span> <span class="n">新建用户账号</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-c comment 指定一段注释性描述。</li>
<li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m 选项，可以创建主目录。</li>
<li>-g 用户组 指定用户所属的用户组。</li>
<li>-G 用户组，用户组 指定用户所属的附加组。</li>
<li>-s Shell 文件 指定用户的登录 Shell。</li>
<li>-u 用户号 指定用户的用户号，如果同时有-o 选项，则可以重复使用其他用户的标识号。</li>
</ul>
<p>‍</p>
<p>相关说明：</p>
<p>Linux 每个用户都要有一个主目录，主目录就是第一次登陆系统，用户的默认当前目录(/home/用户)；</p>
<p>每一个用户必须有一个主目录，所以用 useradd 创建用户的时候，一定给用户指定一个主目录；</p>
<p>如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。</p>
<p>若创建用户时未指定家目录，后期可通过 usermod -d /home/abc abc 指定</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">useradd</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abc</span> <span class="n">abc</span> <span class="o">-</span><span class="n">m</span>
</span></span><span class="line"><span class="cl"><span class="n">创建abc用户</span><span class="err">，</span><span class="n">如果</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abc目录不存在</span><span class="err">，</span><span class="n">就自动创建这个目录</span><span class="err">，</span><span class="n">同时用户属于abc组</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">useradd</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">a</span> <span class="n">a</span> <span class="o">-</span><span class="n">g</span> <span class="n">test</span> <span class="o">-</span><span class="n">m</span>
</span></span><span class="line"><span class="cl"><span class="n">创建一个用户名字叫a</span><span class="err">，</span><span class="n">主目录在</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">a</span><span class="err">，</span><span class="n">如果主目录不存在</span><span class="err">，</span><span class="n">就自动创建主目录</span><span class="err">，</span><span class="n">同时用户属于test组</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</span></span><span class="line"><span class="cl"><span class="n">查看系统当前用户名</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">useradd</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">g</span> <span class="n">group</span> <span class="err">–</span><span class="n">G</span> <span class="n">adm</span><span class="p">,</span><span class="n">root</span> <span class="n">gem</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">此命令新建了一个用户gem</span><span class="err">，</span><span class="n">该用户的登录Shell是</span> <span class="err">`</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span><span class="err">`，</span><span class="n">它属于group用户组</span><span class="err">，</span><span class="n">同时又属于adm和root用户组</span><span class="err">，</span><span class="n">其中group用户组是其主组</span><span class="err">。</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">这里可能新建组</span><span class="err">：`</span><span class="c1">#groupadd group及groupadd adm`</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">增加用户账号就是在</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd文件中为新用户增加一条记录</span><span class="err">，</span><span class="n">同时更新其他系统文件如</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">shadow</span><span class="p">,</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">group等</span><span class="err">。</span>
</span></span></code></pre></div><p>Linux 提供了集成的系统管理工具 userconf，它可以用来对用户账号进行统一管理。</p>
<p>‍</p>
<p>‍</p>
<h5 id="usermod">
    <a href="#usermod" class="header-anchor">#</a>
    usermod
</h5><p>修改用户</p>
<p>‍</p>
<p>常用的选项包括 -c, -d, -m, -g, -G, -s, -u 以及-o 等 ，这些选项的意义与 useradd 命令中的选项一样，可以为用户指定新的资源值</p>
<p>‍</p>
<ul>
<li>usermod -g 用户组 用户名 修改用户所在组</li>
<li>usermod -d 家目录 用户名 改用户的家目录位置</li>
</ul>
<p>‍</p>
<p>另外，有些系统可以使用选项：-l 新用户名</p>
<p>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># usermod -s /bin/ksh -d /home/z –g developer sam
</span></span></code></pre></div><p>此命令将用户 sam 的登录 Shell 修改为 ksh，主目录改为/home/z，用户组改为 developer。</p>
<p>‍</p>
<h5 id="userdel">
    <a href="#userdel" class="header-anchor">#</a>
    userdel
</h5><p>删除用户: 将/etc/passwd 等系统文件中的该用户记录删除，必要时还删除用户的主目录。</p>
<p>删除 abc 用户，但不会自动删除用户的主目录</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">userdel</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="p">]</span>  <span class="n">用户名</span>
</span></span></code></pre></div><p>-r 用户名 删除用户，同时删除用户的主目录</p>
<p>‍</p>
<p>‍</p>
<h5 id="passwd">
    <a href="#passwd" class="header-anchor">#</a>
    passwd
</h5><p>设置用户密码</p>
<p>超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">passwd</span> <span class="p">[</span><span class="n">选项</span><span class="p">]</span> <span class="n">用户名</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-l 锁定口令，即禁用账号。</li>
<li>-u 口令解锁。</li>
<li>-d 使账号无口令。这样用户下一次就不再允许了</li>
<li>-f 强迫用户下次登录时修改口令。</li>
</ul>
<p>‍</p>
<p>普通用户修改自己的口令时，passwd 命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h5 id="su">
    <a href="#su" class="header-anchor">#</a>
    su
</h5><p>切换用户</p>
<p>‍</p>
<ul>
<li>su 切换到 root 用户</li>
<li>su root 切换到 root 用户</li>
<li>su - 切换到 root 用户，同时切换目录到/root</li>
<li>su - root 切换到 root 用户，同时切换目录到/root</li>
<li>su 普通用户 切换到普通用户</li>
<li>su - 普通用户 切换到普通用户，同时切换普通用户所在的目录</li>
</ul>
<p>‍</p>
<p>su 后面可以加“-”会将当前的工作目录自动转换到切换后的用户主目录</p>
<p>‍</p>
<p>‍</p>
<h5 id="sudo">
    <a href="#sudo" class="header-anchor">#</a>
    sudo
</h5><p>以 root 身份执行指令</p>
<p>sudo 命令可以临时获取 root 权限<br>
使用权限：在 /etc/sudoers 中有出现的使用者</p>
<p>‍</p>
<p>sudoers 文件配置语法</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">user</span>  <span class="n">MACHINE</span><span class="o">=</span><span class="n">COMMANDS</span>
</span></span><span class="line"><span class="cl"><span class="n">用户</span> <span class="n">登录的主机</span><span class="o">=</span><span class="err">（</span><span class="n">可以变换的身份</span><span class="err">）</span> <span class="n">可以执行的命令</span>
</span></span></code></pre></div><p>‍</p>
<h4 id="组管理">
    <a href="#%e7%bb%84%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    组管理
</h4><p>‍</p>
<h5 id="groupadd">
    <a href="#groupadd" class="header-anchor">#</a>
    groupadd
</h5><p>添加、删除组账号</p>
<p>‍</p>
<p>cat /etc/group 查看用户组</p>
<p>‍</p>
<h5 id="groupmod">
    <a href="#groupmod" class="header-anchor">#</a>
    groupmod
</h5><p>修改用户组的属性</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">groupmod</span> <span class="p">[</span><span class="n">选项</span><span class="p">]</span> <span class="n">用户组</span>
</span></span></code></pre></div><p>‍</p>
<p>-g GID 为用户组指定新的组标识号。</p>
<p>-o 与-g 选项同时使用，用户组的新 GID 可以与系统已有用户组的 GID 相同。</p>
<p>-n 新用户组 将用户组的名字改为新名字</p>
<p>‍</p>
<p>示例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">将组group2的组标识号修改为102</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">groupmod</span> <span class="o">-</span><span class="n">g</span> <span class="mi">102</span> <span class="n">group2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">将组group2的标识号改为10000</span><span class="err">，</span><span class="n">组名修改为group3</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">groupmod</span> <span class="err">–</span><span class="n">g</span> <span class="mi">10000</span> <span class="o">-</span><span class="n">n</span> <span class="n">group3</span> <span class="n">group2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">此命令向系统中增加了一个新组group1</span><span class="err">，</span><span class="n">新组的组标识号是在当前已有的最大组标识号的基础上加1</span><span class="err">。</span>
</span></span><span class="line"><span class="cl"><span class="n">groupadd</span> <span class="n">group1</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="newgrp">
    <a href="#newgrp" class="header-anchor">#</a>
    newgrp
</h5><p>‍</p>
<p>如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。</p>
<p>用户可以在登录后，使用命令 newgrp 切换到其他用户组，这个命令的参数就是目的用户组</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">newgrp</span> <span class="n">root</span>
</span></span></code></pre></div><p>这条命令将当前用户切换到 root 用户组，前提条件是 root 用户组确实是该用户的主组或附加组。类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成</p>
<p>‍</p>
<p>‍</p>
<h5 id="groupdel">
    <a href="#groupdel" class="header-anchor">#</a>
    groupdel
</h5><p>删除一个已有的用户组</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">groupdel 用户组
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h3 id="系统管理">
    <a href="#%e7%b3%bb%e7%bb%9f%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    系统管理
</h3><p>‍</p>
<h4 id="日期">
    <a href="#%e6%97%a5%e6%9c%9f" class="header-anchor">#</a>
    日期
</h4><p>‍</p>
<h5 id="cal">
    <a href="#cal" class="header-anchor">#</a>
    cal
</h5><p>查看当前日历</p>
<p>-y 显示整年日历</p>
<p>‍</p>
<h5 id="date">
    <a href="#date" class="header-anchor">#</a>
    date
</h5><p>显示或设置时间</p>
<p>设置时间格式（需要管理员权限）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">date</span> <span class="p">[</span><span class="n">MMDDhhmm</span><span class="p">[[</span><span class="n">CC</span><span class="p">]</span><span class="n">YY</span><span class="p">][</span><span class="o">.</span><span class="n">ss</span><span class="p">]]</span> <span class="o">+</span><span class="nb">format</span>
</span></span></code></pre></div><p>MM 为月，DD 为天，hh 为小时，mm 为分钟；CC 为年前两位，YY 为年的后两位，ss 为秒</p>
<p>显示时间格式（date &lsquo;+%y,%m,%d,%H,%M,%S&rsquo;）</p>
<p>‍</p>
<p>‍</p>
<h4 id="进程">
    <a href="#%e8%bf%9b%e7%a8%8b" class="header-anchor">#</a>
    进程
</h4><p>‍</p>
<h5 id="ps">
    <a href="#ps" class="header-anchor">#</a>
    ps
</h5><p>查看进程信息</p>
<ul>
<li>-a 显示终端上的所有进程，包括其他用户的进程</li>
<li>-u 显示进程的详细状态</li>
<li>-x 显示没有控制终端的进程</li>
<li>-w 显示加宽，以便显示更多的信息</li>
<li>-r 只显示正在运行的进程</li>
</ul>
<p>‍</p>
<p>常见用法</p>
<ul>
<li>ps -e 查看所有进程信息（瞬时的）</li>
<li>ps -u root -N 查看所有不是 root 运行的进程</li>
<li>ps ax 显示所有进程状态状态</li>
<li>ps -ef |grep xxx 显示含有 xxx 的进程</li>
</ul>
<p>‍</p>
<p>更多命令选项</p>
<ul>
<li>ps a 显示现行终端机下的所有程序，包括其他用户的程序。</li>
<li>ps -A 显示所有程序。</li>
<li>ps c 列出程序时，显示每个程序真正的指令名称，而不包含路 径，参数或常驻服务的标示。</li>
<li>ps -e 此参数的效果和指定&quot;A&quot;参数相同。</li>
<li>ps e 列出程序时，显示每个程序所使用的环境变量。</li>
<li>ps f 用 ASCII 字符显示树状结构，表达程序间的相互关系。</li>
<li>ps -H 显示树状结构，表示程序间的相互关系。</li>
<li>ps -N 显示所有的程序，除了执行 ps 指令终端机下的程序之外。</li>
<li>ps s 采用程序信号的格式显示程序状况。</li>
<li>ps u 以用户为主的格式来显示程序状况。</li>
<li>ps x 显示所有程序，不以终端机来区分。</li>
</ul>
<p>‍</p>
<p><strong>pstree</strong></p>
<p>以树状图显示进程关系</p>
<p>‍</p>
<p>特别表明在运行的进程：</p>
<p>pstree -apnh //显示进程间的关系</p>
<p>‍</p>
<p>同时显示用户名称：</p>
<p>pstree -u //显示用户名称</p>
<p>‍</p>
<h5 id="top">
    <a href="#top" class="header-anchor">#</a>
    top
</h5><p>动态显示进程</p>
<p>能够在运行后，在指定的时间间隔更新显示信息。-d 参数可以指定显示信息更新的时间间隔</p>
<p>‍</p>
<p>在 top 命令执行后，可以按下按键得到对显示的结果进行排序</p>
<p>‍</p>
<ul>
<li>M 根据内存使用量来排序</li>
<li>P 根据 CPU 占有率来排序</li>
<li>T 根据进程运行时间的长短来排序</li>
<li>U 可以根据后面输入的用户名来筛选进程</li>
<li>K 可以根据后面输入的 PID 来杀死进程。</li>
<li>q 退出</li>
<li>h 获得帮助</li>
</ul>
<p>更高级的命令是 htop，但需要安装</p>
<p>‍</p>
<h5 id="kill">
    <a href="#kill" class="header-anchor">#</a>
    kill
</h5><p>终止进程</p>
<p>指定进程号的进程，需要配合 ps 使用</p>
<p>信号值从 0 到 15，其中 9 为绝对终止，可以处理一般信号无法终止的进程</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">kill</span> <span class="p">[</span><span class="o">-</span><span class="n">signal</span><span class="p">]</span> <span class="n">pid</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h4 id="电源">
    <a href="#%e7%94%b5%e6%ba%90" class="header-anchor">#</a>
    电源
</h4><p>‍</p>
<h5 id="rebootshutdowninit">
    <a href="#rebootshutdowninit" class="header-anchor">#</a>
    reboot,<strong>shutdown,init</strong>
</h5><p>‍</p>
<ul>
<li>
<p>reboot 重新启动操作系统</p>
</li>
<li>
<p>shutdown –r now 重新启动操作系统，shutdown 会给别的用户提示</p>
</li>
<li>
<p>shutdown -h now 立刻关机，其中 now 相当于时间为 0 的状态</p>
</li>
<li>
<p>shutdown -h XXX 系统在今天的 XXX 会关机</p>
</li>
<li>
<p>shutdown -h +10 系统再过十分钟后自动关机</p>
</li>
<li>
<p>init 0 关机</p>
</li>
<li>
<p>init 6 重启</p>
</li>
</ul>
<p>‍</p>
<h4 id="环境-1">
    <a href="#%e7%8e%af%e5%a2%83-1" class="header-anchor">#</a>
    环境
</h4><p>‍</p>
<h5 id="which">
    <a href="#which" class="header-anchor">#</a>
    which
</h5><p>查找$PATH 中设置命令及安装文件目录所在位置</p>
<p>‍</p>
<h5 id="export">
    <a href="#export" class="header-anchor">#</a>
    export
</h5><p>设置或显示环境变量</p>
<p>在 shell 中执行程序时，shell 会提供一组环境变量。export 可新增，修改或删除环境变量，供后续执行的程序使用。<br>
export 的效力仅限于该次登陆操作</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">export</span> <span class="p">[</span><span class="o">-</span><span class="n">fnp</span><span class="p">][</span><span class="n">变量名称</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">变量设置值</span><span class="p">]</span>
</span></span></code></pre></div><ul>
<li>-f 代表[变量名称]中为函数名称。</li>
<li>-n 删除指定的变量。变量实际上并未删除，只是不会输出到后续指令的执行环境中。</li>
<li>-p 列出所有的 shell 赋予程序的环境变量。</li>
</ul>
<p>‍</p>
<h3 id="磁盘管理">
    <a href="#%e7%a3%81%e7%9b%98%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    磁盘管理
</h3><p>‍</p>
<p>Linux 磁盘管理常用三个命令为 <strong>df</strong>、<strong>du</strong> 和 <strong>fdisk</strong></p>
<ul>
<li><strong>df</strong>（英文全称：disk free）：列出文件系统的整体磁盘使用量</li>
<li><strong>du</strong>（英文全称：disk used）：检查磁盘空间使用量</li>
<li><strong>fdisk</strong>：用于磁盘分区</li>
</ul>
<p>‍</p>
<h4 id="空间查看">
    <a href="#%e7%a9%ba%e9%97%b4%e6%9f%a5%e7%9c%8b" class="header-anchor">#</a>
    空间查看
</h4><p>‍</p>
<h5 id="df">
    <a href="#df" class="header-anchor">#</a>
    df
</h5><p>检测磁盘空间, 可以显示所有文件系统对节点和磁盘块的使用情况</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span> <span class="p">[</span><span class="o">-</span><span class="n">ahikHTm</span><span class="p">]</span> <span class="p">[</span><span class="n">目录或文件名</span><span class="p">]</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-a 列出所有的文件系统，包括系统特有的 /proc 等文件系统；</li>
<li>-k 以 KBytes 的容量显示各文件系统；</li>
<li>-m 以 MBytes 的容量显示各文件系统；</li>
<li>-h 以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li>
<li>-H 以 M=1000K 取代 M=1024K 的进位方式；</li>
<li>-T 显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li>
<li>-i 不用硬盘容量，而以 inode 的数量来显示</li>
</ul>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>将系统内所有的文件系统列出来！</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# df
</span></span><span class="line"><span class="cl">Filesystem      1K-blocks      Used Available Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/hdc2         9920624   3823112   5585444  41% /
</span></span><span class="line"><span class="cl">/dev/hdc3         4956316    141376   4559108   4% /home
</span></span><span class="line"><span class="cl">/dev/hdc1          101086     11126     84741  12% /boot
</span></span><span class="line"><span class="cl">tmpfs              371332         0    371332   0% /dev/shm
</span></span></code></pre></div><p>在 Linux 底下如果 df 没有加任何选项，那么默认会将系统内所有的 (不含特殊内存内的文件系统与 swap) 都以 1 Kbytes 的容量来列出来！</p>
<p>‍</p>
<p><strong>实例 2</strong></p>
<p>将容量结果以易读的容量格式显示出来</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# df -h
</span></span><span class="line"><span class="cl">Filesystem            Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/hdc2             9.5G  3.7G  5.4G  41% /
</span></span><span class="line"><span class="cl">/dev/hdc3             4.8G  139M  4.4G   4% /home
</span></span><span class="line"><span class="cl">/dev/hdc1              99M   11M   83M  12% /boot
</span></span><span class="line"><span class="cl">tmpfs                 363M     0  363M   0% /dev/shm
</span></span></code></pre></div><p>‍</p>
<p><strong>实例 3</strong></p>
<p>将系统内的所有特殊文件格式及名称都列出来</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="c1"># df -aT</span>
</span></span><span class="line"><span class="cl"><span class="n">Filesystem</span>    <span class="n">Type</span> <span class="mi">1</span><span class="n">K</span><span class="o">-</span><span class="n">blocks</span>    <span class="n">Used</span> <span class="n">Available</span> <span class="n">Use</span><span class="o">%</span> <span class="n">Mounted</span> <span class="n">on</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hdc2</span>     <span class="n">ext3</span>   <span class="mi">9920624</span> <span class="mi">3823112</span>   <span class="mi">5585444</span>  <span class="mi">41</span><span class="o">%</span> <span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="n">proc</span>          <span class="n">proc</span>         <span class="mi">0</span>       <span class="mi">0</span>         <span class="mi">0</span>   <span class="o">-</span>  <span class="o">/</span><span class="n">proc</span>
</span></span><span class="line"><span class="cl"><span class="n">sysfs</span>        <span class="n">sysfs</span>         <span class="mi">0</span>       <span class="mi">0</span>         <span class="mi">0</span>   <span class="o">-</span>  <span class="o">/</span><span class="n">sys</span>
</span></span><span class="line"><span class="cl"><span class="n">devpts</span>      <span class="n">devpts</span>         <span class="mi">0</span>       <span class="mi">0</span>         <span class="mi">0</span>   <span class="o">-</span>  <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pts</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hdc3</span>     <span class="n">ext3</span>   <span class="mi">4956316</span>  <span class="mi">141376</span>   <span class="mi">4559108</span>   <span class="mi">4</span><span class="o">%</span> <span class="o">/</span><span class="n">home</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hdc1</span>     <span class="n">ext3</span>    <span class="mi">101086</span>   <span class="mi">11126</span>     <span class="mi">84741</span>  <span class="mi">12</span><span class="o">%</span> <span class="o">/</span><span class="n">boot</span>
</span></span><span class="line"><span class="cl"><span class="n">tmpfs</span>        <span class="n">tmpfs</span>    <span class="mi">371332</span>       <span class="mi">0</span>    <span class="mi">371332</span>   <span class="mi">0</span><span class="o">%</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">shm</span>
</span></span><span class="line"><span class="cl"><span class="n">none</span>   <span class="n">binfmt_misc</span>         <span class="mi">0</span>       <span class="mi">0</span>         <span class="mi">0</span>   <span class="o">-</span>  <span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">fs</span><span class="o">/</span><span class="n">binfmt_misc</span>
</span></span><span class="line"><span class="cl"><span class="n">sunrpc</span>  <span class="n">rpc_pipefs</span>         <span class="mi">0</span>       <span class="mi">0</span>         <span class="mi">0</span>   <span class="o">-</span>  <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">nfs</span><span class="o">/</span><span class="n">rpc_pipefs</span>
</span></span></code></pre></div><p>‍</p>
<p><strong>实例 4</strong></p>
<p>将 /etc 底下的可用的磁盘容量以易读的容量格式显示</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# df -h /etc
</span></span><span class="line"><span class="cl">Filesystem            Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/hdc2             9.5G  3.7G  5.4G  41% /
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p>‍</p>
<h5 id="du">
    <a href="#du" class="header-anchor">#</a>
    <strong>du</strong>
</h5><p>检测目录所占磁盘空间</p>
<p>统计目录或文件所占磁盘空间的大小，该命令的执行结果与 df 类似，du 更侧重于磁盘的使用状况</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">du</span> <span class="p">[</span><span class="o">-</span><span class="n">ahskm</span><span class="p">]</span> <span class="n">目录或文件名</span>
</span></span></code></pre></div><p>‍</p>
<p>du 没有加任何选项时，只列出当前目录下的所有文件夹容量（包括隐藏文件夹）</p>
<ul>
<li>-a 列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</li>
<li>-h 以人们较易读的容量格式 (G/M) 显示；</li>
<li>-s 列出总量而已，而不列出每个各别的目录占用容量；</li>
<li>-S 不包括子目录下的总计，与 -s 有点差别。</li>
<li>-k 以 KBytes 列出容量显示；</li>
<li>-m 以 MBytes 列出容量显示；</li>
</ul>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>只列出当前目录下的所有文件夹容量（包括隐藏文件夹）:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# du
</span></span><span class="line"><span class="cl">8       ./test4     &lt;==每个目录都会列出来
</span></span><span class="line"><span class="cl">8       ./test2
</span></span><span class="line"><span class="cl">....中间省略....
</span></span><span class="line"><span class="cl">12      ./.gconfd   &lt;==包括隐藏文件的目录
</span></span><span class="line"><span class="cl">220     .           &lt;==这个目录(.)所占用的总量
</span></span></code></pre></div><p>直接输入 du 没有加任何选项时，则 du 会分析当前所在目录里的子目录所占用的硬盘空间。</p>
<p>‍</p>
<p>‍</p>
<p><strong>实例 2</strong></p>
<p>将文件的容量也列出来</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# du -a
</span></span><span class="line"><span class="cl">12      ./install.log.syslog   &lt;==有文件的列表了
</span></span><span class="line"><span class="cl">8       ./.bash_logout
</span></span><span class="line"><span class="cl">8       ./test4
</span></span><span class="line"><span class="cl">8       ./test2
</span></span><span class="line"><span class="cl">....中间省略....
</span></span><span class="line"><span class="cl">12      ./.gconfd
</span></span><span class="line"><span class="cl">220     .
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p><strong>实例 3</strong></p>
<p>检查根目录底下每个目录所占用的容量</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="c1"># du -sm /*</span>
</span></span><span class="line"><span class="cl"><span class="mi">7</span>       <span class="o">/</span><span class="n">bin</span>
</span></span><span class="line"><span class="cl"><span class="mi">6</span>       <span class="o">/</span><span class="n">boot</span>
</span></span><span class="line"><span class="cl"><span class="o">.....</span><span class="err">中间省略</span><span class="o">....</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span>       <span class="o">/</span><span class="n">proc</span>
</span></span><span class="line"><span class="cl"><span class="o">.....</span><span class="err">中间省略</span><span class="o">....</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>       <span class="o">/</span><span class="n">tmp</span>
</span></span><span class="line"><span class="cl"><span class="mi">3859</span>    <span class="o">/</span><span class="n">usr</span>     <span class="o">&lt;==</span><span class="err">系统初期最大就是他了啦！</span>
</span></span><span class="line"><span class="cl"><span class="mi">77</span>      <span class="o">/</span><span class="k">var</span>
</span></span></code></pre></div><p>通配符 * 来代表每个目录。</p>
<p>与 df 不一样的是，du 这个命令其实会直接到文件系统内去搜寻所有的文件数据。</p>
<p>‍</p>
<p>‍</p>
<h4 id="分区">
    <a href="#%e5%88%86%e5%8c%ba" class="header-anchor">#</a>
    分区
</h4><h5 id="fdisk">
    <a href="#fdisk" class="header-anchor">#</a>
    fdisk
</h5><p>‍</p>
<p>磁盘分区表操作工具</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">fdisk</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="p">]</span> <span class="n">装置名称</span>
</span></span></code></pre></div><p>‍</p>
<p>-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来</p>
<p>‍</p>
<p>离开 fdisk 时按下 q ，那么所有的动作都不会生效！相反的， 按下 w 就是动作生效的意思</p>
<p>使用 p 可以列出目前这颗磁盘的分割表信息，这个信息的上半部在显示整体磁盘的状态</p>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>列出所有分区信息 fdisk -l</p>
<p>‍</p>
<p>‍</p>
<p><strong>实例 2</strong></p>
<p>找出你系统中的根目录所在磁盘，并查阅该硬盘内的相关信息</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# df /            &lt;==注意：重点在找出磁盘文件名而已
</span></span><span class="line"><span class="cl">Filesystem           1K-blocks      Used Available Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/hdc2              9920624   3823168   5585388  41% /
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[root@www ~]# fdisk /dev/hdc  &lt;==仔细看，不要加上数字喔！
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command (m for help):     &lt;==等待你的输入！
</span></span></code></pre></div><p>‍</p>
<p>输入 m 后，就会看到底下这些命令介绍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Command (m for help): m   &lt;== 输入 m 后，就会看到底下这些命令介绍
</span></span><span class="line"><span class="cl">Command action
</span></span><span class="line"><span class="cl">   a   toggle a bootable flag
</span></span><span class="line"><span class="cl">   b   edit bsd disklabel
</span></span><span class="line"><span class="cl">   c   toggle the dos compatibility flag
</span></span><span class="line"><span class="cl">   d   delete a partition            &lt;==删除一个partition
</span></span><span class="line"><span class="cl">   l   list known partition types
</span></span><span class="line"><span class="cl">   m   print this menu
</span></span><span class="line"><span class="cl">   n   add a new partition           &lt;==新增一个partition
</span></span><span class="line"><span class="cl">   o   create a new empty DOS partition table
</span></span><span class="line"><span class="cl">   p   print the partition table     &lt;==在屏幕上显示分割表
</span></span><span class="line"><span class="cl">   q   quit without saving changes   &lt;==不储存离开fdisk程序
</span></span><span class="line"><span class="cl">   s   create a new empty Sun disklabel
</span></span><span class="line"><span class="cl">   t   change a partition&#39;s system id
</span></span><span class="line"><span class="cl">   u   change display/entry units
</span></span><span class="line"><span class="cl">   v   verify the partition table
</span></span><span class="line"><span class="cl">   w   write table to disk and exit  &lt;==将刚刚的动作写入分割表
</span></span><span class="line"><span class="cl">   x   extra functionality (experts only)
</span></span></code></pre></div><p>‍</p>
<h4 id="维护">
    <a href="#%e7%bb%b4%e6%8a%a4" class="header-anchor">#</a>
    维护
</h4><h5 id="mkfs">
    <a href="#mkfs" class="header-anchor">#</a>
    mkfs
</h5><p>磁盘格式化（make filesystem）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">mkfs</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="n">文件系统格式</span><span class="p">]</span> <span class="n">装置文件名</span>
</span></span></code></pre></div><p>-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)</p>
<p>查看 mkfs 支持的文件格式：mkfs [tab]</p>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>查看 mkfs 支持的文件格式</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# mkfs[tab][tab]
</span></span><span class="line"><span class="cl">mkfs         mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.msdos   mkfs.vfat
</span></span></code></pre></div><p>按下两个[tab]，会发现 mkfs 支持的文件格式如上所示。</p>
<p>‍</p>
<p><strong>实例 2</strong></p>
<p>将分区 /dev/hdc6（可指定你自己的分区） 格式化为 ext3 文件系统：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# mkfs -t ext3 /dev/hdc6
</span></span><span class="line"><span class="cl">mke2fs 1.39 (29-May-2006)
</span></span><span class="line"><span class="cl">Filesystem label=                &lt;==这里指的是分割槽的名称(label)
</span></span><span class="line"><span class="cl">OS type: Linux
</span></span><span class="line"><span class="cl">Block size=4096 (log=2)          &lt;==block 的大小配置为 4K
</span></span><span class="line"><span class="cl">Fragment size=4096 (log=2)
</span></span><span class="line"><span class="cl">251392 inodes, 502023 blocks     &lt;==由此配置决定的inode/block数量
</span></span><span class="line"><span class="cl">25101 blocks (5.00%) reserved for the super user
</span></span><span class="line"><span class="cl">First data block=0
</span></span><span class="line"><span class="cl">Maximum filesystem blocks=515899392
</span></span><span class="line"><span class="cl">16 block groups
</span></span><span class="line"><span class="cl">32768 blocks per group, 32768 fragments per group
</span></span><span class="line"><span class="cl">15712 inodes per group
</span></span><span class="line"><span class="cl">Superblock backups stored on blocks:
</span></span><span class="line"><span class="cl">        32768, 98304, 163840, 229376, 294912
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Writing inode tables: done
</span></span><span class="line"><span class="cl">Creating journal (8192 blocks): done &lt;==有日志记录
</span></span><span class="line"><span class="cl">Writing superblocks and filesystem accounting information: done
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">This filesystem will be automatically checked every 34 mounts or
</span></span><span class="line"><span class="cl">180 days, whichever comes first.  Use tune2fs -c or -i to override.
</span></span><span class="line"><span class="cl"># 这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="fsck">
    <a href="#fsck" class="header-anchor">#</a>
    fsck
</h5><p>磁盘检验</p>
<p>‍</p>
<p>file system check 用来检查和维护不一致的文件系统</p>
<p>若系统掉电或磁盘发生问题，可利用 fsck 命令对文件系统进行检查。</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fsck [-t 文件系统] [-ACay] 装置名称
</span></span></code></pre></div><p>选项与参数：</p>
<ul>
<li>-t : 给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</li>
<li>-s : 依序一个一个地执行 fsck 的指令来检查</li>
<li>-A : 对/etc/fstab 中所有列出来的 分区（partition）做检查</li>
<li>-C : 显示完整的检查进度</li>
<li>-d : 打印出 e2fsck 的 debug 结果</li>
<li>-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</li>
<li>-R : 同时有 -A 条件时，省略 / 不检查</li>
<li>-V : 详细显示模式</li>
<li>-a : 如果检查有错则自动修复</li>
<li>-r : 如果检查有错则由使用者回答是否修复</li>
<li>-y : 选项指定检测每个文件是自动输入 yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</li>
</ul>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>查看系统有多少文件系统支持的 fsck 命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# fsck[tab][tab]
</span></span><span class="line"><span class="cl">fsck         fsck.cramfs  fsck.ext2    fsck.ext3    fsck.msdos   fsck.vfat
</span></span></code></pre></div><p>‍</p>
<p><strong>实例 2</strong></p>
<p>强制检测 /dev/hdc6 分区:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# fsck -C -f -t ext3 /dev/hdc6
</span></span><span class="line"><span class="cl">fsck 1.39 (29-May-2006)
</span></span><span class="line"><span class="cl">e2fsck 1.39 (29-May-2006)
</span></span><span class="line"><span class="cl">Pass 1: Checking inodes, blocks, and sizes
</span></span><span class="line"><span class="cl">Pass 2: Checking directory structure
</span></span><span class="line"><span class="cl">Pass 3: Checking directory connectivity
</span></span><span class="line"><span class="cl">Pass 4: Checking reference counts
</span></span><span class="line"><span class="cl">Pass 5: Checking group summary information
</span></span><span class="line"><span class="cl">vbird_logical: 11/251968 files (9.1% non-contiguous), 36926/1004046 blocks
</span></span></code></pre></div><p>如果没有加上 -f 的选项，则由于这个文件系统不曾出现问题，检查的经过非常快速！若加上 -f 强制检查，才会一项一项的显示过程。</p>
<p>‍</p>
<h5 id="mount">
    <a href="#mount" class="header-anchor">#</a>
    mount
</h5><p>磁盘挂载与卸除 umount</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">mount</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="n">文件系统</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">L</span> <span class="n">Label名</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">额外选项</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span>  <span class="n">装置文件名</span>  <span class="n">挂载点</span>
</span></span></code></pre></div><p>-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下<br>
-n ：不升级 /etc/mtab 情况下卸除</p>
<p>‍</p>
<p><strong>实例 1</strong></p>
<p>用默认的方式，将刚刚创建的 /dev/hdc6 挂载到 /mnt/hdc6 上面！</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# mkdir /mnt/hdc6
</span></span><span class="line"><span class="cl">[root@www ~]# mount /dev/hdc6 /mnt/hdc6
</span></span><span class="line"><span class="cl">[root@www ~]# df
</span></span><span class="line"><span class="cl">Filesystem           1K-blocks      Used Available Use% Mounted on
</span></span><span class="line"><span class="cl">.....中间省略.....
</span></span><span class="line"><span class="cl">/dev/hdc6              1976312     42072   1833836   3% /mnt/hdc6
</span></span></code></pre></div><p>‍</p>
<p>磁盘卸载命令 <code>umount</code>​ 语法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">umount [-fn] 装置文件名或挂载点
</span></span></code></pre></div><p>选项与参数：</p>
<ul>
<li>-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</li>
<li>-n ：不升级 /etc/mtab 情况下卸除。</li>
</ul>
<p>卸载/dev/hdc6</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[root@www ~]# umount /dev/hdc6
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h3 id="多机交互">
    <a href="#%e5%a4%9a%e6%9c%ba%e4%ba%a4%e4%ba%92" class="header-anchor">#</a>
    多机交互
</h3><p>‍</p>
<p>‍</p>
<h4 id="防火墙">
    <a href="#%e9%98%b2%e7%81%ab%e5%a2%99" class="header-anchor">#</a>
    防火墙
</h4><p>‍</p>
<h5 id="firewall">
    <a href="#firewall" class="header-anchor">#</a>
    firewall
</h5><p>firewall-cmd 是 Linux 中专门用于控制防火墙的命令</p>
<p>‍</p>
<p>开放指定 8080+80+3306+端口</p>
<ul>
<li>firewall-cmd &ndash;zone=public &ndash;add-port=6379/tcp &ndash;permanent</li>
</ul>
<p>关闭指定端口</p>
<ul>
<li>firewall-cmd &ndash;zone=public &ndash;remove-port=8080/tcp &ndash;permanent</li>
</ul>
<p>立即生效</p>
<ul>
<li>firewall-cmd &ndash;reload</li>
</ul>
<p>查看开放的端口</p>
<ul>
<li>firewall-cmd &ndash;zone=public &ndash;list-ports</li>
</ul>
<p>‍</p>
<h5 id="systemctl">
    <a href="#systemctl" class="header-anchor">#</a>
    systemctl
</h5><p>systemctl 是管理 Linux 中服务的命令，可以对服务进行启动、停止、重启、查看状态等操作</p>
<p>‍</p>
<p>查看防火墙状态</p>
<ul>
<li>systemctl status firewalld、 firewall-cmd &ndash;state</li>
</ul>
<p>暂时关闭防火墙</p>
<ul>
<li>systemctl stop firewalld</li>
</ul>
<p>永久关闭防火墙</p>
<ul>
<li>systemctl disable firewalld</li>
</ul>
<p>开启防火墙</p>
<ul>
<li>systemctl start firewalld</li>
</ul>
<p>‍</p>
<p>‍</p>
<h4 id="网络">
    <a href="#%e7%bd%91%e7%bb%9c" class="header-anchor">#</a>
    网络
</h4><p>‍</p>
<h5 id="netstat">
    <a href="#netstat" class="header-anchor">#</a>
    netstat
</h5><p>查看网络状态</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">netstat</span> <span class="p">[</span><span class="o">-</span><span class="n">acCeFghilMnNoprstuvVwx</span><span class="p">][</span><span class="o">-</span><span class="n">A</span><span class="o">&lt;</span><span class="n">网络类型</span><span class="o">&gt;</span><span class="p">][</span><span class="o">--</span><span class="n">ip</span><span class="p">]</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>-a 或&ndash;all 显示所有连线中的 Socket。</li>
<li>-A&lt;网络类型&gt;或&ndash;&lt;网络类型&gt; 列出该网络类型连线中的相关地址。</li>
<li>-c 或&ndash;continuous 持续列出网络状态。</li>
<li>-C 或&ndash;cache 显示路由器配置的快取信息。</li>
<li>-e 或&ndash;extend 显示网络其他相关信息。</li>
<li>-F 或&ndash;fib 显示 FIB。</li>
<li>-g 或&ndash;groups 显示多重广播功能群组组员名单。</li>
<li>-h 或&ndash;help 在线帮助。</li>
<li>-i 或&ndash;interfaces 显示网络界面信息表单。</li>
<li>-l 或&ndash;listening 显示监控中的服务器的 Socket。</li>
<li>-M 或&ndash;masquerade 显示伪装的网络连线。</li>
<li>-n 或&ndash;numeric 直接使用 IP 地址，而不通过域名服务器。</li>
<li>-N 或&ndash;netlink 或&ndash;symbolic 显示网络硬件外围设备的符号连接名称。</li>
<li>-o 或&ndash;timers 显示计时器。</li>
<li>-p 或&ndash;programs 显示正在使用 Socket 的程序识别码和程序名称。</li>
<li>-r 或&ndash;route 显示 Routing Table。</li>
<li>-s 或&ndash;statistice 显示网络工作信息统计表。</li>
<li>-t 或&ndash;tcp 显示 TCP 传输协议的连线状况。</li>
<li>-u 或&ndash;udp 显示 UDP 传输协议的连线状况。</li>
<li>-v 或&ndash;verbose 显示指令执行过程。</li>
<li>-V 或&ndash;version 显示版本信息。</li>
<li>-w 或&ndash;raw 显示 RAW 传输协议的连线状况。</li>
<li>-x 或&ndash;unix 此参数的效果和指定&rdquo;-A unix&quot;参数相同。</li>
<li>&ndash;ip 或&ndash;inet 此参数的效果和指定&rdquo;-A inet&quot;参数相同。</li>
</ul>
<p>‍</p>
<p>‍</p>
<h5 id="ifconfig">
    <a href="#ifconfig" class="header-anchor">#</a>
    ifconfig
</h5><p>查看或配置网卡信息</p>
<p>‍</p>
<p>‍</p>
<h5 id="ping">
    <a href="#ping" class="header-anchor">#</a>
    ping
</h5><p>测试远程主机/网络连通性</p>
<p>‍</p>
<h5 id="hostname">
    <a href="#hostname" class="header-anchor">#</a>
    hostname
</h5><p>修改主机名&amp;ip 地址</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">显示主机名</span><span class="err">：</span><span class="n">hostname</span>
</span></span><span class="line"><span class="cl"><span class="n">临时修改</span><span class="err">：</span><span class="n">hostname</span> <span class="n">xxx</span>
</span></span><span class="line"><span class="cl"><span class="n">永久修改</span><span class="p">:</span> <span class="n">对于centos系统</span> <span class="n">vim</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">network</span>
</span></span></code></pre></div><p>修改 IP 地址<br>
ifconfig eth0 192.168.12.22(重启后无效)</p>
<p>‍</p>
<p>‍</p>
<h4 id="远程连接">
    <a href="#%e8%bf%9c%e7%a8%8b%e8%bf%9e%e6%8e%a5" class="header-anchor">#</a>
    远程连接
</h4><p>‍</p>
<p>‍</p>
<h5 id="ssh">
    <a href="#ssh" class="header-anchor">#</a>
    ssh
</h5><p>远程免密登陆</p>
<p>假如 A 要登陆 B, 在 A 上操作：</p>
<p>首先生成密钥对, 再将 A 自己的公钥拷贝并追加到 B 的授权列表文件 authorized_keys 中</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="p">(</span><span class="n">提示时</span><span class="err">，</span><span class="n">直接回车即可</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="nb">id</span> <span class="n">B</span>
</span></span></code></pre></div><p>‍</p>
<h5 id="scp">
    <a href="#scp" class="header-anchor">#</a>
    scp
</h5><p>远程文件复制</p>
<p>‍</p>
<p>用于 Linux 之间复制文件和目录，scp 是 secure copy 的缩写是 linux 系统下基于 ssh 登陆进行安全的远程文件<br>
拷贝命令</p>
<p>scp 是加密的，rcp 是不加密的，scp 是 rcp 的加强版。</p>
<p>使用 scp 命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则 scp 命令是无法起作用的。</p>
<p>‍</p>
<p>-P 参数来设置命令的端口号：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#scp 命令使用端口号 4588</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="o">-</span><span class="n">P</span> <span class="mi">4588</span> <span class="n">remote</span><span class="nd">@xiaoxiaoming.xyz</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">sin</span><span class="o">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">administrator</span>
</span></span></code></pre></div><p>‍</p>
<p>从本地复制到远程命令格式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">复制文件</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_username</span><span class="nd">@remote_ip</span><span class="p">:</span><span class="n">remote_folder</span>
</span></span><span class="line"><span class="cl"><span class="n">或者</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_username</span><span class="nd">@remote_ip</span><span class="p">:</span><span class="n">remote_file</span>
</span></span><span class="line"><span class="cl"><span class="n">或者</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_ip</span><span class="p">:</span><span class="n">remote_folder</span>
</span></span><span class="line"><span class="cl"><span class="n">或者</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_ip</span><span class="p">:</span><span class="n">remote_file</span>
</span></span><span class="line"><span class="cl"><span class="n">复制文件夹</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="n">local_folder</span> <span class="n">remote_username</span><span class="nd">@remote_ip</span><span class="p">:</span><span class="n">remote_folder</span>
</span></span><span class="line"><span class="cl"><span class="n">或者</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="n">local_folder</span> <span class="n">remote_ip</span><span class="p">:</span><span class="n">remote_folder</span>
</span></span></code></pre></div><p>‍</p>
<p>从远程复制到本地：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">scp</span> <span class="n">root</span><span class="nd">@xiaoxiaoming.xyz</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">others</span><span class="o">/</span><span class="n">music</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">space</span><span class="o">/</span><span class="n">music</span><span class="o">/</span><span class="mf">1.</span><span class="n">mp3</span>
</span></span><span class="line"><span class="cl"><span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="n">xiaoxiaoming</span><span class="o">.</span><span class="n">xyz</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">others</span><span class="o">/</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">space</span><span class="o">/</span><span class="n">music</span><span class="o">/</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h2 id="软件">
    <a href="#%e8%bd%af%e4%bb%b6" class="header-anchor">#</a>
    软件
</h2><p>‍</p>
<h3 id="类型">
    <a href="#%e7%b1%bb%e5%9e%8b" class="header-anchor">#</a>
    类型
</h3><p>‍</p>
<h4 id="源码包">
    <a href="#%e6%ba%90%e7%a0%81%e5%8c%85" class="header-anchor">#</a>
    源码包
</h4><p>‍</p>
<p>优点：<br>
   开源：如果有足够能力，可以修改源代码<br>
   可以自由选择所需的功能<br>
   软件是编译安装，所以更加适合自己的系统，更加稳定也效率高<br>
   卸载方便：直接删除文件夹</p>
<p>缺点：<br>
   安装过程步骤较多，尤其是安装较大的软件集合（如：LAMP 环境搭建），容易出现拼写<br>
   错误<br>
   编译时间较长，安装比二进制安装时间长<br>
   因为是编译安装，安装过程中一旦报错新手很难解决</p>
<h4 id="rpm-包">
    <a href="#rpm-%e5%8c%85" class="header-anchor">#</a>
    rpm 包
</h4><p>二进制包：与源代码区别就是源代码包经过编译成为机器能直接识别的二进制包</p>
<p>优点：<br>
   包管理系统简单，只需要几个命令就可以实现包的安装、升级、查询和卸载<br>
   安装速度比源码包快</p>
<p>缺点：<br>
   经过编译，不可以看到源代码<br>
   功能选择不如源代包灵活<br>
   依赖性</p>
<p>‍</p>
<h4 id="依赖性">
    <a href="#%e4%be%9d%e8%b5%96%e6%80%a7" class="header-anchor">#</a>
    依赖性
</h4><p><a class="link" href="http://www.rpmfind.net/"  target="_blank" rel="noopener"
    >查询依赖（www.rpmfind.net）</a></p>
<p>‍</p>
<p>默认安装位置</p>
<p>‍</p>
<p>‍</p>
<h3 id="管理">
    <a href="#%e7%ae%a1%e7%90%86" class="header-anchor">#</a>
    管理
</h3><p>‍</p>
<h4 id="依赖性问题">
    <a href="#%e4%be%9d%e8%b5%96%e6%80%a7%e9%97%ae%e9%a2%98" class="header-anchor">#</a>
    依赖性问题
</h4><p>推荐下载低版本的</p>
<p>‍</p>
<p>‍</p>
<h4 id="查询软件是否安装">
    <a href="#%e6%9f%a5%e8%af%a2%e8%bd%af%e4%bb%b6%e6%98%af%e5%90%a6%e5%ae%89%e8%a3%85" class="header-anchor">#</a>
    查询软件是否安装
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">使用</span><span class="err">：</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">rpm</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="n">包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">选项</span><span class="err">：</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="o">-</span><span class="n">q</span><span class="err">（</span><span class="n">query</span><span class="err">）</span><span class="w">			</span><span class="n">查询</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="o">-</span><span class="n">a</span><span class="err">（</span><span class="n">all</span><span class="err">）</span><span class="w">			</span><span class="n">所有</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h3 id="yum">
    <a href="#yum" class="header-anchor">#</a>
    YUM
</h3><p>小黄狗</p>
<p>yum（ Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 SUSE 中的 Shell 前端软件包管理器。</p>
<p>基于 RPM 包管理，能够从指定的<strong>服务器(YUM 服务器, 也就是软件集合, 有软件包索引和依赖关系数据)</strong></p>
<p>自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。</p>
<p>yum 提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<p>方便便捷，<strong>依赖自动解决(不用自己去配了)</strong></p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="管理-1">
    <a href="#%e7%ae%a1%e7%90%86-1" class="header-anchor">#</a>
    管理
</h4><p>‍</p>
<p>‍</p>
<h5 id="查询可用软件列表">
    <a href="#%e6%9f%a5%e8%af%a2%e5%8f%af%e7%94%a8%e8%bd%af%e4%bb%b6%e5%88%97%e8%a1%a8" class="header-anchor">#</a>
    查询可用软件列表
</h5><p>‍</p>
<p>​​yum list</p>
<p>yum search 关键字</p>
<p>‍</p>
<p>‍</p>
<h5 id="更新">
    <a href="#%e6%9b%b4%e6%96%b0" class="header-anchor">#</a>
    更新
</h5><p>国内 yum 源</p>
<p>‍</p>
<p>网易（163）yum 源是国内最好的 yum 源之一 ，无论是速度还是软件版本，都非常的不错。</p>
<p>将 yum 源设置为 163 yum，可以提升软件包安装和更新的速度，同时避免一些常见软件版本无法找到。</p>
<p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">首先备份</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">yum</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">CentOS</span><span class="o">-</span><span class="n">Base</span><span class="o">.</span><span class="n">repo</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">mv</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">yum</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">CentOS</span><span class="o">-</span><span class="n">Base</span><span class="o">.</span><span class="n">repo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">yum</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">CentOS</span><span class="o">-</span><span class="n">Base</span><span class="o">.</span><span class="n">repo</span><span class="o">.</span><span class="n">backup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">下载对应版本</span> <span class="n">repo</span> <span class="n">文件</span><span class="p">,</span> <span class="n">放入</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">yum</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">d</span><span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="n">CentOS7</span> <span class="err">：</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">mirrors</span><span class="mf">.163</span><span class="o">.</span><span class="n">com</span><span class="o">/.</span><span class="n">help</span><span class="o">/</span><span class="n">CentOS7</span><span class="o">-</span><span class="n">Base</span><span class="o">-</span><span class="mf">163.</span><span class="n">repo</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">mirrors</span><span class="mf">.163</span><span class="o">.</span><span class="n">com</span><span class="o">/.</span><span class="n">help</span><span class="o">/</span><span class="n">CentOS7</span><span class="o">-</span><span class="n">Base</span><span class="o">-</span><span class="mf">163.</span><span class="n">repo</span>
</span></span><span class="line"><span class="cl"><span class="n">mv</span> <span class="n">CentOS7</span><span class="o">-</span><span class="n">Base</span><span class="o">-</span><span class="mf">163.</span><span class="n">repo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">yum</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">CentOS</span><span class="o">-</span><span class="n">Base</span><span class="o">.</span><span class="n">repo</span>
</span></span></code></pre></div><p>‍</p>
<p>运行以下命令生成缓存</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">yum</span> <span class="n">clean</span> <span class="nb">all</span>
</span></span><span class="line"><span class="cl"><span class="n">yum</span> <span class="n">makecache</span>
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p>除了网易之外，国内还有其他不错的 yum 源，比如中科大和搜狐。</p>
<p>中科大的 yum 源，安装方法查看：https://lug.ustc.edu.cn/wiki/mirrors/help/centos<br>
sohu 的 yum 源安装方法查看: <a class="link" href="http://mirrors.sohu.com/help/centos.html"  target="_blank" rel="noopener"
    >http://mirrors.sohu.com/help/centos.html</a></p>
<p>‍</p>
<p>优先选择哪个 YUM 源?(选做)</p>
<p>‍</p>
<p>‍</p>
<h4 id="命令">
    <a href="#%e5%91%bd%e4%bb%a4" class="header-anchor">#</a>
    命令
</h4><p>‍</p>
<h5 id="yum-1">
    <a href="#yum-1" class="header-anchor">#</a>
    yum
</h5><p>‍</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">yum</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="p">[</span><span class="n">package</span> <span class="o">...</span><span class="p">]</span>
</span></span></code></pre></div><p>‍</p>
<ul>
<li>options：可选，选项包括-h（帮助），-y（当安装过程提示选择全部为&quot;yes&rdquo;），-q（不显示安装的过程）等<br>
等。</li>
<li>command：要进行的操作。</li>
<li>package：操作的对象。</li>
</ul>
<p>‍</p>
<p>‍</p>
<p>实例：</p>
<p>‍</p>
<ul>
<li>
<p>列出所有可更新的软件清单命令： yum check-update</p>
</li>
<li>
<p>更新所有软件命令： yum update</p>
</li>
<li>
<p>仅安装指定的软件命令： yum install &lt;package_name&gt;</p>
</li>
<li>
<p>仅更新指定的软件命令： yum update &lt;package_name&gt;</p>
</li>
<li>
<p>显示包信息： yum info &lt;package_name&gt;</p>
</li>
<li>
<p>列出所有可安裝的软件清单命令： yum list</p>
</li>
<li>
<p>删除软件包命令： yum remove &lt;package_name&gt; (会同时卸载依赖)</p>
</li>
<li>
<p>查找软件包 命令： yum search <keyword></p>
</li>
<li>
<p>清除缓存命令:</p>
<p>yum clean packages: 清除缓存目录下的软件包<br>
yum clean headers: 清除缓存目录下的 headers<br>
yum clean oldheaders: 清除缓存目录下旧的 headers<br>
yum clean, yum clean all (= yum clean packages; yum clean oldheaders) :清除缓存目录下的软件包及旧的 headers</p>
</li>
</ul>
<p>‍</p>
<h5 id="安装">
    <a href="#%e5%ae%89%e8%a3%85" class="header-anchor">#</a>
    安装
</h5><p>==yum 会自动安装依赖，很方便==</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">yum</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">选项</span><span class="err">：</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">install</span><span class="w">				</span><span class="n">安装</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="o">-</span><span class="n">y</span><span class="w">					</span><span class="n">自动回答yes</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<h5 id="升级">
    <a href="#%e5%8d%87%e7%ba%a7" class="header-anchor">#</a>
    升级
</h5><p>此时注意如果不加包名：会出现把所有软件包都升级包括 Linux 内核，但是 Linux 升级完成后需要在本地进行配置，如果是远程服务器管理的话，你会出现==服务器永远启动不了==</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">yum</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">updata</span><span class="w"> </span><span class="n">包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">选项</span><span class="err">：</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">updata</span><span class="w">				</span><span class="n">升级</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="o">-</span><span class="n">y</span><span class="w">					</span><span class="n">自动回答yes</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h5 id="卸载">
    <a href="#%e5%8d%b8%e8%bd%bd" class="header-anchor">#</a>
    卸载
</h5><p>==yum 卸载会把依赖也卸载，要注意==</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">yum</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">包名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">选项</span><span class="err">：</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">remove</span><span class="w">				</span><span class="n">卸载</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="o">-</span><span class="n">y</span><span class="w">					</span><span class="n">自动回答yes</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="rpm">
    <a href="#rpm" class="header-anchor">#</a>
    RPM
</h3><p>Red Hat 公司随 Redhat Linux 推出了一个软件包管理器，通过它能够更加轻松容易地实现软件的安装</p>
<p>可以看到 <code>软件名-版本号-适应硬件架构</code>​</p>
<p>‍</p>
<ul>
<li>noarch 适合任何版本</li>
<li>X86/64</li>
</ul>
<p>‍</p>
<p>‍</p>
<p>RPM 默认安装路径：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>RPM 包默认安装路径</th>
<th>文件含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc</td>
<td>配置文件安装目录</td>
</tr>
<tr>
<td>/usr/bin</td>
<td>可执行的命令安装目录</td>
</tr>
<tr>
<td>/usr/lib</td>
<td>程序所使用的函数库保存位置</td>
</tr>
<tr>
<td>/usr/share/doc</td>
<td>基本的软件使用手册保存位置</td>
</tr>
<tr>
<td>usr/share/man</td>
<td>帮助文件保存位置</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<h4 id="管理-2">
    <a href="#%e7%ae%a1%e7%90%86-2" class="header-anchor">#</a>
    管理
</h4><p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="命令-1">
    <a href="#%e5%91%bd%e4%bb%a4-1" class="header-anchor">#</a>
    命令
</h4><p>‍</p>
<ul>
<li>rpm -ivh &lt;rpm 包名&gt; 安装软件</li>
<li>rpm -e &lt;rpm 包名&gt; 卸载安装</li>
<li>rpm -qi &lt;rpm 包名&gt; 显示软件安装信息</li>
<li>rpm -qa | grep xxx 查询软件是否安装（包括相关依赖）</li>
<li>rpm -Uvh &lt;rpm 包名&gt; 升级一个 rpm</li>
</ul>
<p>‍</p>
<p>具体参数详解：</p>
<ul>
<li>
<p>-i, &ndash;install 安装包</p>
</li>
<li>
<p>-v, &ndash;verbose 列出更多详细信息，<strong>安装进度</strong></p>
</li>
<li>
<p>-h, &ndash;hash 安装时列出 hash 标记 (与 -v 连用)</p>
</li>
<li>
<p>-e, &ndash;erase 卸载安装包</p>
</li>
<li>
<p>-U, &ndash;upgrade=+ 升级包</p>
<ul>
<li>&ndash;replacepkge 无论软件包是否已被安装，都强行安装软件包</li>
<li>&ndash;test 安装测试，并不实际安装</li>
<li>&ndash;nodeps 忽略软件包的依赖关系强行安装(其他也可用)</li>
<li>&ndash;force 忽略软件包及文件的冲突</li>
</ul>
</li>
<li>
<p>-q, &ndash;query 查询</p>
<ul>
<li>-a, &ndash;all 查询/校验所有的安装包</li>
<li>-p, &ndash;package 查询/校验一个安装文件</li>
<li>-l, &ndash;list 列出安装文件</li>
<li>-d, &ndash;docfiles 列出所有文档文件</li>
<li>-f, &ndash;file 查询/校验安装包中所包含的文件</li>
</ul>
</li>
</ul>
<p>‍</p>
<p>‍</p>
<h3 id="压缩包">
    <a href="#%e5%8e%8b%e7%bc%a9%e5%8c%85" class="header-anchor">#</a>
    压缩包
</h3><p>‍</p>
<p>‍</p>
<h4 id="管理-3">
    <a href="#%e7%ae%a1%e7%90%86-3" class="header-anchor">#</a>
    管理
</h4><p>‍</p>
<h5 id="解压后直接使用">
    <a href="#%e8%a7%a3%e5%8e%8b%e5%90%8e%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8" class="header-anchor">#</a>
    解压后直接使用
</h5><p>解压完最好先看 README.md</p>
<p>使用对应压缩命令，把软件解压后直接使用</p>
<p>‍</p>
<h4 id="命令-2">
    <a href="#%e5%91%bd%e4%bb%a4-2" class="header-anchor">#</a>
    命令
</h4><p>‍</p>
<h3 id="示例">
    <a href="#%e7%a4%ba%e4%be%8b" class="header-anchor">#</a>
    示例
</h3><p>‍</p>
<p>安装源码包前一定要有==gcc 编译器==<br>
阅读下面 yum 安装 gcc 很方便。<br>
一起输入命令，回车执行命令</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt;1
</span></span><span class="line"><span class="cl">.tar压缩格式
</span></span><span class="line"><span class="cl">	压缩：
</span></span><span class="line"><span class="cl">	tar 选项[-zcf] [压缩后文件名] [目录]
</span></span><span class="line"><span class="cl">		-c					打包
</span></span><span class="line"><span class="cl">		-v					显示详细信息
</span></span><span class="line"><span class="cl">		-f					指定文件名
</span></span><span class="line"><span class="cl">		-z					打包同时压缩
</span></span><span class="line"><span class="cl">	解压：
</span></span><span class="line"><span class="cl">	tar -zxvf 包名
</span></span><span class="line"><span class="cl">		-x					解包
</span></span><span class="line"><span class="cl">		-v					显示详细信息
</span></span><span class="line"><span class="cl">		-f					指定解压文件
</span></span><span class="line"><span class="cl">		-z					解压缩
</span></span><span class="line"><span class="cl">&gt;2
</span></span><span class="line"><span class="cl">.zip压缩格式
</span></span><span class="line"><span class="cl">	压缩：
</span></span><span class="line"><span class="cl">	zip 选项[-r] [压缩后文件名] [文件或目录]
</span></span><span class="line"><span class="cl">		-r					压缩目录
</span></span><span class="line"><span class="cl">	解压：
</span></span><span class="line"><span class="cl">	基本格式：unzip [选项] file[.zip]
</span></span><span class="line"><span class="cl">　　-Z　　　　　　　　以形如 ls -l 的格式显示目标文件内容
</span></span><span class="line"><span class="cl">　　-Z1　　　　　　　 仅显示压缩文件内容的文件名
</span></span><span class="line"><span class="cl">　　-l　　　　　　　　显示压缩文件中包括时间、占用空间和文件名等信息
</span></span><span class="line"><span class="cl">　　-t　　　　　　　　在内存中解压文件并进行文件的完整性校验(CRC校验)
</span></span><span class="line"><span class="cl">　　-f　　　　　　　　将磁盘上已经存在且内容新于对应磁盘文件的压缩内容解压出来
</span></span><span class="line"><span class="cl">　　-n　　　　　　　　解压缩时不覆盖已存在的文件(而是跳过)
</span></span><span class="line"><span class="cl">　　-q　　　　　　　　安静模式，仅解压缩而不输出详细信息
</span></span><span class="line"><span class="cl">　　-d dir　　　　　 将文件解压至dir指定的文件夹中
</span></span><span class="line"><span class="cl">&gt;3
</span></span><span class="line"><span class="cl">.bz2压缩格式
</span></span><span class="line"><span class="cl">	压缩：
</span></span><span class="line"><span class="cl">	bzip2 选项[-k] [文件]
</span></span><span class="line"><span class="cl">		-k						产生压缩文件后保留原文件
</span></span><span class="line"><span class="cl">	解压：
</span></span><span class="line"><span class="cl">	bzip2 选项[-k] [文件]
</span></span><span class="line"><span class="cl">	指令选项：(默认功能为压缩)
</span></span><span class="line"><span class="cl">		-k						产生压缩文件后
</span></span><span class="line"><span class="cl">		-c						将输出写至标准输出
</span></span><span class="line"><span class="cl">		-d						进行解压操作
</span></span><span class="line"><span class="cl">		-v						输出压缩/解压的文件名和压缩比等信息
</span></span><span class="line"><span class="cl">		-k						在压缩/解压过程中保留原文件
</span></span><span class="line"><span class="cl">		-digit					digit部分为数字(1-9)，代表压缩速度，digit越小，
</span></span><span class="line"><span class="cl">								则压缩速度越快，但压缩效果越差，digit越大，
</span></span><span class="line"><span class="cl">								则压缩速度越慢，压缩效果越好。默认为6.
</span></span><span class="line"><span class="cl">&gt;4
</span></span><span class="line"><span class="cl">.gz压缩格式
</span></span><span class="line"><span class="cl">基础格式: gzip [Options] file1 file2 file3
</span></span><span class="line"><span class="cl">　　指令选项：(默认功能为压缩)
</span></span><span class="line"><span class="cl">　　-c							将输出写至标准输出，并保持原文件不变
</span></span><span class="line"><span class="cl">　　-d							进行解压操作
</span></span><span class="line"><span class="cl">　　-v							输出压缩/解压的文件名和压缩比等信息
</span></span><span class="line"><span class="cl">　　-digit						digit部分为数字(1-9)，代表压缩速度，digit越小，
</span></span><span class="line"><span class="cl">　　								则压缩速度越快，但压缩效果越差，
</span></span><span class="line"><span class="cl">　　								digit越大，则压缩速度越慢，压缩效果越好。
</span></span><span class="line"><span class="cl">　　								默认为6.
</span></span></code></pre></div><p>‍</p>
<p>‍</p>
<h4 id="idea-安装-hw">
    <a href="#idea-%e5%ae%89%e8%a3%85-hw" class="header-anchor">#</a>
    IDEA 安装 HW
</h4><p>‍</p>
<p>压缩包或可执行文件安装</p>
<p>例如安装压缩包: <code>idea.tar.gz</code>​ 时候的操作</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">idea</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="o">-</span><span class="n">zxvf</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">idea</span><span class="p">.</span><span class="na">tar</span><span class="p">.</span><span class="na">gz</span><span class="w"> </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">idea</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>到/opt/idea 启动!</p>
<p>​<code>./idea.sh</code>​</p>
<p>‍</p>
<p>‍</p>
<p>==配置 IDEA 环境变量==</p>
<p>目的是无论终端在哪个工作目录，都可以通过./idea.sh 指令启动 IDEA，不用进入到 IDEA 的环境目录了。</p>
<p>我们先假设我们解压后的目录为 idea-IC-213.6777.52（这个文件名与你下载的 IDEA 版本有关系，可能跟我的不一致，自行替换为自己的目录），查看这个解压目录名称的指令为：</p>
<p>​<code>ls /opt/idea</code>​</p>
<p>‍</p>
<p>idea-IU-232.9921.47</p>
<p>记录下这个文件名，然后将其添加至环境变量中：</p>
<p>我们通过 vim 指令对环境变量文件进行编辑：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">vim</span><span class="w"> </span><span class="o">~/</span><span class="p">.</span><span class="na">bashrc</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>然后将如下的内容添加至<code>~/.bashrc</code>​ 文件的最后一行（ <strong>！！！注意替换掉对应的目录名！！！</strong> ）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">export</span><span class="w"> </span><span class="n">IDEA_HOME</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">idea</span><span class="o">/</span><span class="n">idea</span><span class="o">-</span><span class="n">IU</span><span class="o">-</span><span class="n">232</span><span class="p">.</span><span class="na">9921</span><span class="p">.</span><span class="na">47</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">PATH</span><span class="o">=</span><span class="p">:</span><span class="n">$PATH</span><span class="p">:</span><span class="n">$</span><span class="p">{</span><span class="n">IDEA_HOME</span><span class="p">}</span><span class="o">/</span><span class="n">bin</span><span class="w">
</span></span></span></code></pre></div><p>‍</p>
<p>通过<code>:wq</code>​ 进行保存即可</p>
<p>接着我们让系统重新加载我们修改好的环境变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">source</span><span class="w"> </span><span class="o">~/</span><span class="p">.</span><span class="na">bashrc</span><span class="w">
</span></span></span></code></pre></div><p>在任意目录下输入<code>idea.sh</code>​ 启动 IDEA 图形化界面了</p>
<p>‍</p>
<p>看来 Idea 需要跟随终端进行啊</p>
<p>‍</p>
<h2 id="vim">
    <a href="#vim" class="header-anchor">#</a>
    VIM
</h2><p>‍</p>
<p>‍</p>
<h3 id="注意">
    <a href="#%e6%b3%a8%e6%84%8f" class="header-anchor">#</a>
    注意
</h3><p>惊叹号 (!) 常常具有『强制』的意思</p>
<p>首先，不要相信 vim 是地表最强编辑器之类的鬼话。vim 在控制台应用里有一定应用，但其产生的 swp 文件可能造成信息泄露，所以不管是在开发环境还是在生产环境大量使用 vim 都是强烈不建议的，投入大量时间研究其插件体系也是极大的浪费。</p>
<p>‍</p>
<p>‍</p>
<h3 id="模式">
    <a href="#%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    模式
</h3><p>‍</p>
<p>命令模式 command-mode 用于输入指令，如：保存、运行、切换标签、切割屏幕等</p>
<p>插入模式 insert-mode 也即编辑模式，用于编辑文本</p>
<p>可视模式 visual-mode 相当于高亮选取文本后的正常模式</p>
<p>正常模式 normal-mode 用于查看文本，也可复制、粘贴、撤销、重做等, 也可称为底线命令模式（Last line mode）</p>
<p>‍</p>
<p>‍</p>
<p><strong>命令</strong></p>
<p>‍</p>
<p>用户刚刚启动 vi/vim，便进入了命令模式。 任何时候，不管用户处于何种模式，只要按一下 ESC 键，即可使 Vi 进入命令模式；</p>
<p>此状态下敲击键盘动作会被 Vim 识别为命令，输入 : 可切换到底线命令模式，以在最底一行输入命令。<br>
若想要编辑文本：按下 i，切换到输入模式</p>
<p>‍</p>
<p><strong>输入</strong></p>
<p>‍</p>
<p>在命令模式下输入插入命令 i、附加命令 a 、打开命令 o、修改命令 c、取代命令 r 或替换命令 s 都可以进入文本输入模式。</p>
<p>在该模式下，用户输入的任何字符都被 Vi 当做文件内容保存起来，并将其显示在屏幕上。在文本输入过程中，若想回到命令模式下，按键 ESC 即可。</p>
<p>‍</p>
<p><strong>底行</strong></p>
<p>‍</p>
<p>在命令模式下按下:（英文冒号）就进入了底行命令模式。</p>
<p>‍</p>
<p>==按:冒号即可进入 last line mode==</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">:</span><span class="nb">set</span> <span class="n">nu</span>     <span class="n">列出行号</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="nb">set</span> <span class="n">nonu</span>   <span class="n">取消行号</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="c1">#7     跳到文件中的第7行</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="n">keyword</span> <span class="n">查找字符</span>  <span class="n">按n向下</span>
</span></span><span class="line"><span class="cl"><span class="err">?</span><span class="n">keyword</span> <span class="n">查找字符</span>  <span class="n">按N向下</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="o">/</span><span class="n">word1</span><span class="o">/</span><span class="n">word2</span><span class="o">/</span><span class="n">gc</span>  <span class="n">替换指定范围单词</span><span class="err">，</span><span class="n">c表示提示</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">w</span> <span class="n">保存文件</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">w</span> <span class="n">filename</span> <span class="n">以指定的文件名另存</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span> <span class="n">w</span> <span class="p">[</span><span class="n">filename</span><span class="p">]</span> <span class="n">将</span> <span class="n">n1</span> <span class="n">到</span> <span class="n">n2行另存</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">r</span> <span class="p">[</span><span class="n">filename</span><span class="p">]</span>   <span class="n">读入另一个文件加到光标所在行后面</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="err">!</span> <span class="n">ls</span> <span class="o">/</span><span class="n">home</span>  <span class="n">在vi当中察看ls输出信息</span><span class="err">！</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">q</span>    <span class="n">离开vi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="n">wq</span> <span class="n">和</span> <span class="p">:</span><span class="n">ZZ</span> <span class="n">和</span> <span class="p">:</span><span class="n">x</span>     <span class="n">保存并退出vi</span>
</span></span><span class="line"><span class="cl"><span class="err">!</span>        <span class="n">强制执行</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="o">%</span> <span class="n">s</span><span class="o">/^/</span><span class="c1">#/g 来在全部内容的行首添加 # 号注释</span>
</span></span><span class="line"><span class="cl"><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span> <span class="n">s</span><span class="o">/^/</span><span class="c1">#/g 在1~10 行首添加 # 号注释</span>
</span></span></code></pre></div><p>‍</p>
<p>==从 command mode 进入 Insert mode==</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">按i在当前位置编辑</span>
</span></span><span class="line"><span class="cl"><span class="n">按a在当前位置的下一个字符编辑</span>
</span></span><span class="line"><span class="cl"><span class="n">按o插入新行</span><span class="err">，</span><span class="n">从行首开始编辑</span>
</span></span><span class="line"><span class="cl"><span class="n">按R</span><span class="p">(</span><span class="n">Replace</span> <span class="n">mode</span><span class="p">)</span><span class="err">：</span><span class="n">R会一直取代光标所在的文字</span><span class="err">，</span><span class="n">直到按下</span> <span class="n">ESC为止</span><span class="err">；</span><span class="p">(</span><span class="n">常用</span><span class="p">)</span>
</span></span></code></pre></div><p>‍</p>
<p>==按 ESC 键退回 command mode==</p>
<p>h←j↓k↑l→ 前面加数字移动指定的行数或字符数</p>
<p>‍</p>
<p>‍</p>
<h3 id="直属-1">
    <a href="#%e7%9b%b4%e5%b1%9e-1" class="header-anchor">#</a>
    直属
</h3><p>‍</p>
<p><strong>翻页 bu 上下整页，ud 上下半页</strong></p>
<p>ctrl+b：上移一页<br>
ctrl+f：下移一页<br>
ctrl+u：上移半页<br>
ctrl+d：下移半页</p>
<p>‍</p>
<p><strong>行定位</strong></p>
<p>Xgg 或 XG：定位第 X 行首字符<br>
G：移动到文章的最后<br>
7H:当前屏幕的第 7 行行首<br>
M：当前屏幕中间行的行首<br>
7L:当前屏幕的倒数第 7 行行首</p>
<p>‍</p>
<p><strong>当前行定位</strong></p>
<p>$：移动到光标所在行的“行尾”<br>
0 或^：移动到光标所在行的“行首”<br>
w：光标跳到下个单词的开头<br>
e：光标跳到下个单词的字尾<br>
b：光标回到上个单词的开头</p>
<p>‍</p>
<p><strong>编辑</strong></p>
<p>x：剪切当前字符<br>
7x：剪切从当前位置起 7 个字符<br>
大写的 X，表示从前面一个字符开始往前计算<br>
dd：剪切光标所在行。<br>
7dd：从光标所在行开始剪切 7 行</p>
<p>d7G 删除光标所在到第 7 行的所有数据</p>
<p>yw：复制当前单词<br>
7yw：复制从当前位置起 7 个单词<br>
yy：复制当前行<br>
6yy：从当前行起向下复制 6 行<br>
y7G 复制游标所在列到第 7 列的所有数据</p>
<p>p：粘贴</p>
<p>u：撤销<br>
ctrl+r：取消撤销<br>
cw：删除当前单词(从光标位置开始计算)，并进入插入模式<br>
c7w：删除 7 个单词并进入插入模式</p>
<p>‍</p>
<p><strong>多行编辑</strong></p>
<p>按 ctrl+V 进入块模式，上下键选中快，按大写 G 选择到末尾，上下左右键移动选择位置</p>
<p>按大写 I 进去编辑模式，输入要插入的字符，编辑完成按 ESC 退出</p>
<p>选中要替换的字符后，按 c 键全部会删除，然后输入要插入的字符，编辑完成按 ESC 退出</p>
<p>按 shift+V 可进入行模式，对指定行操作</p>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h3 id="文件">
    <a href="#%e6%96%87%e4%bb%b6" class="header-anchor">#</a>
    <strong>文件</strong>
</h3><p>‍</p>
<p>vim filename 打开或新建一个文件，并将光标置于第一行的首部<br>
vim -r filename 恢复上次 vim 打开时崩溃的文件<br>
vim -R filename 把指定的文件以只读方式放入 Vim 编辑器中<br>
vim + filename 打开文件，并将光标置于最后一行的首部</p>
<p>vi +n filename 打开文件，并将光标置于第 n 行的首部<br>
vi +/pattern filename 打幵文件，并将光标置于第一个与 pattern 匹配的位置<br>
vi -c command filename 在对文件进行编辑前，先执行指定的命令</p>
<p>‍</p>
<p>‍</p>
<h3 id="插入模式">
    <a href="#%e6%8f%92%e5%85%a5%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    插入模式
</h3><p>‍</p>
<p>i 在当前光标所在位置插入，光标后的文本相应向右移动<br>
I 在光标所在行的行首插入，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令</p>
<p>o 在光标所在行的下插入新的一行。光标停在空行首，等待输入文本<br>
O 在光标所在行的上插入新的一行。光标停在空行的行首，等待输入文本</p>
<p>a 在当前光标所在位置之后插入<br>
A 在光标所在行的行尾插入，相当于光标移动到行尾再执行 a 命令</p>
<p>esc 键 退出编辑模式</p>
<p>r 替换只会取代光标所在的那一个字符一次<br>
R 替换会一直取代光标所在的文字，直到按下 ESC 为止</p>
<p>‍</p>
<p>‍</p>
<h3 id="命令模式">
    <a href="#%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    命令模式
</h3><p>‍</p>
<h4 id="编辑命令">
    <a href="#%e7%bc%96%e8%be%91%e5%91%bd%e4%bb%a4" class="header-anchor">#</a>
    编辑命令
</h4><p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>↑ 或 ctr + p</td>
<td>上一条命令</td>
</tr>
<tr>
<td>↓ 或 ctr + n</td>
<td>下一条命令</td>
</tr>
<tr>
<td>ctr + b</td>
<td>移动到命令行开头</td>
</tr>
<tr>
<td>ctr + e</td>
<td>移动到命令行结尾</td>
</tr>
<tr>
<td>ctr + ←</td>
<td>向左一个单词</td>
</tr>
<tr>
<td>ctr + →</td>
<td>向右一个单词</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<h4 id="移动光标">
    <a href="#%e7%a7%bb%e5%8a%a8%e5%85%89%e6%a0%87" class="header-anchor">#</a>
    移动光标
</h4><p>‍</p>
<ul>
<li>
<p>h 或 向左箭头键(←) 光标向左移动一个字符</p>
<p>j 或 向下箭头键(↓) 光标向下移动一个字符</p>
<p>k 或 向上箭头键(↑) 光标向上移动一个字符</p>
<p>l 或 向右箭头键(→) 光标向右移动一个字符</p>
</li>
<li>
<p>向下移动 30 行 &ldquo;30j&rdquo; 或 &ldquo;30↓&rdquo; 的组合按键</p>
</li>
<li>
<p>[Ctrl] + [f] 屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)</p>
<p>[Ctrl] + [b] 屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)</p>
<p>[Ctrl] + [d] 屏幕『向下』移动半页</p>
<p>[Ctrl] + [u] 屏幕『向上』移动半页</p>
</li>
<li>
<p>​<kbd>+</kbd>​ 光标移动到非空格符的下一行<br>
​<kbd>-</kbd>​ 光标移动到非空格符的上一行<br>
n 表示空格光标向右移动这一行的 n 个字符</p>
</li>
<li>
<p>0 或功能键[Home] 这是数字『 0 』：移动到这一行的最前面字符处 (常用)</p>
<p>$ 或功能键[End] 移动到这一行的最后面字符处(常用)</p>
</li>
<li>
<p>H 光标移动到这个屏幕的最上方那一行的第一个字符<br>
M 光标移动到这个屏幕的中央那一行的第一个字符<br>
L 光标移动到这个屏幕的最下方那一行的第一个字符<br>
G 移动到这个文档的最后一行(常用)</p>
</li>
<li>
<p>nG n 为数字。移动到这个文件的第 n 行(可配合 :set nu)</p>
<p>gg 移动到这个文档的第一行，相当于 1G</p>
<p>n n 为数字。光标向下移动 n 行(常用)</p>
</li>
</ul>
<p>‍</p>
<p>jkhl 基本上下左右<br>
gg 光标移动到文档首行<br>
G 光标移动到文档尾行</p>
<p>‍</p>
<p>^或* 光标移动到行首第一个非空字符<br>
home 键或 0 或者 g0 光标移动到行首第一个字符<br>
g* 光标移动到行尾最后一个非空字符<br>
end 或或者 g 或者 g 或者 g 光标移动到行尾最后一个字符<br>
gm 光标移动到当前行中间处</p>
<p>‍</p>
<p>b/B 光标向前移动一个单词（大写忽略/-等等特殊字符）<br>
w/W 光标向后移动一个单词（大写忽略/-等等特殊字符）<br>
e/E 移到单词结尾（大写忽略/-等等特殊字符）</p>
<p>‍</p>
<p>ctrl+b 或 pageUp 键 翻屏操作，向上翻<br>
ctrl+f 或 pageDn 键 翻屏操作，向下翻</p>
<p>‍</p>
<p>数字+G 快速将光标移动到指定行</p>
<p>`. 移动到上次编辑处</p>
<p>‍</p>
<p>数字+上下方向键 以当前光标为准，向上/下移动 n 行<br>
数字+左右方向键 以当前光标为准，向左/右移动 n 个字符</p>
<p>‍</p>
<p>H 移动到屏幕顶部<br>
M 移动到屏幕中间<br>
L 移动到屏幕尾部</p>
<p>‍</p>
<p>z+Enter 键 当前行在屏幕顶部<br>
z+ . 当前行在屏幕中间<br>
z+ - 当前行在屏幕底部</p>
<p>shift+6 光标移动到行首<br>
shift+4 光标移动到行尾</p>
<p>​<kbd>-</kbd>​ 移动到上一行第一个非空字符</p>
<p>​<kbd>+</kbd>​ 移动到下一行第一个非空字符</p>
<p>‍</p>
<p>) 向前移动一个句子<br>
( 向后移动一个句子<br>
} 向前移动一个段落<br>
{ 向前移动一个段落</p>
<p>‍</p>
<p>count l 移动到 count 列<br>
counth 向左移动 count 字符<br>
countl 向右移动 count 字符<br>
countgo 移动到 count 字符</p>
<p>‍</p>
<p>‍</p>
<h4 id="选中内容">
    <a href="#%e9%80%89%e4%b8%ad%e5%86%85%e5%ae%b9" class="header-anchor">#</a>
    选中内容
</h4><div class="table-wrapper"><table>
<thead>
<tr>
<th>v</th>
<th>进行字符选中</th>
</tr>
</thead>
<tbody>
<tr>
<td>V 或 shift+v</td>
<td>进行行选中</td>
</tr>
<tr>
<td>gv</td>
<td>选中上一次选择的内容</td>
</tr>
<tr>
<td>o</td>
<td>光标移动到选中内容另一处结尾</td>
</tr>
<tr>
<td>O</td>
<td>光标移动到选中内容另一处角落</td>
</tr>
<tr>
<td>ctr + V</td>
<td>进行块选中</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="字符转换">
    <a href="#%e5%ad%97%e7%ac%a6%e8%bd%ac%e6%8d%a2" class="header-anchor">#</a>
    字符转换
</h4><p>‍</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>~</th>
<th style="text-align:center">转换大小写</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td style="text-align:center">变成小写</td>
</tr>
<tr>
<td>U</td>
<td style="text-align:center">变成大写</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<p>‍</p>
<h4 id="删除">
    <a href="#%e5%88%a0%e9%99%a4" class="header-anchor">#</a>
    删除
</h4><p>‍</p>
<ul>
<li>
<p>x, X x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace])</p>
<p>nx n 为数字，连续向后删除 n 个字符。例如 10x 表示连续删除 10 个字符</p>
</li>
<li>
<p>dd 删除光标所在的一整行(常用)</p>
<p>D 删除光标位置到行尾的内容，删除之后，下一行不上移</p>
<p>ndd n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除 20 行</p>
</li>
<li>
<p>d1G 删除光标所在行到首行的所有数据</p>
<p>dG 删除光标所在行到最后一行的所有数据</p>
<p>d$ 删除光标所在位置到该行的最后一个字符</p>
<p>d0 删除光标所在位置到该行的最前面一个字符</p>
</li>
<li>
<p>:a1,a2d 删除从 a1 行到 a2 行的文本内容</p>
</li>
</ul>
<p>‍</p>
<p>‍</p>
<h4 id="撤销复原重复">
    <a href="#%e6%92%a4%e9%94%80%e5%a4%8d%e5%8e%9f%e9%87%8d%e5%a4%8d" class="header-anchor">#</a>
    撤销&amp;复原&amp;重复
</h4><p>‍</p>
<ul>
<li>u 撤销操作，相对于普通编辑器里面的 ctrl+z</li>
<li>Ctrl+r 恢复操作，相对于普通编辑器里面的 ctrl+y</li>
<li>. 就是小数点！可重复前一个动作</li>
<li>U(大写) 撤销所有编辑</li>
</ul>
<p>‍</p>
<p>‍</p>
<h4 id="剪切复制粘贴">
    <a href="#%e5%89%aa%e5%88%87%e5%a4%8d%e5%88%b6%e7%b2%98%e8%b4%b4" class="header-anchor">#</a>
    剪切&amp;复制&amp;粘贴
</h4><p>‍</p>
<ul>
<li>yy 复制光标所在行<br>
nyy n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行</li>
<li>y1G 复制光标所在行到第一行的所有数据<br>
yG 复制光标所在行到最后一行的所有数据<br>
y0 复制光标所在的那个字符到该行行首的所有数据<br>
y$ 复制光标所在的那个字符到该行行尾的所有数据</li>
<li>p, P p 为将已复制的数据在光标下一行贴上，P 则为贴在光标上一行！</li>
<li>dd 剪切光标所在行<br>
数字+dd 以光标所在行为准（包含当前行），向下剪切指定行数<br>
D 剪切光标所在行</li>
</ul>
<p>‍</p>
<p>‍</p>
<p><strong>合成行</strong></p>
<p>‍</p>
<p>J: 将光标所在行与下一行的数据结合成同一行</p>
<p>‍</p>
<p>‍</p>
<p><strong>搜索</strong></p>
<p>‍</p>
<ul>
<li>
<p>/word 向光标之下寻找一个名称为 word 的字符串。</p>
<p>?word 向光标之上寻找一个字符串名称为 word 的字符串。</p>
</li>
<li>
<p>n 代表重复前一个搜寻的动作，根据前面输入的/word 还是?word 向下或向上搜索下一个匹配的字符串。</p>
<p>N 表示反向搜索，与 n 的搜索方向相反。</p>
</li>
</ul>
<p>‍</p>
<p>‍</p>
<p><strong>替换</strong></p>
<p>‍</p>
<p>:n1,n2s/word1/word2/g 在第 n1 与 n2 行之间寻找 word1 并替换为 word2</p>
<p>:1,$s/word1/word2/g $表示最后一行，%s 表示所有行。<br>
或<br>
:%s/word1/word2/g</p>
<p>g -&gt; gc gc 中的 c 表示取代前显示提示字符给用户确认 (confirm) ！</p>
<p>‍</p>
<p>‍</p>
<h3 id="末行模式">
    <a href="#%e6%9c%ab%e8%a1%8c%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    ==末行模式==
</h3><p>‍</p>
<p>‍</p>
<p>‍</p>
<h4 id="文件-1">
    <a href="#%e6%96%87%e4%bb%b6-1" class="header-anchor">#</a>
    文件
</h4><p>‍</p>
<p>:w 保存编辑数据<br>
:w! 若文件属性为『只读』时，强制写入该文件(和权限有关)</p>
<p>:q 离开<br>
:q! 若曾修改过文件，又不想储存，使用 ! 为强制离开不储存文件</p>
<p>:wq 储存后离开</p>
<p>:wq! 强制储存后离开</p>
<p>ZZ 若文件没有更动，则不储存离开，若文件已经被更动过，则储存后离开！</p>
<p>:w [filename] 另存为到 filename 文件<br>
:r [filename] 将另一个文件『filename』的数据加到光标所在行后面</p>
<p>x！ 保存文本，并退出 Vim 编辑器</p>
<p>:n1,n2 w [filename] 将 n1 到 n2 行的内容储存成 filename 这个文件。</p>
<p>:! command 暂时离开 vi 到指令行模式下执行 command 的显示结果！</p>
<p>:set nu 会在每一行的前缀显示该行的行号<br>
:set nonu 取 取消行号显示</p>
<p>查看当前已经打开的所有文件：<code>:files</code>​​(%a 表示激活状态，#表示上一个打开的文件)</p>
<p>切换到指定文件：<code>:open 文件名</code>​​</p>
<p>切换到上一个文(back previous)：<code>:bp</code>​​</p>
<p>切换到下一个文件(back next)：<code>:bn</code>​​</p>
<p>‍</p>
<p>‍</p>
<h4 id="查找">
    <a href="#%e6%9f%a5%e6%89%be" class="header-anchor">#</a>
    查找
</h4><p>“/关键词”</p>
<p>用<code>N</code>​、<code>n</code>​ 可以切换上下结果；输入<code>nohl</code>​，可以取消高亮</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>/abc</td>
<td>从光标所在位置<strong>向前查找</strong>字符串 abc</td>
</tr>
<tr>
<td>/^abc</td>
<td>查找以 abc 为行首的行</td>
</tr>
<tr>
<td>/abc$</td>
<td>查找以 abc 为行尾的行</td>
</tr>
<tr>
<td>?abc</td>
<td>从光标所在位置<strong>向后查找</strong>字符串 abc</td>
</tr>
<tr>
<td>n 或；</td>
<td>向同一方向重复上次的查找指令</td>
</tr>
<tr>
<td>N 或,</td>
<td>向相反方向重复上次的查找指定</td>
</tr>
</tbody>
</table></div>
<p>‍</p>
<h4 id="替换">
    <a href="#%e6%9b%bf%e6%8d%a2" class="header-anchor">#</a>
    替换
</h4><p>r 替换光标所在位置的字符<br>
R 从光标所在位置开始替换字符，其输入内容会覆盖掉后面等长的文本内容，按“Esc”可以结束</p>
<p>:s/a1/a2 替换当前光标所在行第一处符合条件的内容<br>
:s/a1/a2/g 替换当前光标所在行所有的 a1 都用 a2 替换<br>
:%s/a1/a2 替换所有行中，第一处符合条件的内容<br>
:%s/a1/a2/g 替换所有行中，所有符合条件的内容</p>
<p>:n1,n2 s/a1/a2 将文件中 n1 到 n2 行中第一处 a1 都用 a2 替换<br>
:n1,n2 s/a1/a2/g 将文件中 n1 到 n2 行中所有 a1 都用 a2 替换</p>
<p>‍</p>
<p>‍</p>
<h3 id="可视模式">
    <a href="#%e5%8f%af%e8%a7%86%e6%a8%a1%e5%bc%8f" class="header-anchor">#</a>
    可视模式
</h3><p>‍</p>
<p>可视模式下，选中的区域是由两个端点来界定的（一个在左上角，一个在右下角），在默认情况下只可以控制右下角的端点，而使用 o 按键则可以在左上角和右下角之间切换控制端点</p>
<p>‍</p>
<p>v 进入字符可视化模式： 文本选择是以字符为单位的。</p>
<p>V 进入行可视化模式： 文本选择是以行为单位的。</p>
<p>Ctrl+v 进入块可视化模式 ： 选择一个矩形内的文本。</p>
<p>‍</p>
<ul>
<li>
<p>A 在选定的部分后面插入内容<br>
I 在选定的部分前面插入内容<br>
d 删除选定的部分<br>
c 删除选定的部分并进入插入模式（有批量替换效果）<br>
r 把选定的部分全部替换为指定的单个字符</p>
</li>
<li>
<p><kbd>&gt;&gt;</kbd>​ 向右缩进一个单位，更适合行可视化模式</p>
</li>
<li>
<p><kbd>&lt;&lt;</kbd>​ 向左缩进一个单位，更适合行可视化模式</p>
</li>
<li>
<p>gu 选中区域转为小写<br>
gU 选中区域转为大写<br>
g~ 大小写互调</p>
</li>
</ul>
<p>‍</p>
<h3 id="拓展操作">
    <a href="#%e6%8b%93%e5%b1%95%e6%93%8d%e4%bd%9c" class="header-anchor">#</a>
    拓展操作
</h3><p>‍</p>
<h4 id="代码颜色显示">
    <a href="#%e4%bb%a3%e7%a0%81%e9%a2%9c%e8%89%b2%e6%98%be%e7%a4%ba" class="header-anchor">#</a>
    代码颜色显示
</h4><p>：syntax on/off</p>
<p>‍</p>
<h4 id="内置计算器">
    <a href="#%e5%86%85%e7%bd%ae%e8%ae%a1%e7%ae%97%e5%99%a8" class="header-anchor">#</a>
    内置计算器
</h4><p>a.进入编辑模式<br>
b.按“ctrl+r，光标变成引号，，输入=，光标转到最后一行<br>
c.输入需要计算的内容，按下 enter 后，计算结果回替代上一步中的引号，光标恢复</p>
<p>‍</p>
<h4 id="配置">
    <a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">#</a>
    配置
</h4><p>a.文件打开时，末行模式下输入的配置为临时配置，关闭文件后配置无效<br>
b.修改个人配置文件，可以永久保存个人配置（~/.vimrc，如果没有可以自行创建）<br>
c.修改全局配置文件，对每个用户生效（vim 自带，/etc/vimrc）</p>
<p>注：个人配置文件优先级更高，当个人配置和全局配置发生冲突时，系统以当前用户的个人配置文件为准</p>
<p>‍</p>
<h4 id="异常退出">
    <a href="#%e5%bc%82%e5%b8%b8%e9%80%80%e5%87%ba" class="header-anchor">#</a>
    异常退出
</h4><p>在编辑文件后，未正常保存退出时，会产生异常退出交换文件（.原文件名.swp）<br>
将交换文件删除后，再次打开文件时，无提示：“#rm -f .原文件名.swp”</p>
<p>‍</p>
<h4 id="别名机制">
    <a href="#%e5%88%ab%e5%90%8d%e6%9c%ba%e5%88%b6" class="header-anchor">#</a>
    别名机制
</h4><p><strong>自定义指令</strong></p>
<p>Linux 中，存在一个别名映射文件： ~/.bashrc<br>
修改文件内容，可以自定义指令，重新登录账号后生效</p>
<p>‍</p>
<h4 id="文件快捷方式-1">
    <a href="#%e6%96%87%e4%bb%b6%e5%bf%ab%e6%8d%b7%e6%96%b9%e5%bc%8f-1" class="header-anchor">#</a>
    文件快捷方式
</h4><p>对于深层文件，可以创建文件快捷方式，便于后续操作：#ln -s 源路径 新路径</p>
<p>‍</p>
<h4 id="退出方式">
    <a href="#%e9%80%80%e5%87%ba%e6%96%b9%e5%bc%8f" class="header-anchor">#</a>
    退出方式
</h4><p>（1）在 vim 中退出文件编辑模式，可以使用:q 或者:wq</p>
<p>（2）建议使用:x：使用效果等同于 wq，如果文件有改动则先保存后退出；但是如果文件没有做修改，会直接退出，不会修改文件更新时间，避免用户混淆文件的修改时间</p>
<p>‍</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            最后更新于 2024-03-27 10:11 CST
        </span>
    </section></footer>


    
</article>

    

    

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="SpadeKTLSG/SpadeKTLSG.github.io"
    data-repo-id="R_kgDOLz5uXQ"
    data-category="Announcements"
    data-category-id="DIC_kwDOLz5uXc4Ce_BV"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="1"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('1');
            } else {
                setGiscusTheme('1');
            }
        }
    })();
</script>

    

    <footer class="site-footer">

    <section class="copyright">
        &copy;
        
        2024 SpadeK
    </section>


    
    <section class="running-time">
        本博客已稳定运行
        <span id="runningdays" class="running-days"></span>
    </section>

    
    <section class="totalcount">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        发表了31篇文章 ·
        总计298.27k字
    </section>


    <section class="powerby">
        
            Powered by Blood, Sweat, and Tears
        
        <br/>使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.25.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>


</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<script>
    let s1 = '2024-4-27'; 
    s1 = new Date(s1.replace(/-/g, "/"));
    let s2 = new Date();
    let timeDifference = s2.getTime() - s1.getTime();

    let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
    let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));

    let result = days + "天" + hours + "小时" + minutes + "分钟";
    document.getElementById('runningdays').innerHTML = result;
</script>
    </body>
</html>
